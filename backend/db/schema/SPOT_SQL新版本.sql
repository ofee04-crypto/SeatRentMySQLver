--子桓 DB =================================
--Table: recRent, V_RentDetails
--Version Log: 2026/01/16

--C TABLE
CREATE TABLE--

--Test DATA
INSERT INTO--
VALUES--

--R
SELECT * FROM --

--D
DELETE --
DROP TABLE --
--==========================================






CREATE TABLE renting_Spot (
    spotId        INT IDENTITY(1,1) PRIMARY KEY,        -- 租借點編號
    spotCode      VARCHAR(30) NOT NULL UNIQUE,          -- 租借點主機代號
    spotName      NVARCHAR(100) NOT NULL,               -- 租借點位名稱
    spotAddress   NVARCHAR(200) NULL,                   -- 租借地址
    spotStatus     NVARCHAR(20) NOT NULL,                -- 租借點位狀況
    merchantId    INT NULL,                             -- 合作商家 ID
    createdAt     DATETIME2 NOT NULL 
                     DEFAULT SYSDATETIME(),              -- 設置時間
    updatedAt     DATETIME2 NOT NULL               -- 更新時間
                     DEFAULT SYSDATETIME(),
    latitude decimal(10,7),
     longitude decimal(10,7)
);



CREATE TABLE seats (
    seatsId      INT IDENTITY(1,1) PRIMARY KEY,        -- 設備編號
    seatsName    NVARCHAR(100) NOT NULL,                -- 設備名稱
    seatsType    NVARCHAR(50) NOT NULL,                 -- 設備類型
    seatsStatus  NVARCHAR(20) NOT NULL,                 -- 設備狀態
    spotId       INT NULL,                              -- 所屬租借點位
    updatedAt    DATETIME2 NOT NULL,                    -- 更新時間
    serialNumber VARCHAR(50) NULL,
    createdAt   DATETIME DEFAULT(GETDATE())

    CONSTRAINT FK_seats_spot FOREIGN KEY (spotId)    REFERENCES renting_Spot(spotId)
        ON UPDATE CASCADE
        ON DELETE SET NULL
);
--查看表結構
EXEC sp_help 'seats';
EXEC sp_help 'renting_Spot';
--R

select * from seats;
select * from renting_Spot;


--D
DELETE renting_Spot
WHERE  spotId <20
DELETE seats

DROP TABLE seats
DROP TABLE renting_Spot

--C DATA
-- 桃園市區域測試資料 (20筆)
INSERT INTO renting_Spot (spotCode, spotName, spotAddress, spotStatus, merchantId, latitude, longitude) VALUES
('TYN001', '桃園高鐵站', '桃園市中壢區高鐵北路一段6號', '營運中', NULL, 25.0133300, 121.2144300),
('TYN002', '中壢火車站', '桃園市中壢區中和路139號', '營運中', 101, 24.9537811, 121.2255764),
('TYN003', '桃園火車站', '桃園市桃園區萬壽路三段123號', '營運中', 102, 24.9898236, 121.3134382),
('TYN004', '內壢火車站', '桃園市中壢區中華路一段27號', '營運中', NULL, 24.9748600, 121.2673200),
('TYN005', '埔心火車站', '桃園市楊梅區永美路2號', '營運中', NULL, 24.9284000, 121.1810500),
('TYN006', '桃園市政府', '桃園市桃園區縣府路1號', '營運中', NULL, 24.9930115, 121.3015976),
('TYN007', '桃園展演中心', '桃園市桃園區中正路1188號', '營運中', 105, 25.0152016, 121.3009949),
('TYN008', '國立中央大學', '桃園市中壢區中大路300號', '營運中', NULL, 24.9682000, 121.1921200),
('TYN009', '元智大學', '桃園市中壢區遠東路135號', '營運中', NULL, 24.9715100, 121.2690300),
('TYN010', '長庚大學', '桃園市龜山區文化一路259號', '營運中', NULL, 25.0441500, 121.3857600),
('TYN011', '台茂購物中心', '桃園市蘆竹區南崁路一段112號', '營運中', 108, 25.0475311, 121.2926712),
('TYN012', '大江國際購物中心', '桃園市中壢區中園路二段501號', '營運中', 109, 25.0130692, 121.2335663),
('TYN013', '華泰名品城', '桃園市中壢區春德路189號', '營運中', 110, 25.0425301, 121.2148132),
('TYN014', '統領廣場', '桃園市桃園區中正路61號', '營運中', 111, 24.9902600, 121.3138800),
('TYN015', '中原夜市', '桃園市中壢區實踐路', '維護中', NULL, 24.9575900, 121.2393300),
('TYN016', '竹圍漁港', '桃園市大園區沙崙里1鄰10號', '營運中', NULL, 25.1118100, 121.2096300),
('TYN017', '石門水庫', '桃園市大溪區復興里環湖路一段68號', '營運中', NULL, 24.8118000, 121.2464000),
('TYN018', '小人國主題樂園', '桃園市龍潭區高原路891號', '營運中', NULL, 24.8315100, 121.1895600),
('TYN019', '桃園國際棒球場', '桃園市中壢區領航北路一段1號', '營運中', NULL, 25.0345000, 121.2036000),
('TYN020', '林口長庚紀念醫院', '桃園市龜山區復興街5號', '維護中', NULL, 25.0494400, 121.3713900);

-- 台北市區域測試資料 (20筆)
INSERT INTO renting_Spot (spotCode, spotName, spotAddress, spotStatus, merchantId, latitude, longitude) VALUES
('TPE001', '台北101', '台北市信義區信義路五段7號', '營運中', 201, 25.0339640, 121.5644720),
('TPE002', '國立故宮博物院', '台北市士林區至善路二段221號', '營運中', NULL, 25.1022200, 121.5484200),
('TPE003', '台北車站', '台北市中正區黎明里北平西路3號', '營運中', 202, 25.0477600, 121.5170900),
('TPE004', '西門紅樓', '台北市萬華區成都路10號', '營運中', NULL, 25.0423000, 121.5073600),
('TPE005', '總統府', '台北市中正區重慶南路一段122號', '營運中', NULL, 25.0403000, 121.5117200),
('TPE006', '中正紀念堂', '台北市中正區中山南路21號', '營運中', NULL, 25.0348200, 121.5219200),
('TPE007', '國立臺灣大學', '台北市大安區羅斯福路四段1號', '營運中', NULL, 25.0173500, 121.5397500),
('TPE008', '台北市立動物園', '台北市文山區新光路二段30號', '營運中', NULL, 24.9984900, 121.5810700),
('TPE009', '松山文創園區', '台北市信義區光復南路133號', '營運中', 205, 25.0436900, 121.5601500),
('TPE010', '士林夜市', '台北市士林區基河路101號', '營運中', NULL, 25.0877400, 121.5242400),
('TPE011', '台北市政府', '台北市信義區市府路1號', '營運中', NULL, 25.0375000, 121.5636100),
('TPE012', 'SOGO忠孝館', '台北市大安區忠孝東路四段45號', '營運中', 208, 25.0430200, 121.5445200),
('TPE013', '新光三越 台北信義新天地A8', '台北市信義區松高路12號', '營運中', 209, 25.0371300, 121.5663700),
('TPE014', '美麗華百樂園', '台北市中山區敬業三路20號', '營運中', 210, 25.0833900, 121.5562700),
('TPE015', '台北小巨蛋', '台北市松山區南京東路四段2號', '維護中', NULL, 25.0514100, 121.5531700),
('TPE016', '捷運大安森林公園站', '台北市大安區信義路三段100號', '營運中', NULL, 25.0326100, 121.5367500),
('TPE017', '捷運市政府站', '台北市信義區忠孝東路五段6號', '營運中', NULL, 25.0409000, 121.5645000),
('TPE018', '捷運中山站', '台北市大同區南京西路16號', '營運中', NULL, 25.0524400, 121.5204400),
('TPE019', '捷運東門站', '台北市中正區信義路二段166號', '營運中', NULL, 25.0330600, 121.5292400),
('TPE020', '南港展覽館1館', '台北市南港區經貿二路1號', '維護中', NULL, 25.0551800, 121.6154600);



