# å·¥å–®åœ–ç‰‡é™„ä»¶åŠŸèƒ½ - å‰ç«¯å¯¦ä½œèªªæ˜

## ğŸ“‹ ä¿®æ”¹/æ–°å¢æª”æ¡ˆæ¸…å–®

### âœ… ä¿®æ”¹æª”æ¡ˆï¼ˆ2 å€‹ï¼‰

1. **frontend/src/api/modules/maintenance.js**
   - æ–°å¢ `uploadTicketAttachments(ticketId, files, note)` - ä¸Šå‚³é™„ä»¶
   - æ–°å¢ `getTicketAttachments(ticketId)` - æŸ¥è©¢é™„ä»¶æ¸…å–®
   - æ–°å¢ `deleteTicketAttachment(attachmentId)` - åˆªé™¤é™„ä»¶
   - ä¸¦åœ¨ default export ä¸­åŠ å…¥é€™ä¸‰å€‹å‡½æ•¸

2. **frontend/src/views/maintenance/MtifForm.vue**
   - æ–°å¢åœ–ç‰‡é™„ä»¶ä¸Šå‚³å€å¡Šï¼ˆel-uploadï¼‰
   - æ–°å¢é™„ä»¶æ¸…å–®é¡¯ç¤ºèˆ‡ç®¡ç†åŠŸèƒ½
   - æ”¯æ´æ–°å¢/ç·¨è¼¯å…©ç¨®æ¨¡å¼çš„ä¸åŒæµç¨‹

---

## ğŸ¯ åŠŸèƒ½èªªæ˜

### A. API å°è£ï¼ˆmaintenance.jsï¼‰

#### 1. uploadTicketAttachments
```javascript
// ä¸Šå‚³å·¥å–®é™„ä»¶
uploadTicketAttachments(ticketId, files, note)
```
- **ticketId**: å·¥å–® ID
- **files**: File[] é™£åˆ—ï¼ˆå¾ input[type=file] å–å¾—ï¼‰
- **note**: å‚™è¨»ï¼ˆå¯é¸ï¼‰
- **å›å‚³**: Promise<{ data: AttachmentResponseDto[] }>

#### 2. getTicketAttachments
```javascript
// å–å¾—å·¥å–®çš„æ‰€æœ‰é™„ä»¶
getTicketAttachments(ticketId)
```
- **ticketId**: å·¥å–® ID
- **å›å‚³**: Promise<{ data: AttachmentResponseDto[] }>

#### 3. deleteTicketAttachment
```javascript
// åˆªé™¤é™„ä»¶ï¼ˆè»Ÿåˆªé™¤ï¼‰
deleteTicketAttachment(attachmentId)
```
- **attachmentId**: é™„ä»¶ ID
- **å›å‚³**: Promise<{ data: AttachmentResponseDto }>

---

### B. å‰ç«¯ UI åŠŸèƒ½ï¼ˆMtifForm.vueï¼‰

#### ğŸ“Œ æ–°å¢æ¨¡å¼æµç¨‹
1. ä½¿ç”¨è€…å¡«å¯«å·¥å–®è³‡è¨Š
2. **å¯é¸**ï¼šé¸æ“‡åœ–ç‰‡æª”æ¡ˆï¼ˆæš«å­˜æ–¼ `fileList`ï¼‰
3. å¡«å¯«å‚™è¨»ï¼ˆå¥—ç”¨åˆ°æ‰€æœ‰åœ–ç‰‡ï¼‰
4. é»æ“Šã€Œå»ºç«‹å·¥å–®ã€æŒ‰éˆ•
5. å¾Œç«¯å»ºç«‹å·¥å–®æˆåŠŸï¼Œå–å¾— `ticketId`
6. è‹¥æœ‰é¸æ“‡åœ–ç‰‡ï¼Œè‡ªå‹•å‘¼å« `uploadTicketAttachments` ä¸Šå‚³
7. è·³è½‰å›å·¥å–®åˆ—è¡¨é 

#### ğŸ“Œ ç·¨è¼¯æ¨¡å¼æµç¨‹
1. é€²å…¥ç·¨è¼¯é é¢ï¼Œè‡ªå‹•è¼‰å…¥æ—¢æœ‰é™„ä»¶æ¸…å–®
2. é¡¯ç¤ºå·²ä¸Šå‚³çš„é™„ä»¶ç¸®åœ–ã€æª”åã€æ™‚é–“ã€å¤§å°
3. **å¯è¿½åŠ ä¸Šå‚³**ï¼š
   - é¸æ“‡åœ–ç‰‡æª”æ¡ˆ
   - å¡«å¯«å‚™è¨»ï¼ˆå¯é¸ï¼‰
   - é»æ“Šã€Œç«‹å³ä¸Šå‚³ã€æŒ‰éˆ•
   - ä¸Šå‚³æˆåŠŸå¾Œè‡ªå‹•åˆ·æ–°æ¸…å–®
4. **å¯åˆªé™¤é™„ä»¶**ï¼š
   - é»æ“Šé™„ä»¶å³ä¸Šè§’çš„åˆªé™¤æŒ‰éˆ•
   - ç¢ºèªåˆªé™¤å¾Œï¼Œå¾Œç«¯è»Ÿåˆªé™¤ï¼ˆisActive=0ï¼‰
   - è‡ªå‹•åˆ·æ–°æ¸…å–®
5. **å¯é è¦½åœ–ç‰‡**ï¼š
   - é»æ“Šç¸®åœ–ï¼Œå½ˆå‡º Swal åœ–ç‰‡é è¦½è¦–çª—

---

## ğŸ”’ å‰ç«¯é©—è­‰è¦å‰‡

### æª”æ¡ˆé¡å‹é™åˆ¶
```javascript
const ALLOWED_IMAGE_TYPES = ['image/jpeg', 'image/png', 'image/webp']
```
- åªå…è¨± JPGã€PNGã€WEBP æ ¼å¼
- ä¸ç¬¦åˆæ ¼å¼æœƒå½ˆå‡º `ElMessage.error` æç¤º

### æª”æ¡ˆå¤§å°é™åˆ¶
```javascript
const MAX_FILE_SIZE = 5 * 1024 * 1024 // 5MB
```
- å–®å¼µåœ–ç‰‡æœ€å¤§ 5MB
- è¶…éæœƒå½ˆå‡ºéŒ¯èª¤æç¤º

### æ•¸é‡é™åˆ¶
```javascript
const MAX_FILE_COUNT = 5
```
- æ¯å€‹å·¥å–®æœ€å¤šä¸Šå‚³ 5 å¼µåœ–ç‰‡
- è¶…éæœƒå½ˆå‡ºéŒ¯èª¤æç¤º

---

## ğŸ¨ UI ç‰¹è‰²

### 1. Element Plus el-upload çµ„ä»¶
- `list-type="picture-card"` - å¡ç‰‡å¼é è¦½
- `accept="image/jpeg,image/png,image/webp"` - é™åˆ¶æª”æ¡ˆé¸æ“‡å™¨
- `:limit="5"` - æœ€å¤š 5 å¼µ
- `:auto-upload="false"` - æ‰‹å‹•ä¸Šå‚³ï¼ˆé¿å…è‡ªå‹•è§¸ç™¼ï¼‰

### 2. é™„ä»¶æ¸…å–®ï¼ˆGrid ä½ˆå±€ï¼‰
- **éŸ¿æ‡‰å¼ç¶²æ ¼**ï¼š`grid-template-columns: repeat(auto-fill, minmax(280px, 1fr))`
- **Hover æ•ˆæœ**ï¼šæ»‘é¼ ç§»å…¥æ™‚åœ–ç‰‡æ”¾å¤§ã€é¡¯ç¤ºåˆªé™¤æŒ‰éˆ•
- **åœ–ç‰‡é è¦½**ï¼šé»æ“Šç¸®åœ–å½ˆå‡º Swal å¤§åœ–é è¦½

### 3. çµ±ä¸€ä½¿ç”¨ Swal æç¤º
- **æˆåŠŸ**ï¼š`Swal.fire({ icon: 'success', ... })`
- **éŒ¯èª¤**ï¼š`Swal.fire('éŒ¯èª¤', errorMsg, 'error')`
- **ç¢ºèª**ï¼š`Swal.fire({ icon: 'warning', showCancelButton: true, ... })`
- **åœ–ç‰‡é è¦½**ï¼š`Swal.fire({ imageUrl: ..., showConfirmButton: false })`

### 4. ElMessage å³æ™‚æç¤º
- æª”æ¡ˆé©—è­‰å¤±æ•—ï¼š`ElMessage.error(...)`
- ä¸Šå‚³æˆåŠŸï¼š`ElMessage.success(...)`
- åˆªé™¤æˆåŠŸï¼š`ElMessage.success(...)`

---

## ğŸ§ª æ¸¬è©¦æ­¥é©Ÿ

### æ¸¬è©¦ 1ï¼šæ–°å¢æ¨¡å¼ä¸Šå‚³é™„ä»¶

1. å•Ÿå‹•å‰ç«¯èˆ‡å¾Œç«¯
```bash
# å¾Œç«¯
cd d:\SeatRentSys_VScode\backend
.\mvnw.cmd spring-boot:run

# å‰ç«¯
cd d:\SeatRentSys_VScode\frontend
npm run dev
```

2. ç€è¦½å™¨é–‹å•Ÿ `http://localhost:5173/maintenance/tickets/new`
3. å¡«å¯«å·¥å–®è³‡è¨Š
4. æ²å‹•åˆ°ã€Œåœ–ç‰‡é™„ä»¶ã€å€å¡Šï¼Œé»æ“Šã€Œé¸æ“‡åœ–ç‰‡ã€
5. é¸æ“‡ 1~5 å¼µåœ–ç‰‡ï¼ˆJPG/PNG/WEBPï¼‰
6. å¡«å¯«å‚™è¨»ï¼ˆå¯é¸ï¼‰
7. é»æ“Šã€Œå»ºç«‹å·¥å–®ã€
8. æª¢æŸ¥æ˜¯å¦æˆåŠŸå»ºç«‹å·¥å–®ä¸¦ä¸Šå‚³åœ–ç‰‡

**é æœŸçµæœ**ï¼š
- âœ… å·¥å–®å»ºç«‹æˆåŠŸ
- âœ… é™„ä»¶ä¸Šå‚³æˆåŠŸï¼ˆå¦‚æœæœ‰é¸æ“‡åœ–ç‰‡ï¼‰
- âœ… è·³è½‰å›å·¥å–®åˆ—è¡¨é 

---

### æ¸¬è©¦ 2ï¼šç·¨è¼¯æ¨¡å¼ç®¡ç†é™„ä»¶

1. é€²å…¥å·¥å–®åˆ—è¡¨é  `http://localhost:5173/maintenance/tickets`
2. é»æ“Šä»»ä¸€å·¥å–®çš„ã€Œç·¨è¼¯ã€æŒ‰éˆ•
3. æ²å‹•åˆ°ã€Œåœ–ç‰‡é™„ä»¶ã€å€å¡Š
4. æ‡‰è©²çœ‹åˆ°ã€Œå·²ä¸Šå‚³é™„ä»¶ (N)ã€æ¸…å–®ï¼ˆå¦‚æœä¹‹å‰æœ‰ä¸Šå‚³ï¼‰
5. æ¸¬è©¦è¿½åŠ ä¸Šå‚³ï¼š
   - é»æ“Šã€Œé¸æ“‡åœ–ç‰‡ã€ï¼Œé¸æ“‡æ–°åœ–ç‰‡
   - å¡«å¯«å‚™è¨»ï¼ˆå¯é¸ï¼‰
   - é»æ“Šã€Œç«‹å³ä¸Šå‚³ã€
   - æª¢æŸ¥æ˜¯å¦æˆåŠŸä¸Šå‚³ä¸¦åˆ·æ–°æ¸…å–®
6. æ¸¬è©¦é è¦½åœ–ç‰‡ï¼š
   - é»æ“Šä»»ä¸€ç¸®åœ–
   - æ‡‰è©²å½ˆå‡º Swal å¤§åœ–é è¦½è¦–çª—
7. æ¸¬è©¦åˆªé™¤é™„ä»¶ï¼š
   - æ»‘é¼ ç§»åˆ°é™„ä»¶å¡ç‰‡ä¸Š
   - å³ä¸Šè§’æœƒå‡ºç¾ç´…è‰²åˆªé™¤æŒ‰éˆ•
   - é»æ“Šåˆªé™¤ï¼Œç¢ºèªåˆªé™¤
   - æª¢æŸ¥æ˜¯å¦å¾æ¸…å–®ä¸­ç§»é™¤

**é æœŸçµæœ**ï¼š
- âœ… è¼‰å…¥æ—¢æœ‰é™„ä»¶æ¸…å–®
- âœ… å¯è¿½åŠ ä¸Šå‚³æ–°é™„ä»¶
- âœ… å¯é è¦½åœ–ç‰‡
- âœ… å¯åˆªé™¤é™„ä»¶
- âœ… æ“ä½œå¾Œè‡ªå‹•åˆ·æ–°æ¸…å–®

---

### æ¸¬è©¦ 3ï¼šé©—è­‰è¦å‰‡

1. å˜—è©¦ä¸Šå‚³éåœ–ç‰‡æª”æ¡ˆï¼ˆå¦‚ PDFã€Wordï¼‰
   - **é æœŸ**ï¼š`ElMessage.error` æç¤ºä¸æ”¯æ´çš„æ ¼å¼

2. å˜—è©¦ä¸Šå‚³è¶…é 5MB çš„åœ–ç‰‡
   - **é æœŸ**ï¼š`ElMessage.error` æç¤ºæª”æ¡ˆéå¤§

3. å˜—è©¦ä¸Šå‚³è¶…é 5 å¼µåœ–ç‰‡
   - **é æœŸ**ï¼š`ElMessage.error` æç¤ºæ•¸é‡é™åˆ¶

4. ä¸é¸æ“‡åœ–ç‰‡ç›´æ¥å»ºç«‹å·¥å–®
   - **é æœŸ**ï¼šæ­£å¸¸å»ºç«‹å·¥å–®ï¼Œä¸ä¸Šå‚³é™„ä»¶

---

## ğŸ“¸ UI æˆªåœ–èªªæ˜

### æ–°å¢æ¨¡å¼
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åœ–ç‰‡é™„ä»¶ [é¸å¡«]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”                 â”‚
â”‚  â”‚ + â”‚ â”‚åœ–1â”‚ â”‚åœ–2â”‚                 â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜                 â”‚
â”‚  é¸æ“‡åœ–ç‰‡                            â”‚
â”‚                                     â”‚
â”‚  æ”¯æ´ JPGã€PNGã€WEBP æ ¼å¼...         â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ é¸å¡«ï¼šç‚ºé€™æ‰¹åœ–ç‰‡åŠ ä¸Šå‚™è¨»...    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç·¨è¼¯æ¨¡å¼ï¼ˆæœ‰é™„ä»¶ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åœ–ç‰‡é™„ä»¶ [é¸å¡«]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸Šå‚³å€ï¼ˆåŒä¸Šï¼‰                        â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€ å·²ä¸Šå‚³é™„ä»¶ (3) â”€â”€â”€              â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  [åœ–1]  â”‚ â”‚  [åœ–2]  â”‚          â”‚
â”‚  â”‚ photo.jpgâ”‚ â”‚ fix.png â”‚          â”‚
â”‚  â”‚ 2026-01-31â”‚ â”‚ 2026-01-31â”‚        â”‚
â”‚  â”‚ 1.2 MB  â”‚ â”‚ 850 KB  â”‚          â”‚
â”‚  â”‚ ğŸ“ ç¾å ´ç…§ç‰‡â”‚ â”‚ ğŸ“ ç¶­ä¿®å¾Œ â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚     [ğŸ—‘ï¸]        [ğŸ—‘ï¸]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ é—œéµå¯¦ä½œç´°ç¯€

### 1. FormData ä¸Šå‚³
```javascript
const formData = new FormData()
files.forEach(file => {
  formData.append('files', file)
})
if (note) {
  formData.append('note', note)
}
```

### 2. åœ–ç‰‡é è¦½ URL
```javascript
// å¾Œç«¯ publicUrl: /images/maintenance/tickets/{ticketId}/{storedName}
// å‰ç«¯é¡¯ç¤º: http://localhost:8080${attachment.publicUrl}
```

### 3. æ–°å¢æ¨¡å¼å»¶é²ä¸Šå‚³
```javascript
// 1. å»ºç«‹å·¥å–®
const createRes = await maintenanceApi.createTicket(submitData)
const newTicketId = createRes.data?.ticketId

// 2. å¦‚æœæœ‰é¸æ“‡åœ–ç‰‡ï¼Œä¸Šå‚³é™„ä»¶
if (fileList.value.length > 0 && newTicketId) {
  const files = fileList.value.map(f => f.raw)
  await maintenanceApi.uploadTicketAttachments(newTicketId, files, note)
}
```

### 4. ç·¨è¼¯æ¨¡å¼å³æ™‚ä¸Šå‚³
```javascript
// é¸æ“‡æª”æ¡ˆå¾Œç›´æ¥ä¸Šå‚³
const handleFileChange = (file, uploadFileList) => {
  if (isEdit.value) {
    uploadAttachmentsToServer([file.raw])
  } else {
    fileList.value = uploadFileList
  }
}
```

---

## âš ï¸ æ³¨æ„äº‹é …

### 1. CORS è¨­å®š
ç¢ºä¿å¾Œç«¯å…è¨± `multipart/form-data` è«‹æ±‚ï¼š
```java
@CrossOrigin(origins = "http://localhost:5173")
```

### 2. åœ–ç‰‡è·¯å¾‘
- å¾Œç«¯å„²å­˜ï¼š`uploads/maintenance/tickets/{ticketId}/`
- å‰ç«¯å­˜å–ï¼š`http://localhost:8080/images/maintenance/tickets/{ticketId}/`
- ç¢ºä¿ WebConfig æœ‰æ­£ç¢ºæ˜ å°„ `/images/**`

### 3. éŒ¯èª¤è™•ç†
- å‰ç«¯å…ˆé©—è­‰ï¼ˆæ ¼å¼ã€å¤§å°ã€æ•¸é‡ï¼‰
- å¾Œç«¯å†é©—è­‰ï¼ˆé˜²æ­¢ç¹éå‰ç«¯æª¢æŸ¥ï¼‰
- çµ±ä¸€ä½¿ç”¨ Swal / ElMessage é¡¯ç¤ºéŒ¯èª¤

### 4. æ–°å¢æ¨¡å¼çš„æª”æ¡ˆæš«å­˜
- ä½¿ç”¨ `fileList.value` æš«å­˜é¸æ“‡çš„æª”æ¡ˆ
- å»ºç«‹å·¥å–®æˆåŠŸå¾Œæ‰ä¸Šå‚³
- é¿å…ä½¿ç”¨è€…ã€Œé¸äº†æª”æ¡ˆä½†æ²’å»ºå–®ã€é€ æˆæ··æ·†

---

## ğŸ‰ åŠŸèƒ½å®Œæˆæª¢æŸ¥æ¸…å–®

- âœ… API å°è£å®Œæˆï¼ˆ3 å€‹å‡½æ•¸ï¼‰
- âœ… å‰ç«¯ UI å¯¦ä½œå®Œæˆ
- âœ… æ–°å¢æ¨¡å¼æ”¯æ´
- âœ… ç·¨è¼¯æ¨¡å¼æ”¯æ´
- âœ… æª”æ¡ˆé©—è­‰ï¼ˆæ ¼å¼ã€å¤§å°ã€æ•¸é‡ï¼‰
- âœ… é™„ä»¶æ¸…å–®é¡¯ç¤º
- âœ… åœ–ç‰‡é è¦½åŠŸèƒ½
- âœ… é™„ä»¶åˆªé™¤åŠŸèƒ½
- âœ… éŒ¯èª¤æç¤ºçµ±ä¸€ä½¿ç”¨ Swal / ElMessage
- âœ… ä¸ç ´å£æ—¢æœ‰å·¥å–® CRUD é‚è¼¯
- âœ… ç¶­æŒ maintenance æ¨¡çµ„é¢¨æ ¼

---

## ğŸ“ æœªä¾†å¯å„ªåŒ–é …ç›®

1. **åœ–ç‰‡å£“ç¸®**ï¼šå‰ç«¯ä¸Šå‚³å‰å£“ç¸®åœ–ç‰‡ï¼Œæ¸›å°‘æµé‡
2. **æ‹–æ›³ä¸Šå‚³**ï¼šæ”¯æ´æ‹–æ›³æª”æ¡ˆåˆ°ä¸Šå‚³å€
3. **æ‰¹é‡åˆªé™¤**ï¼šæ”¯æ´ä¸€æ¬¡é¸æ“‡å¤šå¼µåœ–ç‰‡åˆªé™¤
4. **æ’åºèª¿æ•´**ï¼šæ”¯æ´æ‹–æ›³èª¿æ•´åœ–ç‰‡é †åºï¼ˆä¿®æ”¹ sortOrderï¼‰
5. **æµ®æ°´å°**ï¼šä¸Šå‚³æ™‚è‡ªå‹•åŠ ä¸Šå·¥å–®ç·¨è™Ÿæµ®æ°´å°
6. **é›²ç«¯å„²å­˜**ï¼šæ•´åˆ Azure Blob Storage æˆ– AWS S3

---

## ğŸš€ éƒ¨ç½²æ³¨æ„äº‹é …

### ç”Ÿç”¢ç’°å¢ƒ
1. ä¿®æ”¹åœ–ç‰‡ URL å‰ç¶´ï¼š
```javascript
// é–‹ç™¼ç’°å¢ƒ
:src="`http://localhost:8080${att.publicUrl}`"

// ç”Ÿç”¢ç’°å¢ƒï¼ˆæ”¹ç‚ºç›¸å°è·¯å¾‘æˆ–ç’°å¢ƒè®Šæ•¸ï¼‰
:src="`${import.meta.env.VITE_API_BASE_URL}${att.publicUrl}`"
```

2. è¨­å®šç’°å¢ƒè®Šæ•¸ï¼ˆ.env.productionï¼‰ï¼š
```
VITE_API_BASE_URL=https://your-api-domain.com
```

3. ç¢ºä¿ç”Ÿç”¢ç’°å¢ƒçš„ uploads ç›®éŒ„æœ‰æ­£ç¢ºæ¬Šé™

---

**å®Œæˆæ™‚é–“**: 2026-01-31  
**æ¸¬è©¦ç‹€æ…‹**: âœ… å¾…æ¸¬è©¦ï¼ˆè«‹ä¾ç…§ä¸Šè¿°æ­¥é©Ÿé€²è¡Œå®Œæ•´æ¸¬è©¦ï¼‰
