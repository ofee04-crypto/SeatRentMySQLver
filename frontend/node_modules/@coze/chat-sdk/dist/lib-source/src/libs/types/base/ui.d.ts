import React from 'react';
import { II18n } from '../utils/i18n';
import { IMiniChatError } from '../utils/error';
import { type RawMessage } from '../services/send-message';
import { ChatMessage, ChatMessageGroup } from './message';
import { IOnImageClickEvent, IOnTaskListChange } from './event-callback';
export type MessageUiConfigMap = Partial<Record<'text' | 'object_string' | 'card' | 'chatflow_node', MessageUiConfig>>;
export interface IMessageContentProps {
    message: ChatMessage;
    isAWaiting?: boolean;
    i18n?: II18n;
    isLastMessage?: boolean;
    isReadOnly?: boolean;
    onImageClick?: IOnImageClickEvent;
    onLinkClick?: (url: string) => void;
    onTaskChange?: IOnTaskListChange;
    messageUiConfigMap?: MessageUiConfigMap;
    sendTextMessage?: (content: string) => void;
}
export interface MessageUiConfig {
    isSupportMessage?: (item: ChatMessage) => boolean;
    renderMessage?: (props: Omit<IMessageContentProps, 'messageUiMap'>) => React.ReactNode | null;
}
export interface HeaderConfig {
    isNeed?: boolean;
    icon?: string;
    title?: string;
    renderRightSlot?: () => React.ReactNode;
}
export interface FooterConfig {
    isNeed?: boolean;
    expressionText?: string;
    containerClassName?: string;
    textClassName?: string;
    linkvars?: Record<string, {
        text: string;
        link: string;
    }>;
}
export type UiCommandPosition = 'headerRight' | 'inputLeft';
export interface InputConfig {
    isNeed?: boolean;
    isNeedAudio?: boolean;
    isNeedTaskMessage?: boolean;
    placeholder?: string;
    defaultText?: string;
    checkCanSendMessage?: (message: RawMessage) => Promise<boolean | undefined> | boolean | undefined;
    renderChatInputTopSlot?: (isChatError?: boolean) => React.ReactNode;
}
export interface ClearContextConfig {
    isNeed?: boolean;
    position?: UiCommandPosition;
}
export interface ClearMessageConfig {
    isNeed?: boolean;
    position?: UiCommandPosition;
}
export interface UploadBtnConfig {
    isNeed?: boolean;
}
export interface MessageSenderNameConfig {
    renderRightSlot?: (options: {
        isQuery?: boolean;
        chatGroup?: ChatMessageGroup;
    }) => React.ReactNode | null;
}
export interface MessageWrapperConfig {
    senderName?: MessageSenderNameConfig;
}
export interface ChatSlotConfig {
    base?: {
        maxWidth?: number;
        isFrameAutoFocus?: boolean;
    };
    input?: InputConfig;
    clearContext?: ClearContextConfig;
    clearMessage?: ClearMessageConfig;
    uploadBtn?: UploadBtnConfig;
    message?: MessageUiConfigMap;
    messageWrapper?: MessageWrapperConfig;
}
export interface ErrorUiConfig {
    renderError?: (error?: IMiniChatError, retryChatInit?: () => void) => React.ReactNode;
}
export interface LoadingUiConfig {
    renderLoading?: () => React.ReactNode;
}
export interface BgImageInfo {
    canvasPosition: {
        height: number;
        left: number;
        top: number;
        width: number;
    };
    gradientPosition: {
        left: number;
        right: number;
    };
    imgUrl: string;
    themeColor: string;
}
export interface BgImageInfoMap {
    pc?: BgImageInfo;
    mobile?: BgImageInfo;
}
export type ThemeType = 'bg-theme' | 'light';
