import { safeJSONParse } from "../../../utils";
export const extractChatflowMessage = (item) => {
    var _a;
    if (item.content_type === 'card') {
        const contentStruct = safeJSONParse(item.content);
        const workflowDataStr = (_a = contentStruct === null || contentStruct === void 0 ? void 0 : contentStruct.x_properties) === null || _a === void 0 ? void 0 : _a.workflow_card_info;
        if (workflowDataStr) {
            const cardData = safeJSONParse(workflowDataStr);
            if ((cardData === null || cardData === void 0 ? void 0 : cardData.card_type) === 'QUESTION' && (cardData === null || cardData === void 0 ? void 0 : cardData.question_card_data)) {
                return cardData;
            }
            if ((cardData === null || cardData === void 0 ? void 0 : cardData.card_type) === 'INPUT' && (cardData === null || cardData === void 0 ? void 0 : cardData.input_card_data)) {
                return cardData;
            }
        }
    }
    return undefined;
};
//# sourceMappingURL=extract-chatlow-message.js.map