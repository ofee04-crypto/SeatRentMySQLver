import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { Text, View } from '@tarojs/components';
import { Spacing, Button } from "../../../ui-kit";
import { useChatInfoStore, useChatPropsStore, useI18n } from "../../../provider";
import styles from './index.module.less';
export const ChatErrorDefault = ({ retryChatInit, }) => {
    const i18n = useI18n();
    const miniChatError = useChatInfoStore(store => store.error);
    return (_jsx(View, Object.assign({ className: styles.container }, { children: _jsx(Spacing, Object.assign({ horizontalCenter: true, flex1: true, verticalCenter: true, className: styles.content }, { children: _jsxs(Spacing, Object.assign({ vertical: true, verticalCenter: true, horizontalCenter: true, gap: 16 }, { children: [_jsxs(Spacing, Object.assign({ className: styles['error-img'], gap: 4, vertical: true, horizontalCenter: true, verticalCenter: true }, { children: [_jsx(View, { className: styles['error-img-warn-1'] }), _jsx(View, { className: styles['error-img-warn-dot'] })] })), _jsx(Text, Object.assign({ className: styles['error-txt'] }, { children: miniChatError === null || miniChatError === void 0 ? void 0 : miniChatError.getErrorMessageByI18n(i18n, undefined, i18n.t('chatInitRetry')) })), _jsx(Button, Object.assign({ onClick: retryChatInit }, { children: i18n.t('retryBtn') }))] })) })) })));
};
export const ChatError = ({ retryChatInit, }) => {
    const renderError = useChatPropsStore(store => { var _a, _b; return (_b = (_a = store.ui) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.renderError; });
    const onInitRetry = useChatPropsStore(store => { var _a; return (_a = store.eventCallbacks) === null || _a === void 0 ? void 0 : _a.onInitRetry; });
    const retryInit = onInitRetry || retryChatInit;
    if (renderError) {
        return _jsx(_Fragment, { children: renderError(undefined, retryInit) });
    }
    return _jsx(ChatErrorDefault, { retryChatInit: retryInit });
};
//# sourceMappingURL=index.js.map