import { jsx as _jsx } from "react/jsx-runtime";
import { useEffect, useState } from 'react';
import cls from 'classnames';
import { CImage } from '../c-image';
import AvatarImg from '../../assets/imgs/avatar.png';
import styles from './index.module.less';
export const Avatar = ({ className, src, size = 'medium' }) => {
    const [isError, setIsError] = useState(false);
    useEffect(() => {
        setIsError(false);
    }, [src]);
    return (_jsx(CImage, { src: isError ? AvatarImg : src, className: cls(styles.avatar, className, {
            [styles[size || '']]: true,
        }), onError: () => !isError && setIsError(true), mode: "aspectFill" }));
};
//# sourceMappingURL=index.js.map