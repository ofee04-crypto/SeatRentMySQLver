import { useRef } from 'react';
import { usePersistCallback } from "../../../../hooks";
export const useTaskChangeHandle = ({ onTaskChange, logger, }) => {
    const refList = useRef({});
    const onTaskChangeHandle = usePersistCallback((taskValue) => {
        refList.current[taskValue.id] = taskValue;
        const taskList = Object.values(refList.current)
            .sort((prev, next) => prev.index - next.index)
            .map(item => ({
            taskName: item.id,
            taskValue: item.values,
        }));
        onTaskChange === null || onTaskChange === void 0 ? void 0 : onTaskChange({
            taskList,
        });
        logger === null || logger === void 0 ? void 0 : logger.debug('useTaskChangeHandle onTaskChange values:', taskList);
    });
    return { onTaskChangeHandle };
};
//# sourceMappingURL=use-task-change.js.map