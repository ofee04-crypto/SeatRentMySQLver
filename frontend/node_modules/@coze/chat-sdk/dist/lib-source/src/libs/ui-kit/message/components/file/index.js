import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useMemo } from 'react';
import { Text, View } from '@tarojs/components';
import { getFileTypeByFileName } from "../../../../utils";
import { SvgFileType } from '../../../atomic/svg';
import { Spacing } from '../../../atomic/spacing';
import { Bubble } from '../../../atomic/bubble';
import styles from './index.module.less';
const getSizeStr = (size) => {
    if (size < 1024) {
        return `${size}B`;
    }
    else if (size < 1024 * 1024) {
        return `${(size / 1024).toFixed(2)}KB`;
    }
    else {
        return `${(size / (1024 * 1024)).toFixed(2)}MB`;
    }
};
export const FileMessage = ({ filename, size }) => {
    const fileType = useMemo(() => getFileTypeByFileName(filename), [filename]);
    return (_jsx(View, Object.assign({ className: styles.file }, { children: _jsxs(Bubble, Object.assign({ className: styles.container }, { children: [_jsx(SvgFileType, { type: fileType, className: styles.svg }), _jsxs(Spacing, Object.assign({ vertical: true, gap: 0, flex1: true }, { children: [_jsx(Text, Object.assign({ className: styles.txt, maxLines: 1, numberOfLines: 1, overflow: "ellipsis" }, { children: filename })), _jsx(Text, Object.assign({ className: styles.size, maxLines: 1, numberOfLines: 1, overflow: "ellipsis" }, { children: getSizeStr(size) }))] }))] })) })));
};
//# sourceMappingURL=index.js.map