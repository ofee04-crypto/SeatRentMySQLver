import { StreamChatReq, RequestOptions, StreamChatData } from '@coze/api';
import { SuggestPromoteInfo } from "../../libs/types/base/chat";
import { BgImageInfo, ChatInfo, ChatService, type ChatServiceProps } from "../../libs";
import { type IChatFlowProps } from '../type';
import type { ProjectInfoResp, WorkflowInfoResp, BackgroundImageResp } from './chat-service-type';
export declare const getCustomAppInfo: (chatFlowProps: IChatFlowProps) => {
    name: string | undefined;
    icon_url: string | undefined;
    onboarding_info: {
        prologue: string;
        suggested_questions: string[];
    };
    description: string | undefined;
    suggestPromoteInfo: SuggestPromoteInfo | undefined;
    bgInfo: {
        pc: BgImageInfo;
        mobile: BgImageInfo;
    } | undefined;
};
export declare const getBgInfo: (resp?: BackgroundImageResp) => BgImageInfo | undefined;
export declare const combineRequestOptions: (appData?: ProjectInfoResp['data'], workflowData?: WorkflowInfoResp['role'], chatFlowProps?: IChatFlowProps) => Partial<ChatInfo>;
export declare class ChatFlowService extends ChatService {
    private chatFlowProps;
    constructor(props: ChatServiceProps, chatFlowProps: IChatFlowProps);
    updateChatFlowProps(chatFlowProps: IChatFlowProps): void;
    createNewConversation(): Promise<{
        conversationId: string;
        sectionId: string;
    }>;
    getAppInfo(): Promise<{
        appId: string;
        type: import("../../libs").ChatType;
        bgInfo?: import("../../libs").BgImageInfoMap | undefined;
        onboarding_info?: {
            prologue?: string | undefined;
            display_all_suggestions?: boolean | undefined;
            suggested_questions?: string[] | undefined;
        } | undefined;
        suggestPromoteInfo?: SuggestPromoteInfo | undefined;
        voiceInfo?: import("../../libs/types/base/chat").VoiceInfo | undefined;
        inputMode?: {
            default?: number | undefined;
        } | undefined;
        name?: string | undefined;
        description?: string | undefined;
        icon_url?: string | undefined;
        create_time?: number | undefined;
        update_time?: number | undefined;
        version?: string | undefined;
    }>;
    getOrCreateConversationId(): Promise<{
        conversationId: string;
        sectionId: string;
    }>;
    private _createNewConversation;
    asyncChat(params: StreamChatReq & {
        connector_id?: string;
        suggestPromoteInfo?: SuggestPromoteInfo;
    }, options?: RequestOptions): AsyncIterable<StreamChatData>;
}
