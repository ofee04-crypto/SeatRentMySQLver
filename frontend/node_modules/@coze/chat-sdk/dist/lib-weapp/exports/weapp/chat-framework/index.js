/*! For license information please see index.js.LICENSE.txt */
require("../../../runtime"),require("../../../taro"),require("../../../vendors"),(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[131],{2525:function(e,t,n){"use strict";n.d(t,{A:function(){return EI}});var r={};n.r(r),n.d(r,{hasBrowserEnv:function(){return un},hasStandardBrowserEnv:function(){return cn},hasStandardBrowserWebWorkerEnv:function(){return ln},navigator:function(){return sn},origin:function(){return dn}});var i={};function o(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function a(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.r(i),n.d(i,{attentionMarkers:function(){return jh},contentInitial:function(){return Ih},disable:function(){return Th},document:function(){return _h},flow:function(){return Nh},flowInitial:function(){return Sh},insideSpan:function(){return Ch},string:function(){return Eh},text:function(){return Dh}});var u=n(9375);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,u.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l,d,f=n(2660),h=n.n(f),p=n(7973),v=function(e){return Object.keys(e).map((function(t){return e[t]})).reduce((function(e,t){return e&&null!==t}),!0)},g=n(7720),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("object"===(0,g.A)(e))return e;try{return JSON.parse(String(e))}catch(e){return t}},y=function(e){return e["FrameClick"]="frame-click",e["ChatToastShow"]="chat-toast-show",e["KeyDown"]="key-down-event",e["KeyUp"]="key-up-event",e["TriggerFocus"]="trigger-focus",e["FrameFocus"]="frame-focus",e["FrameBlur"]="frame-blur",e["ChatModalShow"]="chat-modal-show",e["ChatSlotToBottom"]="chat-slot-to-bottom",e["ChatSlotScrollToAnchorBottom"]="chat-slot-scroll-to-anchor-bottom",e["ChatSlotRemoveAnchorBottom"]="chat-slot-remove-anchor-bottom",e}({}),x=function(e){return e["IMAGE"]="image",e["PDF"]="pdf",e["DOCX"]="docx",e["EXCEL"]="excel",e["CSV"]="csv",e["AUDIO"]="audio",e["VIDEO"]="video",e["TXT"]="txt",e["PPT"]="ppt",e["ZIP"]="zip",e["CODE"]="code",e["DEFAULT_UNKNOWN"]="default_unknown",e}({}),b=(n(4156),n(3221),n(590),n(5528),function(e){return e["ReceiveMessage"]="receiveMessage",e["ReceiveComplete"]="receiveComplete",e["RequireAction"]="RequireAction",e["Close"]="close",e}({})),M=function(e){return e["TEXT"]="text",e["FILE"]="file",e["AUDIO"]="audio",e}({}),w=function(e){return e["EN"]="en",e["ZH_CN"]="zh-CN",e}({}),k=[{fileType:x.IMAGE,accept:[".jpg",".jpeg",".png",".gif",".bmp",".webp"],typeStart:"image/"},{fileType:x.AUDIO,accept:[".mp3",".wav",".aac",".flac",".ogg",".wma",".alac",".mid",".midi",".ac3",".dsd"],typeStart:"audio/"},{fileType:x.PDF,accept:[".pdf"]},{fileType:x.DOCX,accept:[".docx",".doc"]},{fileType:x.EXCEL,accept:[".xls",".xlsx"]},{fileType:x.CSV,accept:[".csv"]},{fileType:x.CODE,accept:[".py",".java",".c",".cpp",".js",".html",".css"]},{fileType:x.VIDEO,accept:[".mp4",".avi",".mov",".wmv",".flv",".mkv"],typeStart:"audio/"},{fileType:x.TXT,accept:[".txt"]},{fileType:x.PPT,accept:[".ppt",".pptx"]}],A=function(e){var t=k.find((function(t){var n=t.accept;return n.some((function(t){return e.endsWith(t)}))}));return t?t.fileType:x.DEFAULT_UNKNOWN},_=function(e){var t=e.type,n=e.name,r=k.find((function(e){var r=e.accept,i=e.typeStart;return i?t.startsWith(i):r?r.some((function(e){return n.endsWith(e)})):void 0}));return r?r.fileType:x.DEFAULT_UNKNOWN},I=n(3662),S=n.n(I),N=Date.now()+Math.ceil(1e5*Math.random()),E=function(){return"".concat(N++)},D=n(4723),C=function(e){return new Promise((function(t){var n;null===I.createSelectorQuery||void 0===I.createSelectorQuery||null===(n=(0,I.createSelectorQuery)())||void 0===n||null===(n=n.select(e))||void 0===n||n.boundingClientRect((function(e){if(!e)return t([]),[];t((0,D.cy)(e)?e:[e])})).exec()}))},j=function(){return new Promise((function(e){var t;null===I.createSelectorQuery||void 0===I.createSelectorQuery||null===(t=(0,I.createSelectorQuery)())||void 0===t||null===(t=t.selectViewport())||void 0===t||t.boundingClientRect((function(t){if(!t)return[];e((0,D.cy)(t)?t:[t])})).exec()}))},T=n(4681),z=n(721),O=n(8889),L=n(868),F=n(6526),P=n(1809),R=Symbol("eventJsonDataType"),U=function(e){return e["ERROR"]="error",e["CLOSE"]="close",e["OPEN"]="open",e["MESSAGE"]="message",e}({}),B=function(){function e(t){var n=t.url,r=t.method,i=void 0===r?"GET":r,o=t.header,a=void 0===o?{}:o,s=t.data;(0,z.A)(this,e),(0,u.A)(this,"url",void 0),(0,u.A)(this,"method",void 0),(0,u.A)(this,"header",void 0),(0,u.A)(this,"data",void 0),(0,u.A)(this,"isClosed",!1),(0,u.A)(this,"event",new I.Events),this.url=n,this.method=i,this.header=a,this.data=s}return(0,O.A)(e,[{key:"sendMessage",value:function(){this._sendMessage()}},{key:"_sendMessage",value:function(){throw new Po(-1,"not implemented")}},{key:"close",value:function(){return!this.isClosed&&(this.isClosed=!0,this.event.trigger(U.CLOSE),this.event.off(),!0)}},{key:"onError",value:function(e){this.event.on(U.ERROR,(function(t){e(new Po(-1,t.errMsg))}))}},{key:"onClose",value:function(e){this.event.on(U.CLOSE,e)}},{key:"onMessage",value:function(e){this.event.on(U.MESSAGE,e)}},{key:"onOpen",value:function(e){this.event.on(U.OPEN,e)}}])}(),Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"release";(0,z.A)(this,e),(0,u.A)(this,"prefix",void 0),(0,u.A)(this,"level",void 0),this.prefix=t,this.level=n}return(0,O.A)(e,[{key:"setLoglevel",value:function(e){e&&(this.level=e)}},{key:"seDebug",value:function(){this.level="debug"}},{key:"isDebug",value:function(){return"debug"===this.level}},{key:"debug",value:function(){var e;if("debug"===this.level){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,[this.prefix,"[debug]"].concat(n,["\n"]))}}},{key:"info",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).info.apply(e,[this.prefix,"[info]"].concat(n,["\n"]))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).warn.apply(e,[this.prefix,"[warn]"].concat(n,["\n"]))}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[this.prefix,"[error]"].concat(n,["\n"]))}}])}(),Q=new Y("[coze-mini-sdk]"),H=n(2340)["window"],V=function(){function e(){(0,z.A)(this,e)}return(0,O.A)(e,[{key:"encode",value:function(e){var t=[],n=e.length,r=0;while(r<n){var i=e.codePointAt(r),o=0,a=0;i<=127?(o=0,a=0):i<=2047?(o=6,a=192):i<=65535?(o=12,a=224):i<=2097151&&(o=18,a=240),t.push(a|i>>o),o-=6;while(o>=0)t.push(128|i>>o&63),o-=6;r+=i>=65536?2:1}return t}}])}(),G=function(){function e(){(0,z.A)(this,e)}return(0,O.A)(e,[{key:"decode",value:function(e){var t="",n=0;while(n<e.length){var r=e[n],i=0,o=0;if(r<=127?(i=0,o=255&r):r<=223?(i=1,o=31&r):r<=239?(i=2,o=15&r):r<=244&&(i=3,o=7&r),e.length-n-i>0){var a=0;while(a<i)r=e[n+a+1],o=o<<6|63&r,a+=1}else o=65533,i=e.length-n;t+=String.fromCodePoint(o),n+=i+1}return t}}])}(),W=null!==(l=(globalThis||H).TextDecoder)&&void 0!==l?l:G,q=null!==(d=(globalThis||H).TextEncoder)&&void 0!==d?d:V,Z=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),(0,u.A)(e,"task",void 0),(0,u.A)(e,"offTaskHandler",void 0),(0,u.A)(e,"chunkedData",""),(0,u.A)(e,"dataType","unknown"),e}return(0,P.A)(t,e),(0,O.A)(t,[{key:"_sendMessage",value:function(){var e=this;this.task=(0,I.request)({url:this.url,method:this.method,header:this.header,data:this.data,enableChunked:!0,enableCookie:!0,timeout:6e5,fail:function(t){e.event.trigger(U.ERROR,t)},complete:function(){e.close()}});var t=this.onHeadersReceived(),n=this.onChunkReceived();this.offTaskHandler=function(){t(),n()}}},{key:"close",value:function(){var e,n;return!!(0,F.A)(t,"close",this,3)([])&&(null===(e=this.task)||void 0===e||e.abort(),null===(n=this.offTaskHandler)||void 0===n||n.call(this),!0)}},{key:"getDataType",value:function(e){var t=Object.entries(e).find((function(e){var t=(0,T.A)(e,1),n=t[0];return"content-type"===n.toLowerCase()}))||[],n=(0,T.A)(t,2),r=n[1],i=r||"";return null!==i&&void 0!==i&&i.includes("text/event-stream")?"stream":null!==i&&void 0!==i&&i.includes("application/json")?"json":"unknown"}},{key:"onHeadersReceived",value:function(){var e,t=this,n=function(e){t.dataType=t.getDataType(e.header),t.event.trigger(U.OPEN,e.header),Q.debug("onHeadersReceived",e.header)};return null===(e=this.task)||void 0===e||e.onHeadersReceived(n),function(){var e;null===(e=t.task)||void 0===e||e.offHeadersReceived(n)}}},{key:"onChunkReceived",value:function(){var e,t=this,n=function(e){var n=new Uint8Array(e.data),r=new W("utf-8"),i=r.decode(n);if(Q.debug("onChunkReceived raw data",i),Q.debug("onChunkReceived data type",t.dataType),"json"!==t.dataType)if(t.chunkedData+=i,"\n\n"===i.slice(-2)){var o=t.unpackData(t.chunkedData);o.map((function(e){t.event.trigger(U.MESSAGE,e)})),t.chunkedData="",Q.debug("onChunkReceived messageEvents",o)}else Q.debug("onChunkReceived messageEvents is not complete");else t.event.trigger(U.MESSAGE,{event:R,data:i})};return null===(e=this.task)||void 0===e||e.onChunkReceived(n),function(){var e;null===(e=t.task)||void 0===e||e.offChunkReceived(n)}}},{key:"unpackData",value:function(e){var t=e.split("\n"),n=[],r=0;while(r<t.length-1){if(t[r].startsWith("event:")&&t[r+1].startsWith("data:")){var i=t[r].slice(6).trim(),o=t[r+1].slice(5).trim();n.push({event:i,data:o}),r+=2}r++}return n}}])}(B),J=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),(0,u.A)(e,"ttClient",void 0),e}return(0,P.A)(t,e),(0,O.A)(t,[{key:"close",value:function(){var e;return!!(0,F.A)(t,"close",this,3)([])&&(null===(e=this.ttClient)||void 0===e||e.close(),!0)}},{key:"_sendMessage",value:function(){var e=this;this.ttClient=tt.createEventSource({url:this.url,method:this.method,header:this.header,timeout:6e5,data:this.data}),Q.debug("TTEventSource init",{url:this.url,method:this.method,header:this.header,data:this.data}),this.ttClient.onOpen((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Q.debug("TTEventSource onOpen",n),e.event.trigger(U.OPEN,{})})),this.ttClient.onClose((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Q.debug("TTEventSource onClose",n),e.close()})),this.ttClient.onError((function(t){Q.debug("TTEventSource onError",t),e.event.trigger(U.ERROR,new Po(-1,t))})),this.ttClient.onMessage((function(t){Q.debug("TTEventSource onMessage",t),e.event.trigger(U.MESSAGE,t)}))}}])}(B);function K(){K=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),u=new C(r||[]);return i(a,"_invoke",{value:S(e,n,u)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function x(){}function b(){}var M={};c(M,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(j([])));k&&k!==n&&r.call(k,a)&&(M=k);var A=b.prototype=y.prototype=Object.create(M);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,a,u){var s=d(e[i],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==(0,g.A)(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=N(u,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?v:h,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function N(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator["return"]&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError((0,g.A)(t)+" is not iterable")}return x.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:x,configurable:!0}),x.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},_(I.prototype),c(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new I(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(A),c(A,s,"Generator"),c(A,a,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}var X=n(3772);function $(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,X.A)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}}}function ee(e,t){this.v=e,this.k=t}function te(e){return new ee(e,0)}function ne(e){return function(){return new re(e.apply(this,arguments))}}function re(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof ee;Promise.resolve(u?a.v:a).then((function(n){if(u){var s="return"===t?"return":"next";if(!a.k||n.done)return r(s,n);n=e[s](n).value}i(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e["return"]&&(this["return"]=void 0)}re.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},re.prototype.next=function(e){return this._invoke("next",e)},re.prototype["throw"]=function(e){return this._invoke("throw",e)},re.prototype["return"]=function(e){return this._invoke("return",e)};var ie=n(2340)["navigator"],oe=(0,I.getEnv)(),ae=oe===I.ENV_TYPE.WEB,ue=oe===I.ENV_TYPE.WEAPP,se=oe===I.ENV_TYPE.TT,ce=!ae,le=ae&&/Safari/.test(ie.userAgent)&&!/Chrome/.test(ie.userAgent);function de(){var e=void 0,t=void 0,n=new Promise((function(n,r){e=n,t=r}));return{resolve:e,reject:t,promise:n}}function fe(e){return he.apply(this,arguments)}function he(){return he=ne(K().mark((function e(t){var n,r,i,o,a,u,s,c,l,d,f,h,p;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:p=function(){var e=de(),t=e.resolve,n=e.reject,a=e.promise;r=a,i=t,o=n},n=se?new J(t):new Z(t),r=void 0,i=void 0,o=void 0,a=!1,u=[],n.onMessage((function(e){var t;u.push(e),null===(t=i)||void 0===t||t(void 0)})),n.onClose((function(){var e;null===(e=i)||void 0===e||e(void 0),a=!0})),n.onError((function(e){var t;null===(t=o)||void 0===t||t(e),a=!0})),n.sendMessage(),p(),s=!1;case 13:return e.next=15,te(r);case 15:c=!1,l=u.splice(0),p(),d=$(l),e.prev=19,d.s();case 21:if((f=d.n()).done){e.next=30;break}if(h=f.value,!h){e.next=28;break}return s=!0,c=!0,e.next=28,h;case 28:e.next=21;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e["catch"](19),d.e(e.t0);case 35:return e.prev=35,d.f(),e.finish(35);case 38:if(!a||c){e.next=45;break}if(!s){e.next=44;break}return e.next=42,{data:"[DONE]",event:"done"};case 42:e.next=45;break;case 44:throw new Error("EventSourceRequest has been closed");case 45:if(!a){e.next=13;break}case 46:case"end":return e.stop()}}),e,null,[[19,32,35,38]])}))),he.apply(this,arguments)}function pe(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){pe(o,r,i,a,u,"next",e)}function u(e){pe(o,r,i,a,u,"throw",e)}a(void 0)}))}}function ge(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new me(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function me(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return me=function(e){this.s=e,this.n=e.next},me.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s["return"];return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s["return"];return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new me(e)}function ye(e,t){return function(){return e.apply(t,arguments)}}var xe=n(2340)["window"],be=Object.prototype.toString,Me=Object.getPrototypeOf,we=function(e){return function(t){var n=be.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null)),ke=function(e){return e=e.toLowerCase(),function(t){return we(t)===e}},Ae=function(e){return function(t){return(0,g.A)(t)===e}},_e=Array.isArray,Ie=Ae("undefined");function Se(e){return null!==e&&!Ie(e)&&null!==e.constructor&&!Ie(e.constructor)&&Ce(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var Ne=ke("ArrayBuffer");function Ee(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ne(e.buffer),t}var De=Ae("string"),Ce=Ae("function"),je=Ae("number"),Te=function(e){return null!==e&&"object"===(0,g.A)(e)},ze=function(e){return!0===e||!1===e},Oe=function(e){if("object"!==we(e))return!1;var t=Me(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Le=ke("Date"),Fe=ke("File"),Pe=ke("Blob"),Re=ke("FileList"),Ue=function(e){return Te(e)&&Ce(e.pipe)},Be=function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||Ce(e.append)&&("formdata"===(t=we(e))||"object"===t&&Ce(e.toString)&&"[object FormData]"===e.toString()))},Ye=ke("URLSearchParams"),Qe=["ReadableStream","Request","Response","Headers"].map(ke),He=(0,T.A)(Qe,4),Ve=He[0],Ge=He[1],We=He[2],qe=He[3],Ze=function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Je(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.allOwnKeys,a=void 0!==o&&o;if(null!==e&&"undefined"!==typeof e)if("object"!==(0,g.A)(e)&&(e=[e]),_e(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var u,s=a?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(n=0;n<c;n++)u=s[n],t.call(null,e[u],u,e)}}function Ke(e,t){t=t.toLowerCase();var n,r=Object.keys(e),i=r.length;while(i-- >0)if(n=r[i],t===n.toLowerCase())return n;return null}var Xe=function(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof xe?xe:global}(),$e=function(e){return!Ie(e)&&e!==Xe};function et(){for(var e=$e(this)&&this||{},t=e.caseless,n={},r=function(e,r){var i=t&&Ke(n,r)||r;Oe(n[i])&&Oe(e)?n[i]=et(n[i],e):Oe(e)?n[i]=et({},e):_e(e)?n[i]=e.slice():n[i]=e},i=0,o=arguments.length;i<o;i++)arguments[i]&&Je(arguments[i],r);return n}var nt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return Je(t,(function(t,r){n&&Ce(t)?e[r]=ye(t,n):e[r]=t}),{allOwnKeys:i}),e},rt=function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},it=function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ot=function(e,t,n,r){var i,o,a,u={};if(t=t||{},null==e)return t;do{i=Object.getOwnPropertyNames(e),o=i.length;while(o-- >0)a=i[o],r&&!r(a,e,t)||u[a]||(t[a]=e[a],u[a]=!0);e=!1!==n&&Me(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},at=function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},ut=function(e){if(!e)return null;if(_e(e))return e;var t=e.length;if(!je(t))return null;var n=new Array(t);while(t-- >0)n[t]=e[t];return n},st=function(e){return function(t){return e&&t instanceof e}}("undefined"!==typeof Uint8Array&&Me(Uint8Array)),ct=function(e,t){var n,r=e&&e[Symbol.iterator],i=r.call(e);while((n=i.next())&&!n.done){var o=n.value;t.call(e,o[0],o[1])}},lt=function(e,t){var n,r=[];while(null!==(n=e.exec(t)))r.push(n);return r},dt=ke("HTMLFormElement"),ft=function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},ht=function(e){var t=e.hasOwnProperty;return function(e,n){return t.call(e,n)}}(Object.prototype),pt=ke("RegExp"),vt=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Je(n,(function(n,i){var o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},gt=function(e){vt(e,(function(t,n){if(Ce(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];Ce(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},mt=function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return _e(e)?r(e):r(String(e).split(t)),n},yt=function(){},xt=function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},bt="abcdefghijklmnopqrstuvwxyz",Mt="0123456789",wt={DIGIT:Mt,ALPHA:bt,ALPHA_DIGIT:bt+bt.toUpperCase()+Mt},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt.ALPHA_DIGIT,n="",r=t.length;while(e--)n+=t[Math.random()*r|0];return n};function At(e){return!!(e&&Ce(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}var _t=function(e){var t=new Array(10),n=function(e,r){if(Te(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;var i=_e(e)?[]:{};return Je(e,(function(e,t){var o=n(e,r+1);!Ie(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},It=ke("AsyncFunction"),St=function(e){return e&&(Te(e)||Ce(e))&&Ce(e.then)&&Ce(e.catch)},Nt=function(e,t){return e?setImmediate:t?function(e,t){return Xe.addEventListener("message",(function(n){var r=n.source,i=n.data;r===Xe&&i===e&&t.length&&t.shift()()}),!1),function(n){t.push(n),Xe.postMessage(e,"*")}}("axios@".concat(Math.random()),[]):function(e){return setTimeout(e)}}("function"===typeof setImmediate,Ce(Xe.postMessage)),Et="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Xe):"undefined"!==typeof process&&process.nextTick||Nt,Dt={isArray:_e,isArrayBuffer:Ne,isBuffer:Se,isFormData:Be,isArrayBufferView:Ee,isString:De,isNumber:je,isBoolean:ze,isObject:Te,isPlainObject:Oe,isReadableStream:Ve,isRequest:Ge,isResponse:We,isHeaders:qe,isUndefined:Ie,isDate:Le,isFile:Fe,isBlob:Pe,isRegExp:pt,isFunction:Ce,isStream:Ue,isURLSearchParams:Ye,isTypedArray:st,isFileList:Re,forEach:Je,merge:et,extend:nt,trim:Ze,stripBOM:rt,inherits:it,toFlatObject:ot,kindOf:we,kindOfTest:ke,endsWith:at,toArray:ut,forEachEntry:ct,matchAll:lt,isHTMLForm:dt,hasOwnProperty:ht,hasOwnProp:ht,reduceDescriptors:vt,freezeMethods:gt,toObjectSet:mt,toCamelCase:ft,noop:yt,toFiniteNumber:xt,findKey:Ke,global:Xe,isContextDefined:$e,ALPHABET:wt,generateString:kt,isSpecCompliantForm:At,toJSONObject:_t,isAsyncFn:It,isThenable:St,setImmediate:Nt,asap:Et};function Ct(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Dt.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Dt.toJSONObject(this.config),code:this.code,status:this.status}}});var jt=Ct.prototype,Tt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Tt[e]={value:e}})),Object.defineProperties(Ct,Tt),Object.defineProperty(jt,"isAxiosError",{value:!0}),Ct.from=function(e,t,n,r,i,o){var a=Object.create(jt);return Dt.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Ct.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var zt=Ct,Ot=null;function Lt(e){return Dt.isPlainObject(e)||Dt.isArray(e)}function Ft(e){return Dt.endsWith(e,"[]")?e.slice(0,-2):e}function Pt(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ft(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}function Rt(e){return Dt.isArray(e)&&!e.some(Lt)}var Ut=Dt.toFlatObject(Dt,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Bt(e,t,n){if(!Dt.isObject(e))throw new TypeError("target must be an object");t=t||new(Ot||FormData),n=Dt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Dt.isUndefined(t[e])}));var r=n.metaTokens,i=n.visitor||l,o=n.dots,a=n.indexes,u=n.Blob||"undefined"!==typeof Blob&&Blob,s=u&&Dt.isSpecCompliantForm(t);if(!Dt.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Dt.isDate(e))return e.toISOString();if(!s&&Dt.isBlob(e))throw new zt("Blob is not supported. Use a Buffer instead.");return Dt.isArrayBuffer(e)||Dt.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){var u=e;if(e&&!i&&"object"===(0,g.A)(e))if(Dt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Dt.isArray(e)&&Rt(e)||(Dt.isFileList(e)||Dt.endsWith(n,"[]"))&&(u=Dt.toArray(e)))return n=Ft(n),u.forEach((function(e,r){!Dt.isUndefined(e)&&null!==e&&t.append(!0===a?Pt([n],r,o):null===a?n:n+"[]",c(e))})),!1;return!!Lt(e)||(t.append(Pt(i,n,o),c(e)),!1)}var d=[],f=Object.assign(Ut,{defaultVisitor:l,convertValue:c,isVisitable:Lt});function h(e,n){if(!Dt.isUndefined(e)){if(-1!==d.indexOf(e))throw Error("Circular reference detected in "+n.join("."));d.push(e),Dt.forEach(e,(function(e,r){var o=!(Dt.isUndefined(e)||null===e)&&i.call(t,e,Dt.isString(r)?r.trim():r,n,f);!0===o&&h(e,n?n.concat(r):[r])})),d.pop()}}if(!Dt.isObject(e))throw new TypeError("data must be an object");return h(e),t}var Yt=Bt;function Qt(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ht(e,t){this._pairs=[],e&&Yt(e,this,t)}var Vt=Ht.prototype;Vt.append=function(e,t){this._pairs.push([e,t])},Vt.toString=function(e){var t=e?function(t){return e.call(this,t,Qt)}:Qt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Gt=Ht;function Wt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qt(e,t,n){if(!t)return e;var r,i=n&&n.encode||Wt,o=n&&n.serialize;if(r=o?o(t,n):Dt.isURLSearchParams(t)?t.toString():new Gt(t,n).toString(i),r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var Zt=function(){function e(){(0,z.A)(this,e),this.handlers=[]}return(0,O.A)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Dt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}])}(),Jt=Zt,Kt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xt=n(2340)["URLSearchParams"],$t="undefined"!==typeof Xt?Xt:Gt,en="undefined"!==typeof FormData?FormData:null,tn="undefined"!==typeof Blob?Blob:null,nn={isBrowser:!0,classes:{URLSearchParams:$t,FormData:en,Blob:tn},protocols:["http","https","file","blob","url","data"]},rn=n(2340)["window"],on=n(2340)["document"],an=n(2340)["navigator"],un="undefined"!==typeof rn&&"undefined"!==typeof on,sn="object"===("undefined"===typeof an?"undefined":(0,g.A)(an))&&an||void 0,cn=un&&(!sn||["ReactNative","NativeScript","NS"].indexOf(sn.product)<0),ln=function(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts}(),dn=un&&rn.location.href||"http://localhost",fn=c(c({},r),nn);function hn(e,t){return Yt(e,new fn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return fn.isNode&&Dt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function pn(e){return Dt.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}function vn(e){var t,n,r={},i=Object.keys(e),o=i.length;for(t=0;t<o;t++)n=i[t],r[n]=e[n];return r}function gn(e){function t(e,n,r,i){var o=e[i++];if("__proto__"===o)return!0;var a=Number.isFinite(+o),u=i>=e.length;if(o=!o&&Dt.isArray(r)?r.length:o,u)return Dt.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&Dt.isObject(r[o])||(r[o]=[]);var s=t(e,n,r[o],i);return s&&Dt.isArray(r[o])&&(r[o]=vn(r[o])),!a}if(Dt.isFormData(e)&&Dt.isFunction(e.entries)){var n={};return Dt.forEachEntry(e,(function(e,r){t(pn(e),r,n,0)})),n}return null}var mn=gn;function yn(e,t,n){if(Dt.isString(e))try{return(t||JSON.parse)(e),Dt.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}var xn={transitional:Kt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Dt.isObject(e);i&&Dt.isHTMLForm(e)&&(e=new FormData(e));var o,a=Dt.isFormData(e);if(a)return r?JSON.stringify(mn(e)):e;if(Dt.isArrayBuffer(e)||Dt.isBuffer(e)||Dt.isStream(e)||Dt.isFile(e)||Dt.isBlob(e)||Dt.isReadableStream(e))return e;if(Dt.isArrayBufferView(e))return e.buffer;if(Dt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return hn(e,this.formSerializer).toString();if((o=Dt.isFileList(e))||n.indexOf("multipart/form-data")>-1){var u=this.env&&this.env.FormData;return Yt(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),yn(e)):e}],transformResponse:[function(e){var t=this.transitional||xn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Dt.isResponse(e)||Dt.isReadableStream(e))return e;if(e&&Dt.isString(e)&&(n&&!this.responseType||r)){var i=t&&t.silentJSONParsing,o=!i&&r;try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw zt.from(e,zt.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Dt.forEach(["delete","get","head","post","put","patch"],(function(e){xn.headers[e]={}}));var bn=xn,Mn=Dt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wn=function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Mn[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i},kn=Symbol("internals");function An(e){return e&&String(e).trim().toLowerCase()}function _n(e){return!1===e||null==e?e:Dt.isArray(e)?e.map(_n):String(e)}function In(e){var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;while(t=r.exec(e))n[t[1]]=t[2];return n}var Sn=function(e){return/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())};function Nn(e,t,n,r,i){return Dt.isFunction(r)?r.call(this,t,n):(i&&(t=n),Dt.isString(t)?Dt.isString(r)?-1!==t.indexOf(r):Dt.isRegExp(r)?r.test(t):void 0:void 0)}function En(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}function Dn(e,t){var n=Dt.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}var Cn=function(){function e(t){(0,z.A)(this,e),t&&this.set(t)}return(0,O.A)(e,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=An(t);if(!i)throw new Error("header name must be a non-empty string");var o=Dt.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=_n(e))}var o=function(e,t){return Dt.forEach(e,(function(e,n){return i(e,n,t)}))};if(Dt.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Dt.isString(e)&&(e=e.trim())&&!Sn(e))o(wn(e),t);else if(Dt.isHeaders(e)){var a,u=$(e.entries());try{for(u.s();!(a=u.n()).done;){var s=(0,T.A)(a.value,2),c=s[0],l=s[1];i(l,c,n)}}catch(e){u.e(e)}finally{u.f()}}else null!=e&&i(t,e,n);return this}},{key:"get",value:function(e,t){if(e=An(e),e){var n=Dt.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return In(r);if(Dt.isFunction(t))return t.call(this,r,n);if(Dt.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=An(e),e){var n=Dt.findKey(this,e);return!(!n||void 0===this[n]||t&&!Nn(this,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=An(e),e){var i=Dt.findKey(n,e);!i||t&&!Nn(n,n[i],i,t)||(delete n[i],r=!0)}}return Dt.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){var t=Object.keys(this),n=t.length,r=!1;while(n--){var i=t[n];e&&!Nn(this,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return Dt.forEach(this,(function(r,i){var o=Dt.findKey(n,i);if(o)return t[o]=_n(r),void delete t[i];var a=e?En(i):String(i).trim();a!==i&&delete t[i],t[a]=_n(r),n[a]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Dt.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Dt.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,T.A)(e,2),n=t[0],r=t[1];return n+": "+r})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=this[kn]=this[kn]={accessors:{}},n=t.accessors,r=this.prototype;function i(e){var t=An(e);n[t]||(Dn(r,e),n[t]=!0)}return Dt.isArray(e)?e.forEach(i):i(e),this}}])}();Cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Dt.reduceDescriptors(Cn.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),Dt.freezeMethods(Cn);var jn=Cn;function Tn(e,t){var n=this||bn,r=t||n,i=jn.from(r.headers),o=r.data;return Dt.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function zn(e){return!(!e||!e.__CANCEL__)}function On(e,t,n){zt.call(this,null==e?"canceled":e,zt.ERR_CANCELED,t,n),this.name="CanceledError"}Dt.inherits(On,zt,{__CANCEL__:!0});var Ln=On;function Fn(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new zt("Request failed with status code "+n.status,[zt.ERR_BAD_REQUEST,zt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}function Pn(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Rn(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[a];n||(n=s),r[o]=u,i[o]=s;var l=a,d=0;while(l!==o)d+=r[l++],l%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),!(s-n<t)){var f=c&&s-c;return f?Math.round(1e3*d/f):void 0}}}var Un=Rn;function Bn(e,t){var n,r,i=0,o=1e3/t,a=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)},u=function(){for(var e=Date.now(),t=e-i,u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];t>=o?a(s,e):(n=s,r||(r=setTimeout((function(){r=null,a(n)}),o-t)))},s=function(){return n&&a(n)};return[u,s]}var Yn=Bn,Qn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0,i=Un(50,250);return Yn((function(n){var o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,c=i(s),l=o<=a;r=o;var d=(0,u.A)({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&l?(a-o)/c:void 0,event:n,lengthComputable:null!=a},t?"download":"upload",!0);e(d)}),n)},Hn=function(e,t){var n=null!=e;return[function(r){return t[0]({lengthComputable:n,total:e,loaded:r})},t[1]]},Vn=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dt.asap((function(){return e.apply(void 0,n)}))}},Gn=n(8515),Wn=n(3203),qn=n(2340)["document"],Zn=n(2340)["window"],Jn=fn.hasStandardBrowserEnv?function(){var e,t=fn.navigator&&/(msie|trident)/i.test(fn.navigator.userAgent),n=qn.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(Zn.location.href),function(t){var n=Dt.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}(),Kn=n(2340)["document"],Xn=fn.hasStandardBrowserEnv?{write:function(e,t,n,r,i,o){var a=[e+"="+encodeURIComponent(t)];Dt.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Dt.isString(r)&&a.push("path="+r),Dt.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),Kn.cookie=a.join("; ")},read:function(e){var t=Kn.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function $n(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function er(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function tr(e,t){return e&&!$n(t)?er(e,t):t}var nr=function(e){return e instanceof jn?c({},e):e};function rr(e,t){t=t||{};var n={};function r(e,t,n){return Dt.isPlainObject(e)&&Dt.isPlainObject(t)?Dt.merge.call({caseless:n},e,t):Dt.isPlainObject(t)?Dt.merge({},t):Dt.isArray(t)?t.slice():t}function i(e,t,n){return Dt.isUndefined(t)?Dt.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!Dt.isUndefined(t))return r(void 0,t)}function a(e,t){return Dt.isUndefined(t)?Dt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}var s={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:function(e,t){return i(nr(e),nr(t),!0)}};return Dt.forEach(Object.keys(Object.assign({},e,t)),(function(r){var o=s[r]||i,a=o(e[r],t[r],r);Dt.isUndefined(a)&&o!==u||(n[r]=a)})),n}var ir=function(e){var t,n=rr({},e),r=n.data,i=n.withXSRFToken,o=n.xsrfHeaderName,a=n.xsrfCookieName,u=n.headers,s=n.auth;if(n.headers=u=jn.from(u),n.url=qt(tr(n.baseURL,n.url),e.params,e.paramsSerializer),s&&u.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Dt.isFormData(r))if(fn.hasStandardBrowserEnv||fn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(!1!==(t=u.getContentType())){var c=t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[],l=(0,Wn.A)(c),d=l[0],f=l.slice(1);u.setContentType([d||"multipart/form-data"].concat((0,Gn.A)(f)).join("; "))}if(fn.hasStandardBrowserEnv&&(i&&Dt.isFunction(i)&&(i=i(n)),i||!1!==i&&Jn(n.url))){var h=o&&a&&Xn.read(a);h&&u.set(o,h)}return n},or="undefined"!==typeof XMLHttpRequest,ar=or&&function(e){return new Promise((function(t,n){var r,i,o,a,u,s=ir(e),c=s.data,l=jn.from(s.headers).normalize(),d=s.responseType,f=s.onUploadProgress,h=s.onDownloadProgress;function p(){a&&a(),u&&u(),s.cancelToken&&s.cancelToken.unsubscribe(r),s.signal&&s.signal.removeEventListener("abort",r)}var v=new XMLHttpRequest;function g(){if(v){var r=jn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),i=d&&"text"!==d&&"json"!==d?v.response:v.responseText,o={data:i,status:v.status,statusText:v.statusText,headers:r,config:e,request:v};Fn((function(e){t(e),p()}),(function(e){n(e),p()}),o),v=null}}if(v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout,"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(g)},v.onabort=function(){v&&(n(new zt("Request aborted",zt.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new zt("Network Error",zt.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){var t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded",r=s.transitional||Kt;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),n(new zt(t,r.clarifyTimeoutError?zt.ETIMEDOUT:zt.ECONNABORTED,e,v)),v=null},void 0===c&&l.setContentType(null),"setRequestHeader"in v&&Dt.forEach(l.toJSON(),(function(e,t){v.setRequestHeader(t,e)})),Dt.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),d&&"json"!==d&&(v.responseType=s.responseType),h){var m=Qn(h,!0),y=(0,T.A)(m,2);o=y[0],u=y[1],v.addEventListener("progress",o)}if(f&&v.upload){var x=Qn(f),b=(0,T.A)(x,2);i=b[0],a=b[1],v.upload.addEventListener("progress",i),v.upload.addEventListener("loadend",a)}(s.cancelToken||s.signal)&&(r=function(t){v&&(n(!t||t.type?new Ln(null,e,v):t),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(r),s.signal&&(s.signal.aborted?r():s.signal.addEventListener("abort",r)));var M=Pn(s.url);M&&-1===fn.protocols.indexOf(M)?n(new zt("Unsupported protocol "+M+":",zt.ERR_BAD_REQUEST,e)):v.send(c||null)}))},ur=function(e,t){var n=e=e?e.filter(Boolean):[],r=n.length;if(t||r){var i,o=new AbortController,a=function(e){if(!i){i=!0,s();var t=e instanceof Error?e:this.reason;o.abort(t instanceof zt?t:new Ln(t instanceof Error?t.message:t))}},u=t&&setTimeout((function(){u=null,a(new zt("timeout ".concat(t," of ms exceeded"),zt.ETIMEDOUT))}),t),s=function(){e&&(u&&clearTimeout(u),u=null,e.forEach((function(e){e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((function(e){return e.addEventListener("abort",a)}));var c=o.signal;return c.unsubscribe=function(){return Dt.asap(s)},c}},sr=ur;function cr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new ee(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e["throw"]&&(t["throw"]=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e["return"]&&(t["return"]=function(e){return n?(n=!1,e):r("return",e)}),t}var lr=K().mark((function e(t,n){var r,i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.byteLength,n&&!(r<n)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:i=0;case 6:if(!(i<r)){e.next=13;break}return o=i+n,e.next=10,t.slice(i,o);case 10:i=o,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),dr=function(){var e=ne(K().mark((function e(t,n){var r,i,o,a,u,s;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=!1,i=!1,e.prev=2,a=ge(fr(t));case 4:return e.next=6,te(a.next());case 6:if(!(r=!(u=e.sent).done)){e.next=12;break}return s=u.value,e.delegateYield(cr(ge(lr(s,n)),te),"t0",9);case 9:r=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e["catch"](2),i=!0,o=e.t1;case 18:if(e.prev=18,e.prev=19,!r||null==a.return){e.next=23;break}return e.next=23,te(a.return());case 23:if(e.prev=23,!i){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t,n){return e.apply(this,arguments)}}(),fr=function(){var e=ne(K().mark((function e(t){var n,r,i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t[Symbol.asyncIterator]){e.next=3;break}return e.delegateYield(cr(ge(t),te),"t0",2);case 2:return e.abrupt("return");case 3:n=t.getReader(),e.prev=4;case 5:return e.next=7,te(n.read());case 7:if(r=e.sent,i=r.done,o=r.value,!i){e.next=12;break}return e.abrupt("break",16);case 12:return e.next=14,o;case 14:e.next=5;break;case 16:return e.prev=16,e.next=19,te(n.cancel());case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[4,,16,20]])})));return function(t){return e.apply(this,arguments)}}(),hr=function(e,t,n,r){var i,o=dr(e,t),a=0,u=function(e){i||(i=!0,r&&r(e))};return new ReadableStream({pull:function(e){return ve(K().mark((function t(){var r,i,s,c,l;return K().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.next();case 3:if(r=t.sent,i=r.done,s=r.value,!i){t.next=10;break}return u(),e.close(),t.abrupt("return");case 10:c=s.byteLength,n&&(l=a+=c,n(l)),e.enqueue(new Uint8Array(s)),t.next=19;break;case 15:throw t.prev=15,t.t0=t["catch"](0),u(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},cancel:function(e){return u(e),o.return()}},{highWaterMark:2})},pr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,vr=pr&&"function"===typeof ReadableStream,gr=pr&&("function"===typeof TextEncoder?function(e){return function(t){return e.encode(t)}}(new TextEncoder):function(){var e=ve(K().mark((function e(t){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),mr=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e.apply(void 0,n)}catch(e){return!1}},yr=vr&&mr((function(){var e=!1,t=new Request(fn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),xr=65536,br=vr&&mr((function(){return Dt.isReadableStream(new Response("").body)})),Mr={stream:br&&function(e){return e.body}};pr&&function(e){["text","arrayBuffer","blob","formData","stream"].forEach((function(t){!Mr[t]&&(Mr[t]=Dt.isFunction(e[t])?function(e){return e[t]()}:function(e,n){throw new zt("Response type '".concat(t,"' is not supported"),zt.ERR_NOT_SUPPORT,n)})}))}(new Response);var wr=function(){var e=ve(K().mark((function e(t){var n;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!Dt.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!Dt.isSpecCompliantForm(t)){e.next=9;break}return n=new Request(fn.origin,{method:"POST",body:t}),e.next=8,n.arrayBuffer();case 8:return e.abrupt("return",e.sent.byteLength);case 9:if(!Dt.isArrayBufferView(t)&&!Dt.isArrayBuffer(t)){e.next=11;break}return e.abrupt("return",t.byteLength);case 11:if(Dt.isURLSearchParams(t)&&(t+=""),!Dt.isString(t)){e.next=16;break}return e.next=15,gr(t);case 15:return e.abrupt("return",e.sent.byteLength);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kr=function(){var e=ve(K().mark((function e(t,n){var r;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Dt.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==r?wr(n):r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ar=pr&&function(){var e=ve(K().mark((function e(t){var n,r,i,o,a,u,s,l,d,f,h,p,v,g,m,y,x,b,M,w,k,A,_,I,S,N,E,D,C,j,z,O,L,F;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=ir(t),r=n.url,i=n.method,o=n.data,a=n.signal,u=n.cancelToken,s=n.timeout,l=n.onDownloadProgress,d=n.onUploadProgress,f=n.responseType,h=n.headers,p=n.withCredentials,v=void 0===p?"same-origin":p,g=n.fetchOptions,f=f?(f+"").toLowerCase():"text",m=sr([a,u&&u.toAbortSignal()],s),x=m&&m.unsubscribe&&function(){m.unsubscribe()},e.prev=4,e.t0=d&&yr&&"get"!==i&&"head"!==i,!e.t0){e.next=11;break}return e.next=9,kr(h,o);case 9:e.t1=b=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}M=new Request(r,{method:"POST",body:o,duplex:"half"}),Dt.isFormData(o)&&(w=M.headers.get("content-type"))&&h.setContentType(w),M.body&&(k=Hn(b,Qn(Vn(d))),A=(0,T.A)(k,2),_=A[0],I=A[1],o=hr(M.body,xr,_,I));case 15:return Dt.isString(v)||(v=v?"include":"omit"),S="credentials"in Request.prototype,y=new Request(r,c(c({},g),{},{signal:m,method:i.toUpperCase(),headers:h.normalize().toJSON(),body:o,duplex:"half",credentials:S?v:void 0})),e.next=20,fetch(y);case 20:return N=e.sent,E=br&&("stream"===f||"response"===f),br&&(l||E&&x)&&(D={},["status","statusText","headers"].forEach((function(e){D[e]=N[e]})),C=Dt.toFiniteNumber(N.headers.get("content-length")),j=l&&Hn(C,Qn(Vn(l),!0))||[],z=(0,T.A)(j,2),O=z[0],L=z[1],N=new Response(hr(N.body,xr,O,(function(){L&&L(),x&&x()})),D)),f=f||"text",e.next=26,Mr[Dt.findKey(Mr,f)||"text"](N,t);case 26:return F=e.sent,!E&&x&&x(),e.next=30,new Promise((function(e,n){Fn(e,n,{data:F,headers:jn.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:y})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e["catch"](4),x&&x(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new zt("Network Error",zt.ERR_NETWORK,t,y),{cause:e.t2.cause||e.t2});case 38:throw zt.from(e.t2,e.t2&&e.t2.code,t,y);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}(),_r={http:Ot,xhr:ar,fetch:Ar};Dt.forEach(_r,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var Ir=function(e){return"- ".concat(e)},Sr=function(e){return Dt.isFunction(e)||null===e||!1===e},Nr={getAdapter:function(e){e=Dt.isArray(e)?e:[e];for(var t,n,r=e,i=r.length,o={},a=0;a<i;a++){t=e[a];var u=void 0;if(n=t,!Sr(t)&&(n=_r[(u=String(t)).toLowerCase()],void 0===n))throw new zt("Unknown adapter '".concat(u,"'"));if(n)break;o[u||"#"+a]=n}if(!n){var s=Object.entries(o).map((function(e){var t=(0,T.A)(e,2),n=t[0],r=t[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")})),c=i?s.length>1?"since :\n"+s.map(Ir).join("\n"):" "+Ir(s[0]):"as no adapter specified";throw new zt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:_r};function Er(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ln(null,e)}function Dr(e){Er(e),e.headers=jn.from(e.headers),e.data=Tn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);var t=Nr.getAdapter(e.adapter||bn.adapter);return t(e).then((function(t){return Er(e),t.data=Tn.call(e,e.transformResponse,t),t.headers=jn.from(t.headers),t}),(function(t){return zn(t)||(Er(e),t&&t.response&&(t.response.data=Tn.call(e,e.transformResponse,t.response),t.response.headers=jn.from(t.response.headers))),Promise.reject(t)}))}var Cr="1.7.7",jr={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){jr[e]=function(n){return(0,g.A)(n)===e||"a"+(t<1?"n ":" ")+e}}));var Tr={};function zr(e,t,n){if("object"!==(0,g.A)(e))throw new zt("options must be an object",zt.ERR_BAD_OPTION_VALUE);var r=Object.keys(e),i=r.length;while(i-- >0){var o=r[i],a=t[o];if(a){var u=e[o],s=void 0===u||a(u,o,e);if(!0!==s)throw new zt("option "+o+" must be "+s,zt.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new zt("Unknown option "+o,zt.ERR_BAD_OPTION)}}jr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Cr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new zt(r(i," has been removed"+(t?" in "+t:"")),zt.ERR_DEPRECATED);return t&&!Tr[i]&&(Tr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var Or={assertOptions:zr,validators:jr},Lr=Or.validators,Fr=function(){function e(t){(0,z.A)(this,e),this.defaults=t,this.interceptors={request:new Jt,response:new Jt}}return(0,O.A)(e,[{key:"request",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,n);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e["catch"](0),e.t0 instanceof Error){Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error,i=r.stack?r.stack.replace(/^.+\n/,""):"";try{e.t0.stack?i&&!String(e.t0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+i):e.t0.stack=i}catch(e){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_request",value:function(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=rr(this.defaults,t);var n=t,r=n.transitional,i=n.paramsSerializer,o=n.headers;void 0!==r&&Or.assertOptions(r,{silentJSONParsing:Lr.transitional(Lr.boolean),forcedJSONParsing:Lr.transitional(Lr.boolean),clarifyTimeoutError:Lr.transitional(Lr.boolean)},!1),null!=i&&(Dt.isFunction(i)?t.paramsSerializer={serialize:i}:Or.assertOptions(i,{encode:Lr.function,serialize:Lr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var a=o&&Dt.merge(o.common,o[t.method]);o&&Dt.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=jn.concat(a,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var d,f=0;if(!s){var h=[Dr.bind(this),void 0];h.unshift.apply(h,u),h.push.apply(h,l),d=h.length,c=Promise.resolve(t);while(f<d)c=c.then(h[f++],h[f++]);return c}d=u.length;var p=t;f=0;while(f<d){var v=u[f++],g=u[f++];try{p=v(p)}catch(e){g.call(this,e);break}}try{c=Dr.call(this,p)}catch(e){return Promise.reject(e)}f=0,d=l.length;while(f<d)c=c.then(l[f++],l[f++]);return c}},{key:"getUri",value:function(e){e=rr(this.defaults,e);var t=tr(e.baseURL,e.url);return qt(t,e.params,e.paramsSerializer)}}])}();Dt.forEach(["delete","get","head","options"],(function(e){Fr.prototype[e]=function(t,n){return this.request(rr(n||{},{method:e,url:t,data:(n||{}).data}))}})),Dt.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(rr(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Fr.prototype[e]=t(),Fr.prototype[e+"Form"]=t(!0)}));var Pr=Fr,Rr=function(){function e(t){if((0,z.A)(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t=r._listeners.length;while(t-- >0)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Ln(e,t,i),n(r.reason))}))}return(0,O.A)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}},{key:"toAbortSignal",value:function(){var e=this,t=new AbortController,n=function(e){t.abort(e)};return this.subscribe(n),t.signal.unsubscribe=function(){return e.unsubscribe(n)},t.signal}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}])}(),Ur=Rr;function Br(e){return function(t){return e.apply(null,t)}}function Yr(e){return Dt.isObject(e)&&!0===e.isAxiosError}var Qr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qr).forEach((function(e){var t=(0,T.A)(e,2),n=t[0],r=t[1];Qr[r]=n}));var Hr=Qr;function Vr(e){var t=new Pr(e),n=ye(Pr.prototype.request,t);return Dt.extend(n,Pr.prototype,t,{allOwnKeys:!0}),Dt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(t){return Vr(rr(e,t))},n}var Gr=Vr(bn);Gr.Axios=Pr,Gr.CanceledError=Ln,Gr.CancelToken=Ur,Gr.isCancel=zn,Gr.VERSION=Cr,Gr.toFormData=Yt,Gr.AxiosError=zt,Gr.Cancel=Gr.CanceledError,Gr.all=function(e){return Promise.all(e)},Gr.spread=Br,Gr.isAxiosError=Yr,Gr.mergeConfig=rr,Gr.AxiosHeaders=jn,Gr.formToJSON=function(e){return mn(Dt.isHTMLForm(e)?new FormData(e):e)},Gr.getAdapter=Nr.getAdapter,Gr.HttpStatusCode=Hr,Gr.default=Gr;var Wr=Gr,qr=n(1309),Zr=n(2469),Jr=(Wr.Axios,Wr.AxiosError,Wr.CanceledError,Wr.isCancel,Wr.CancelToken,Wr.VERSION,Wr.all,Wr.Cancel,Wr.isAxiosError,Wr.spread,Wr.toFormData),Kr=(Wr.AxiosHeaders,Wr.HttpStatusCode,Wr.formToJSON,Wr.getAdapter,Wr.mergeConfig,n(1862)),Xr=function(e,t){return Xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Xr(e,t)};function $r(e,t){function n(){this.constructor=e}Xr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function ei(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function ti(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function ni(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ti(arguments[t]));return e}var ri=function(){function e(e,t){this.target=t,this.type=e}return e}(),ii=function(e){function t(t,n){var r=e.call(this,"error",n)||this;return r.message=t.message,r.error=t,r}return $r(t,e),t}(ri),oi=function(e){function t(t,n,r){void 0===t&&(t=1e3),void 0===n&&(n="");var i=e.call(this,"close",r)||this;return i.wasClean=!0,i.code=t,i.reason=n,i}return $r(t,e),t}(ri),ai=function(){if("undefined"!==typeof WebSocket)return WebSocket},ui=function(e){return"undefined"!==typeof e&&!!e&&2===e.CLOSING},si={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},ci=function(){function e(e,t,n){var r=this;void 0===n&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(e){r._debug("open event");var t=r._options.minUptime,n=void 0===t?si.minUptime:t;clearTimeout(r._connectTimeout),r._uptimeTimeout=setTimeout((function(){return r._acceptOpen()}),n),r._ws.binaryType=r._binaryType,r._messageQueue.forEach((function(e){return r._ws.send(e)})),r._messageQueue=[],r.onopen&&r.onopen(e),r._listeners.open.forEach((function(t){return r._callEventListener(e,t)}))},this._handleMessage=function(e){r._debug("message event"),r.onmessage&&r.onmessage(e),r._listeners.message.forEach((function(t){return r._callEventListener(e,t)}))},this._handleError=function(e){r._debug("error event",e.message),r._disconnect(void 0,"TIMEOUT"===e.message?"timeout":void 0),r.onerror&&r.onerror(e),r._debug("exec error listeners"),r._listeners.error.forEach((function(t){return r._callEventListener(e,t)})),r._connect()},this._handleClose=function(e){r._debug("close event"),r._clearTimeouts(),r._shouldReconnect&&r._connect(),r.onclose&&r.onclose(e),r._listeners.close.forEach((function(t){return r._callEventListener(e,t)}))},this._url=e,this._protocols=t,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){var e=this._messageQueue.reduce((function(e,t){return"string"===typeof t?e+=t.length:t instanceof Blob?e+=t.size:e+=t.byteLength,e}),0);return e+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(e,t):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},e.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(e,t),this._connect()):this._connect()},e.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var t=this._options.maxEnqueuedMessages,n=void 0===t?si.maxEnqueuedMessages:t;this._messageQueue.length<n&&(this._debug("enqueue",e),this._messageQueue.push(e))}},e.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},e.prototype.dispatchEvent=function(e){var t,n,r=this._listeners[e.type];if(r)try{for(var i=ei(r),o=i.next();!o.done;o=i.next()){var a=o.value;this._callEventListener(e,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((function(e){return e!==t})))},e.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,ni(["RWS>"],e))},e.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,n=void 0===t?si.reconnectionDelayGrowFactor:t,r=e.minReconnectionDelay,i=void 0===r?si.minReconnectionDelay:r,o=e.maxReconnectionDelay,a=void 0===o?si.maxReconnectionDelay:o,u=0;return this._retryCount>0&&(u=i*Math.pow(n,this._retryCount-1),u>a&&(u=a)),this._debug("next delay",u),u},e.prototype._wait=function(){var e=this;return new Promise((function(t){setTimeout(t,e._getNextDelay())}))},e.prototype._getNextUrl=function(e){if("string"===typeof e)return Promise.resolve(e);if("function"===typeof e){var t=e();if("string"===typeof t)return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},e.prototype._connect=function(){var e=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var t=this._options,n=t.maxRetries,r=void 0===n?si.maxRetries:n,i=t.connectionTimeout,o=void 0===i?si.connectionTimeout:i,a=t.WebSocket,u=void 0===a?ai():a;if(this._retryCount>=r)this._debug("max retries reached",this._retryCount,">=",r);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!ui(u))throw Error("No valid WebSocket class provided");this._wait().then((function(){return e._getNextUrl(e._url)})).then((function(t){e._closeCalled||(e._debug("connect",{url:t,protocols:e._protocols}),e._ws=e._protocols?new u(t,e._protocols):new u(t),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout((function(){return e._handleTimeout()}),o))}))}}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new ii(Error("TIMEOUT"),this))},e.prototype._disconnect=function(e,t){if(void 0===e&&(e=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new oi(e,t,this))}catch(e){}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}(),li=ci,di=n(9075),fi=n(6982),hi=(n(3106),n(786),n(2340)["window"]),pi=n(2340)["navigator"],vi=(n(2340)["URLSearchParams"],["conversation_id"]),gi=["conversation_id"],mi=["conversation_id"],yi=["conversation_id","chat_id"],xi=(0,O.A)((function e(t){(0,z.A)(this,e),this._client=t})),bi=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/bot/create",e.next=3,this._client.post(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/bot/update",e.next=3,this._client.post(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"list",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/space/published_bots_list",e.next=3,this._client.get(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"publish",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/bot/publish",e.next=3,this._client.post(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"retrieve",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/bot/get_online_info",e.next=3,this._client.get(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi);function Mi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return JSON.parse(e)}catch(e){return t}}function wi(e){return new Promise((function(t){setTimeout(t,e)}))}function ki(){return"undefined"!=typeof hi}function Ai(e){if("object"!=(0,g.A)(e)||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t;while(null!==Object.getPrototypeOf(n))n=Object.getPrototypeOf(n);return t===n}function _i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){if(void 0===t)return e||{};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Ai(t[n])&&!Array.isArray(t[n])?e[n]=_i(e[n]||{},t[n]):e[n]=t[n]);return e}),{})}function Ii(e){return null==e?void 0:e.startsWith("pat_")}var Si=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t)}((0,Zr.A)(Error)),Ni=function(e){function t(e,n,r,i){var o,a,u;return(0,z.A)(this,t),o=(0,L.A)(this,t,["".concat(t.makeMessage(e,n,r,i))]),o.status=e,o.headers=i,o.logid=(null==n||null===(a=n.detail)||void 0===a?void 0:a.logid)||(null==i?void 0:i["x-tt-logid"]),o.code=null==n?void 0:n.code,o.msg=null==n?void 0:n.msg,o.detail=null==n||null===(u=n.error)||void 0===u?void 0:u.detail,o.rawError=n,o}return(0,P.A)(t,e),(0,O.A)(t,null,[{key:"makeMessage",value:function(e,t,n,r){if(!t&&n)return n;if(t){var i=[],o=t.code,a=t.msg,u=t.error;o&&i.push("code: ".concat(o)),a&&i.push("msg: ".concat(a)),(null==u?void 0:u.detail)&&a!==u.detail&&i.push("detail: ".concat(u.detail));var s=(null==u?void 0:u.logid)||(null==r?void 0:r["x-tt-logid"]);return s&&i.push("logid: ".concat(s)),i.join(", ")}return e?"http status code: ".concat(e," (no body)"):"(no status code or body)"}},{key:"generate",value:function(e,n,r,i){if(!e)return new Ei({cause:Ri(n)});var o=n;return 400===e||4e3===(null==o?void 0:o.code)?new Ci(e,o,r,i):401===e||4100===(null==o?void 0:o.code)?new ji(e,o,r,i):403===e||4101===(null==o?void 0:o.code)?new Ti(e,o,r,i):404===e||4200===(null==o?void 0:o.code)?new zi(e,o,r,i):429===e||4013===(null==o?void 0:o.code)?new Li(e,o,r,i):408===e?new Oi(e,o,r,i):502===e?new Pi(e,o,r,i):e>=500?new Fi(e,o,r,i):new t(e,o,r,i)}}])}(Si),Ei=function(e){function t(e){var n,r=e.message;e.cause;return(0,z.A)(this,t),n=(0,L.A)(this,t,[void 0,void 0,r||"Connection error.",void 0]),n.status=void 0,n}return(0,P.A)(t,e),(0,O.A)(t)}(Ni),Di=function(e){function t(e){var n;return(0,z.A)(this,t),n=(0,L.A)(this,t,[void 0,void 0,e||"Request was aborted.",void 0]),n.name="UserAbortError",n.status=void 0,n}return(0,P.A)(t,e),(0,O.A)(t)}(Ni),Ci=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.name="BadRequestError",e.status=400,e}return(0,P.A)(t,e),(0,O.A)(t)}(Ni),ji=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.name="AuthenticationError",e.status=401,e}return(0,P.A)(t,e),(0,O.A)(t)}(Ni),Ti=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.name="PermissionDeniedError",e.status=403,e}return(0,P.A)(t,e),(0,O.A)(t)}(Ni),zi=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.name="NotFoundError",e.status=404,e}return(0,P.A)(t,e),(0,O.A)(t)}(Ni),Oi=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.name="TimeoutError",e.status=408,e}return(0,P.A)(t,e),(0,O.A)(t)}(Ni),Li=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.name="RateLimitError",e.status=429,e}return(0,P.A)(t,e),(0,O.A)(t)}(Ni),Fi=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.name="InternalServerError",e.status=500,e}return(0,P.A)(t,e),(0,O.A)(t)}(Ni),Pi=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.name="GatewayError",e.status=502,e}return(0,P.A)(t,e),(0,O.A)(t)}(Ni),Ri=function(e){return e instanceof Error?e:new Error(e)},Ui=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"list",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v3/chat/message/list?conversation_id=".concat(t,"&chat_id=").concat(n),e.next=3,this._client.get(i,void 0,!1,r);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}])}(xi),Bi=function(){return(Math.random()*(new Date).getTime()).toString()},Yi=function(e){return null==e?void 0:e.map((function(e){return c(c({},e),{},{content:"object"==(0,g.A)(e.content)?JSON.stringify(e.content):e.content})}))},Qi=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.messages=new Ui(e._client),e}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r,i,o,u,s;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.user_id||(t.user_id=Bi()),r=t.conversation_id,i=a(t,vi),o="/v3/chat".concat(r?"?conversation_id=".concat(r):""),u=c(c({},i),{},{additional_messages:Yi(t.additional_messages),stream:!1}),e.next=6,this._client.post(o,u,!1,n);case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"createAndPoll",value:function(){var e=ve(K().mark((function e(t,n){var r,i,o,u,s,l,d,f,h;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.user_id||(t.user_id=Bi()),r=t.conversation_id,i=a(t,gi),o="/v3/chat".concat(r?"?conversation_id=".concat(r):""),u=c(c({},i),{},{additional_messages:Yi(t.additional_messages),stream:!1}),e.next=6,this._client.post(o,u,!1,n);case 6:s=e.sent,l=s.data.id,d=s.data.conversation_id;case 9:return e.next=12,wi(100);case 12:return e.next=14,this.retrieve(d,l);case 14:if(f=e.sent,"completed"!==f.status&&"failed"!==f.status&&"requires_action"!==f.status){e.next=17;break}return e.abrupt("break",19);case 17:e.next=9;break;case 19:return e.next=21,this.messages.list(d,l);case 21:return h=e.sent,e.abrupt("return",{chat:f,messages:h});case 23:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"stream",value:function(e,t){var n=this;return ne(K().mark((function r(){var i,o,u,s,l,d,f,h,p,v,g,m,y;return K().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.user_id||(e.user_id=Bi()),i=e.conversation_id,o=a(e,mi),u="/v3/chat".concat(i?"?conversation_id=".concat(i):""),s=c(c({},o),{},{additional_messages:Yi(e.additional_messages),stream:!0}),r.next=6,te(n._client.post(u,s,!0,t));case 6:l=r.sent,d=!1,f=!1,r.prev=9,p=ge(l);case 11:return r.next=13,te(p.next());case 13:if(!(d=!(v=r.sent).done)){r.next=33;break}if(g=v.value,"done"!==g.event){r.next=21;break}return m={event:g.event,data:"[DONE]"},r.next=19,m;case 19:r.next=30;break;case 21:return r.prev=21,y={event:g.event,data:JSON.parse(g.data)},r.next=25,y;case 25:r.next=30;break;case 27:throw r.prev=27,r.t0=r["catch"](21),new Si("Could not parse message into JSON:".concat(g.data));case 30:d=!1,r.next=11;break;case 33:r.next=39;break;case 35:r.prev=35,r.t1=r["catch"](9),f=!0,h=r.t1;case 39:if(r.prev=39,r.prev=40,!d||null==p.return){r.next=44;break}return r.next=44,te(p.return());case 44:if(r.prev=44,!f){r.next=47;break}throw h;case 47:return r.finish(44);case 48:return r.finish(39);case 49:case"end":return r.stop()}}),r,null,[[9,35,39,49],[21,27],[40,,44,48]])})))()}},{key:"retrieve",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v3/chat/retrieve?conversation_id=".concat(t,"&chat_id=").concat(n),e.next=3,this._client.post(i,void 0,!1,r);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o,a;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v3/chat/cancel",o={conversation_id:t,chat_id:n},e.next=4,this._client.post(i,o,!1,r);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"submitToolOutputs",value:function(e,t){var n=this;return ne(K().mark((function r(){var i,o,u,s,l,d,f,h,p,v,g,m,y;return K().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.conversation_id,e.chat_id,i=a(e,yi),o="/v3/chat/submit_tool_outputs?conversation_id=".concat(e.conversation_id,"&chat_id=").concat(e.chat_id),u=c({},i),!1!==e.stream){r.next=8;break}return r.next=6,te(n._client.post(o,u,!1,t));case 6:return s=r.sent,r.abrupt("return",s.data);case 8:return r.next=10,te(n._client.post(o,u,!0,t));case 10:l=r.sent,d=!1,f=!1,r.prev=13,p=ge(l);case 15:return r.next=17,te(p.next());case 17:if(!(d=!(v=r.sent).done)){r.next=37;break}if(g=v.value,"done"!==g.event){r.next=25;break}return m={event:g.event,data:"[DONE]"},r.next=23,m;case 23:r.next=34;break;case 25:return r.prev=25,y={event:g.event,data:JSON.parse(g.data)},r.next=29,y;case 29:r.next=34;break;case 31:throw r.prev=31,r.t0=r["catch"](25),new Si("Could not parse message into JSON:".concat(g.data));case 34:d=!1,r.next=15;break;case 37:r.next=43;break;case 39:r.prev=39,r.t1=r["catch"](13),f=!0,h=r.t1;case 43:if(r.prev=43,r.prev=44,!d||null==p.return){r.next=48;break}return r.next=48,te(p.return());case 48:if(r.prev=48,!f){r.next=51;break}throw h;case 51:return r.finish(48);case 52:return r.finish(43);case 53:case"end":return r.stop()}}),r,null,[[13,39,43,53],[25,31],[44,,48,52]])})))()}}])}(xi),Hi=function(e){return e["CONVERSATION_CHAT_CREATED"]="conversation.chat.created",e["CONVERSATION_CHAT_IN_PROGRESS"]="conversation.chat.in_progress",e["CONVERSATION_CHAT_COMPLETED"]="conversation.chat.completed",e["CONVERSATION_CHAT_FAILED"]="conversation.chat.failed",e["CONVERSATION_CHAT_REQUIRES_ACTION"]="conversation.chat.requires_action",e["CONVERSATION_MESSAGE_DELTA"]="conversation.message.delta",e["CONVERSATION_MESSAGE_COMPLETED"]="conversation.message.completed",e["CONVERSATION_AUDIO_DELTA"]="conversation.audio.delta",e["DONE"]="done",e["ERROR"]="error",e}({}),Vi=function(e){return e["User"]="user",e["Assistant"]="assistant",e}({}),Gi=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v1/conversation/message/create?conversation_id=".concat(t),e.next=3,this._client.post(i,n,!1,r);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=ve(K().mark((function e(t,n,r,i){var o,a;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o="/v1/conversation/message/modify?conversation_id=".concat(t,"&message_id=").concat(n),e.next=3,this._client.post(o,r,!1,i);case 3:return a=e.sent,e.abrupt("return",a.message);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"retrieve",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v1/conversation/message/retrieve?conversation_id=".concat(t,"&message_id=").concat(n),e.next=3,this._client.get(i,null,!1,r);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"list",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v1/conversation/message/list?conversation_id=".concat(t),e.next=3,this._client.post(i,n,!1,r);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v1/conversation/message/delete?conversation_id=".concat(t,"&message_id=").concat(n),e.next=3,this._client.post(i,void 0,!1,r);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}])}(xi),Wi=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.messages=new Gi(e._client),e}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/conversation/create",e.next=3,this._client.post(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"retrieve",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/conversation/retrieve?conversation_id=".concat(t),e.next=3,this._client.get(r,null,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"list",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/conversations",e.next=3,this._client.get(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/conversations/".concat(t,"/clear"),e.next=3,this._client.post(r,null,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),qi=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"upload",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/files/upload",e.next=3,this._client.post(r,Jr(t),!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"retrieve",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/files/retrieve?file_id=".concat(t),e.next=3,this._client.get(r,null,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),Zi=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/workflow/run",e.next=3,this._client.post(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"stream",value:function(e,t){var n=this;return ne(K().mark((function r(){var i,o,a,u,s,c,l,d;return K().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i="/v1/workflow/stream_run",r.next=3,te(n._client.post(i,e,!0,t));case 3:o=r.sent,a=!1,u=!1,r.prev=6,c=ge(o);case 8:return r.next=10,te(c.next());case 10:if(!(a=!(l=r.sent).done)){r.next=28;break}if(d=l.value,r.prev=12,"Done"!==d.event){r.next=18;break}return r.next=16,new Ji(Number(d.id),"Done");case 16:r.next=20;break;case 18:return r.next=20,new Ji(Number(d.id),d.event,JSON.parse(d.data));case 20:r.next=25;break;case 22:throw r.prev=22,r.t0=r["catch"](12),new Si("Could not parse message into JSON:".concat(d.data));case 25:a=!1,r.next=8;break;case 28:r.next=34;break;case 30:r.prev=30,r.t1=r["catch"](6),u=!0,s=r.t1;case 34:if(r.prev=34,r.prev=35,!a||null==c.return){r.next=39;break}return r.next=39,te(c.return());case 39:if(r.prev=39,!u){r.next=42;break}throw s;case 42:return r.finish(39);case 43:return r.finish(34);case 44:case"end":return r.stop()}}),r,null,[[6,30,34,44],[12,22],[35,,39,43]])})))()}},{key:"resume",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/workflow/stream_resume",e.next=3,this._client.post(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),Ji=(0,O.A)((function e(t,n,r){(0,z.A)(this,e),this.id=t,this.event=n,this.data=r})),Ki=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"stream",value:function(e,t){var n=this;return ne(K().mark((function r(){var i,o,a,u,s,l,d,f,h,p,v;return K().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i="/v1/workflows/chat",o=c(c({},e),{},{additional_messages:Yi(e.additional_messages)}),r.next=4,te(n._client.post(i,o,!0,t));case 4:a=r.sent,u=!1,s=!1,r.prev=7,d=ge(a);case 9:return r.next=11,te(d.next());case 11:if(!(u=!(f=r.sent).done)){r.next=31;break}if(h=f.value,h.event!==Hi.DONE){r.next=19;break}return p={event:h.event,data:"[DONE]"},r.next=17,p;case 17:r.next=28;break;case 19:return r.prev=19,v={event:h.event,data:JSON.parse(h.data)},r.next=23,v;case 23:r.next=28;break;case 25:throw r.prev=25,r.t0=r["catch"](19),new Si("Could not parse message into JSON:".concat(h.data));case 28:u=!1,r.next=9;break;case 31:r.next=37;break;case 33:r.prev=33,r.t1=r["catch"](7),s=!0,l=r.t1;case 37:if(r.prev=37,r.prev=38,!u||null==d.return){r.next=42;break}return r.next=42,te(d.return());case 42:if(r.prev=42,!s){r.next=45;break}throw l;case 45:return r.finish(42);case 46:return r.finish(37);case 47:case"end":return r.stop()}}),r,null,[[7,33,37,47],[19,25],[38,,42,46]])})))()}}])}(xi),Xi=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.runs=new Zi(e._client),e.chat=new Ki(e._client),e}return(0,P.A)(t,e),(0,O.A)(t)}(xi),$i=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"list",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/workspaces",e.next=3,this._client.get(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",Mi(i,i).data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),eo={"agw-js-conv":"str"},to=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"list",value:function(e,t){var n="/open_api/knowledge/document/list",r=this._client.get(n,e,!1,_i(t,{headers:eo}));return r}},{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/open_api/knowledge/document/create",e.next=3,this._client.post(r,t,!1,_i(n,{headers:eo}));case 3:return i=e.sent,e.abrupt("return",i.document_infos);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=ve(K().mark((function e(t,n){var r;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/open_api/knowledge/document/delete",e.next=3,this._client.post(r,t,!1,_i(n,{headers:eo}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=ve(K().mark((function e(t,n){var r;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/open_api/knowledge/document/update",e.next=3,this._client.post(r,t,!1,_i(n,{headers:eo}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),no=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.documents=new to(e._client),e}return(0,P.A)(t,e),(0,O.A)(t)}(xi),ro={"agw-js-conv":"str"},io=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"list",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/open_api/knowledge/document/list",e.next=3,this._client.get(r,t,!1,_i(n,{headers:ro}));case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/open_api/knowledge/document/create",e.next=3,this._client.post(r,t,!1,_i(n,{headers:ro}));case 3:return i=e.sent,e.abrupt("return",i.document_infos);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=ve(K().mark((function e(t,n){var r;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/open_api/knowledge/document/delete",e.next=3,this._client.post(r,t,!1,_i(n,{headers:ro}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=ve(K().mark((function e(t,n){var r;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/open_api/knowledge/document/update",e.next=3,this._client.post(r,t,!1,_i(n,{headers:ro}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),oo=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"update",value:function(){var e=ve(K().mark((function e(t,n,r,i){var o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o="/v1/datasets/".concat(t,"/images/").concat(n),e.next=3,this._client.put(o,r,!1,i);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"list",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v1/datasets/".concat(t,"/images"),e.next=3,this._client.get(i,n,!1,r);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}])}(xi),ao=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.documents=new io(e._client),e.images=new oo(e._client),e}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/datasets",e.next=3,this._client.post(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"list",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/datasets",e.next=3,this._client.get(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=ve(K().mark((function e(t,n,r){var i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v1/datasets/".concat(t),e.next=3,this._client.put(i,n,!1,r);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=ve(K().mark((function e(t,n){var r;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/datasets/".concat(t),e.next=3,this._client.delete(r,!1,n);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"process",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v1/datasets/".concat(t,"/process"),e.next=3,this._client.post(i,n,!1,r);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}])}(xi),uo=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"clone",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/audio/voices/clone",e.next=3,this._client.post(r,Jr(t),!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"list",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/audio/voices",e.next=3,this._client.get(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),so=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/audio/transcriptions",e.next=3,this._client.post(r,Jr(t),!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),co=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/audio/speech",e.next=3,this._client.post(r,c(c({},t),{},{sample_rate:t.sample_rate||24e3}),!1,_i(n,{responseType:"arraybuffer"}));case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),lo=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/audio/rooms",e.next=3,this._client.post(r,t,!1,n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),fo=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.rooms=new lo(e._client),e.voices=new uo(e._client),e.speech=new co(e._client),e.transcriptions=new so(e._client),e}return(0,P.A)(t,e),(0,O.A)(t)}(xi),ho=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"duplicate",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/v1/templates/".concat(t,"/duplicate"),e.next=3,this._client.post(i,n,!1,r);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}])}(xi),po=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t,n){var r;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="/v1/chat?bot_id=".concat(t),e.next=3,this._client.makeWebsocket(r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(xi),vo=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t){var n;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="/v1/audio/transcriptions",e.next=3,this._client.makeWebsocket(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}])}(xi),go=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"create",value:function(){var e=ve(K().mark((function e(t){var n;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="/v1/audio/speech",e.next=3,this._client.makeWebsocket(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}])}(xi),mo=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.speech=new go(e._client),e.transcriptions=new vo(e._client),e}return(0,P.A)(t,e),(0,O.A)(t)}(xi),yo=function(e){return e["CLIENT_ERROR"]="client_error",e["CLOSED"]="closed",e["ERROR"]="error",e["INPUT_TEXT_BUFFER_APPEND"]="input_text_buffer.append",e["INPUT_TEXT_BUFFER_COMPLETE"]="input_text_buffer.complete",e["SPEECH_UPDATE"]="speech.update",e["SPEECH_UPDATED"]="speech.updated",e["SPEECH_CREATED"]="speech.created",e["INPUT_TEXT_BUFFER_COMPLETED"]="input_text_buffer.completed",e["SPEECH_AUDIO_UPDATE"]="speech.audio.update",e["SPEECH_AUDIO_COMPLETED"]="speech.audio.completed",e["INPUT_AUDIO_BUFFER_APPEND"]="input_audio_buffer.append",e["INPUT_AUDIO_BUFFER_COMPLETE"]="input_audio_buffer.complete",e["TRANSCRIPTIONS_UPDATE"]="transcriptions.update",e["INPUT_AUDIO_BUFFER_CLEAR"]="input_audio_buffer.clear",e["TRANSCRIPTIONS_CREATED"]="transcriptions.created",e["INPUT_AUDIO_BUFFER_COMPLETED"]="input_audio_buffer.completed",e["TRANSCRIPTIONS_MESSAGE_UPDATE"]="transcriptions.message.update",e["TRANSCRIPTIONS_MESSAGE_COMPLETED"]="transcriptions.message.completed",e["INPUT_AUDIO_BUFFER_CLEARED"]="input_audio_buffer.cleared",e["TRANSCRIPTIONS_UPDATED"]="transcriptions.updated",e["CHAT_UPDATE"]="chat.update",e["CONVERSATION_CHAT_SUBMIT_TOOL_OUTPUTS"]="conversation.chat.submit_tool_outputs",e["CHAT_CREATED"]="chat.created",e["CHAT_UPDATED"]="chat.updated",e["CONVERSATION_CHAT_CREATED"]="conversation.chat.created",e["CONVERSATION_MESSAGE_CREATE"]="conversation.message.create",e["CONVERSATION_CLEAR"]="conversation.clear",e["CONVERSATION_CHAT_IN_PROGRESS"]="conversation.chat.in_progress",e["CONVERSATION_MESSAGE_DELTA"]="conversation.message.delta",e["CONVERSATION_CHAT_REQUIRES_ACTION"]="conversation.chat.requires_action",e["CONVERSATION_MESSAGE_COMPLETED"]="conversation.message.completed",e["CONVERSATION_AUDIO_DELTA"]="conversation.audio.delta",e["CONVERSATION_AUDIO_COMPLETED"]="conversation.audio.completed",e["CONVERSATION_CHAT_COMPLETED"]="conversation.chat.completed",e["CONVERSATION_CHAT_FAILED"]="conversation.chat.failed",e["CONVERSATION_CLEARED"]="conversation.cleared",e}({}),xo=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.audio=new mo(e._client),e.chat=new po(e._client),e}return(0,P.A)(t,e),(0,O.A)(t)}(xi),bo=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,z.A)(this,e),this.onmessage=null,this.onopen=null,this.onclose=null,this.onerror=null;var i=t.includes("?")?"&":"?",o=r.headers||{},a=o.authorization;this.rws=new li("".concat(t).concat(i,"authorization=").concat(a),[],c({WebSocket:ki()?hi.WebSocket:function(e){function t(e,n){return(0,z.A)(this,t),(0,L.A)(this,t,[e,n,{headers:r.headers}])}return(0,P.A)(t,e),(0,O.A)(t)}(Kr)},r)),this.rws.addEventListener("message",(function(e){try{var t,r,i=JSON.parse(e.data);null===(t=(r=n).onmessage)||void 0===t||t.call(r,i,e)}catch(e){console.error("WebSocketAPI onmessage error",e)}})),this.rws.addEventListener("open",(function(e){var t,r;null===(t=(r=n).onopen)||void 0===t||t.call(r,e)})),this.rws.addEventListener("close",(function(e){var t,r;null===(t=(r=n).onclose)||void 0===t||t.call(r,e)})),this.rws.addEventListener("error",(function(e){var t,r,i,o,a,u,s,c,l=null===(i=e.target)||void 0===i||null===(r=i._req)||void 0===r||null===(t=r.res)||void 0===t?void 0:t.statusCode,d=(null===(u=e.target)||void 0===u||null===(a=u._req)||void 0===a||null===(o=a.res)||void 0===o?void 0:o.rawHeaders)||[],f=d.findIndex((function(e){return"X-Tt-Logid"===e})),h=-1!==f?d[f+1]:void 0,p={id:"0",event_type:yo.ERROR,data:{code:-1,msg:"WebSocket error"},detail:{logid:h}};401===l?(p.data.code=401,p.data.msg="Unauthorized"):403===l?(p.data.code=403,p.data.msg="Forbidden"):(p.data.code=500,p.data.msg=String(null==e?void 0:e.error)||"WebSocket error"),null===(s=(c=n).onerror)||void 0===s||s.call(c,p,e)}))}return(0,O.A)(e,[{key:"readyState",get:function(){return this.rws.readyState}},{key:"send",value:function(e){return this.rws.send(JSON.stringify(e))}},{key:"close",value:function(e,t){return this.rws.close(e,t)}},{key:"reconnect",value:function(e,t){return this.rws.reconnect(e,t)}},{key:"addEventListener",value:function(e,t){this.rws.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.rws.removeEventListener(e,t)}}])}(),Mo=JSON.parse('{"name":"@coze/api","version":"1.0.20","description":"Official Coze Node.js SDK for seamless AI integration into your applications | \u6263\u5b50\u5b98\u65b9 Node.js SDK\uff0c\u52a9\u60a8\u8f7b\u677e\u96c6\u6210 AI \u80fd\u529b\u5230\u5e94\u7528\u4e2d","keywords":["coze","ai","nodejs","sdk","chatbot","typescript"],"homepage":"https://github.com/coze-dev/coze-js/tree/main/packages/coze-js","bugs":{"url":"https://github.com/coze-dev/coze-js/issues"},"repository":{"type":"git","url":"https://github.com/coze-dev/coze-js.git","directory":"packages/coze-js"},"license":"MIT","author":"Leeight <leeight@gmail.com>","type":"module","exports":{".":"./src/index.ts"},"main":"src/index.ts","module":"src/index.ts","browser":{"crypto":false,"os":false,"jsonwebtoken":false,"node-fetch":false},"types":"src/index.ts","files":["dist","LICENSE","README.md","README.zh-CN.md"],"scripts":{"build":"rslib build","format":"prettier --write .","lint":"eslint ./ --cache --quiet","start":"rslib build -w","test":"vitest","test:cov":"vitest --coverage --run"},"dependencies":{"jsonwebtoken":"^9.0.2","node-fetch":"^2.x","reconnecting-websocket":"^4.4.0","ws":"^8.11.0"},"devDependencies":{"@coze-infra/eslint-config":"workspace:*","@coze-infra/ts-config":"workspace:*","@coze-infra/vitest-config":"workspace:*","@rslib/core":"0.0.18","@swc/core":"^1.3.14","@types/jsonwebtoken":"^9.0.0","@types/node":"^20","@types/node-fetch":"^2.x","@types/uuid":"^9.0.1","@types/whatwg-fetch":"^0.0.33","@types/ws":"^8.5.1","@vitest/coverage-v8":"~2.1.4","axios":"^1.7.7","typescript":"^5.5.3","vitest":"~2.1.4"},"peerDependencies":{"axios":"^1.7.1"},"cozePublishConfig":{"exports":{".":{"require":"./dist/cjs/index.cjs","import":"./dist/esm/index.js","types":"./dist/types/index.d.ts"}},"main":"dist/cjs/index.cjs","module":"dist/esm/index.js","types":"dist/types/index.d.ts"}}'),wo=Mo.version,ko=function(){var e=process.version.slice(1),t=process,n=t.platform,r=n.toLowerCase(),i=di.release();if("darwin"===n){r="macos";try{var o=di.release().split(".");if(o.length>=2){var a=parseInt(o[0],10);if(!isNaN(a)&&a>=9){var u=a-9;i="10.".concat(u,".").concat(o[1])}}}catch(e){}}else"win32"===n?(r="windows",i=di.release()):"linux"===n&&(r="linux",i=di.release());return{osName:r,osVersion:i,nodeVersion:e}},Ao=function(){var e=ko(),t=e.nodeVersion,n=e.osName,r=e.osVersion;return"coze-js/".concat(wo," node/").concat(t," ").concat(n,"/").concat(r).toLowerCase()},_o=function(){var e=ko(),t=e.osVersion,n=e.nodeVersion,r=e.osName,i={version:wo,lang:"node",lang_version:n,os_name:r,os_version:t};return JSON.stringify(i)},Io=function(){var e,t={name:"unknown",version:"unknown"},n={name:"unknown",version:"unknown"},r=pi,i=r.userAgent;if(i.indexOf("Windows")>-1){var o;n.name="windows";var a=(null===(o=i.match(/Windows NT ([0-9.]+)/))||void 0===o?void 0:o[1])||"unknown";n.version=a}else if(i.indexOf("Mac OS X")>-1){var u;n.name="macos",n.version=((null===(u=i.match(/Mac OS X ([0-9_]+)/))||void 0===u?void 0:u[1])||"unknown").replace(/_/g,".")}else if(i.indexOf("Linux")>-1){var s;n.name="linux",n.version=(null===(s=i.match(/Linux ([0-9.]+)/))||void 0===s?void 0:s[1])||"unknown"}if(i.indexOf("Chrome")>-1)t.name="chrome",t.version=(null===(e=i.match(/Chrome\/([0-9.]+)/))||void 0===e?void 0:e[1])||"unknown";else if(i.indexOf("Firefox")>-1){var c;t.name="firefox",t.version=(null===(c=i.match(/Firefox\/([0-9.]+)/))||void 0===c?void 0:c[1])||"unknown"}else if(i.indexOf("Safari")>-1){var l;t.name="safari",t.version=(null===(l=i.match(/Version\/([0-9.]+)/))||void 0===l?void 0:l[1])||"unknown"}var d={version:wo,browser:t.name,browser_version:t.version,os_name:n.name,os_version:n.version};return JSON.stringify(d)},So=function(e){return e.isAxiosError||e.code&&e.message?"ECONNABORTED"===e.code&&e.message.includes("timeout")||"ETIMEDOUT"===e.code?new Oi(408,void 0,"Request timed out: ".concat(e.message),null===(t=e.response)||void 0===t?void 0:t.headers):"ERR_CANCELED"===e.code?new Di(e.message):Ni.generate((null===(n=e.response)||void 0===n?void 0:n.status)||500,null===(r=e.response)||void 0===r?void 0:r.data,e.message,null===(i=e.response)||void 0===i?void 0:i.headers):new Si("Unexpected error: ".concat(e.message));var t,n,r,i},No=function(){var e=ve(K().mark((function e(t){var n;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fi(t.url,c({body:t.data},t));case 2:return n=e.sent,e.abrupt("return",c({data:n.body},n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Eo=function(){if(ki())return!0;var e=process.version.slice(1);return jo(e,"18.0.0")>=0};function Do(e){return Co.apply(this,arguments)}function Co(){return Co=ve(K().mark((function e(t){var n,r,i,o,a=arguments;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},r=n.axiosInstance||Wr,!n.isStreaming||!To(r)){e.next=6;break}if(i=r.VERSION||Wr.VERSION,i&&!(jo(i,"1.7.1")<0)){e.next=6;break}throw new Si("Streaming requests require axios version 1.7.1 or higher. Please upgrade your axios version.");case 6:return e.next=8,r(c({url:t,responseType:n.isStreaming?"stream":"json",adapter:n.isStreaming?Eo()?"fetch":No:void 0},n)).catch((function(e){throw So(e)}));case 8:return o=e.sent,e.abrupt("return",{stream:function(){return ne(K().mark((function e(){var t,n,r,i,a,u,s,c,l,d,f,h,p,v;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t=o.data,n=t[Symbol.asyncIterator]?t[Symbol.asyncIterator]():t.getReader(),r=new TextDecoder,i={},a="";case 6:return e.next=9,te(n.next?n.next():n.read());case 9:if(u=e.sent,s=u.done,c=u.value,!s){e.next=19;break}if(!a){e.next=18;break}return i.event="error",i.data=a,e.next=18,i;case 18:return e.abrupt("break",38);case 19:a+=r.decode(c,{stream:!0}),l=a.split("\n"),d=0;case 22:if(!(d<l.length-1)){e.next=35;break}if(f=l[d],h=f.indexOf(":"),-1===h){e.next=32;break}if(p=f.substring(0,h).trim(),v=f.substring(h+1).trim(),i[p]=v,"data"!==p){e.next=32;break}return e.next=32,i;case 32:d++,e.next=22;break;case 35:a=l[l.length-1],e.next=6;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e["catch"](0),So(e.t0);case 43:case"end":return e.stop()}}),e,null,[[0,40]])})))()},json:function(){return o.data},response:o});case 10:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}function jo(e,t){for(var n=e.split(".").map(Number),r=t.split(".").map(Number),i=0;i<3;i++){var o=n[i]||0,a=r[i]||0;if(o>a)return 1;if(o<a)return-1}return 0}function To(e){return!!(null==e?void 0:e.Axios)}var zo="https://api.coze.com",Oo="wss://ws.coze.com",Lo=function(){function e(t){if((0,z.A)(this,e),this._config=t,this.baseURL=t.baseURL||zo,this.baseWsURL=t.baseWsURL||Oo,this.token=t.token,this.axiosOptions=t.axiosOptions||{},this.axiosInstance=t.axiosInstance,this.debug=t.debug||!1,this.allowPersonalAccessTokenInBrowser=t.allowPersonalAccessTokenInBrowser||!1,this.headers=t.headers,ki()&&"function"!=typeof this.token&&Ii(this.token)&&!this.allowPersonalAccessTokenInBrowser)throw new Si("Browser environments do not support authentication using Personal Access Token (PAT) by default.\nas it may expose secret API keys. \n\nPlease use OAuth2.0 authentication mechanism. see:\nhttps://www.coze.com/docs/developer_guides/oauth_apps?_lang=en \n\nIf you need to force use, please set the `allowPersonalAccessTokenInBrowser` option to `true`. \n\ne.g new CozeAPI({ token, allowPersonalAccessTokenInBrowser: true });\n\n")}return(0,O.A)(e,[{key:"getToken",value:function(){var e=ve(K().mark((function e(){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!=typeof this.token){e.next=4;break}return e.next=3,this.token();case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",this.token);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"buildOptions",value:function(){var e=ve(K().mark((function e(t,n,r){var i,o,a;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:return i=e.sent,o={authorization:"Bearer ".concat(i)},ki()?o["X-Coze-Client-User-Agent"]=Io():(o["User-Agent"]=Ao(),o["X-Coze-Client-User-Agent"]=_o()),a=_i(this.axiosOptions,r,{headers:o},{headers:this.headers||{}}),a.method=t,a.data=n,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"buildWebsocketOptions",value:function(){var e=ve(K().mark((function e(t){var n,r,i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:return n=e.sent,r={authorization:"Bearer ".concat(n)},ki()?r["X-Coze-Client-User-Agent"]=Io():(r["User-Agent"]=Ao(),r["X-Coze-Client-User-Agent"]=_o()),o=_i({debug:null!==(i=this._config.debug)&&void 0!==i&&i},this._config.websocketOptions,t,{headers:r},{headers:this.headers||{}}),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"makeRequest",value:function(){var e=ve(K().mark((function e(t,n,r,i,o){var a,u,s,c,l,d,f,h,p,v,g,m,y,x;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="".concat(this.baseURL).concat(t),e.next=3,this.buildOptions(n,r,o);case 3:return u=e.sent,u.isStreaming=i,u.axiosInstance=this.axiosInstance,this.debugLog(null==o?void 0:o.debug,"--- request url: ".concat(a)),this.debugLog(null==o?void 0:o.debug,"--- request options:",u),e.next=10,Do(a,u);case 10:if(s=e.sent,c=s.response,l=s.stream,d=s.json,this.debugLog(null==o?void 0:o.debug,"--- response status: ".concat(c.status)),this.debugLog(null==o?void 0:o.debug,"--- response headers: ",c.headers),h=(null!==(f=c.headers)&&void 0!==f?f:c.header)["content-type"],!i){e.next=26;break}if(!h||!h.includes("application/json")){e.next=25;break}return e.next=21,d();case 21:if(p=e.sent,v=p.code,g=p.msg,0===v||void 0===v){e.next=25;break}throw Ni.generate(c.status,p,g,c.headers);case 25:return e.abrupt("return",l());case 26:if(h&&h.includes("application/json")){e.next=30;break}return e.next=29,c.data;case 29:return e.abrupt("return",e.sent);case 30:return e.next=32,d();case 32:if(m=e.sent,y=m.code,x=m.msg,0===y||void 0===y){e.next=36;break}throw Ni.generate(c.status,m,x,c.headers);case 36:return e.abrupt("return",m);case 37:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i,o){return e.apply(this,arguments)}return t}()},{key:"post",value:function(){var e=ve(K().mark((function e(t,n){var r,i,o=arguments;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],i=o.length>3?o[3]:void 0,e.abrupt("return",this.makeRequest(t,"POST",n,r,i));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var e=ve(K().mark((function e(t,n,r,i){var o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=Object.entries(n||{}).map((function(e){var t=(0,T.A)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&"),e.abrupt("return",this.makeRequest(o?"".concat(t).concat(t.includes("?")?"&":"?").concat(o):t,"GET",void 0,r,i));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"put",value:function(){var e=ve(K().mark((function e(t,n,r,i){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.makeRequest(t,"PUT",n,r,i));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=ve(K().mark((function e(t,n,r){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.makeRequest(t,"DELETE",void 0,n,r));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"makeWebsocket",value:function(){var e=ve(K().mark((function e(t,n){var r,i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="".concat(this.baseWsURL).concat(t),e.next=3,this.buildWebsocketOptions(n);case 3:return i=e.sent,this.debugLog(null==n?void 0:n.debug,"--- websocket url: ".concat(r)),this.debugLog(null==n?void 0:n.debug,"--- websocket options:",i),o=new bo(r,i),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getConfig",value:function(){return this._config}},{key:"debugLog",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(this.debug||t)&&(e=console).debug.apply(e,r)}}])}();Lo.APIError=Ni,Lo.BadRequestError=Ci,Lo.AuthenticationError=ji,Lo.PermissionDeniedError=Ti,Lo.NotFoundError=zi,Lo.RateLimitError=Li,Lo.InternalServerError=Fi,Lo.GatewayError=Pi,Lo.TimeoutError=Oi,Lo.UserAbortError=Di;var Fo=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),e.bots=new bi((0,qr.A)(e)),e.chat=new Qi((0,qr.A)(e)),e.conversations=new Wi((0,qr.A)(e)),e.files=new qi((0,qr.A)(e)),e.knowledge=new no((0,qr.A)(e)),e.datasets=new ao((0,qr.A)(e)),e.workflows=new Xi((0,qr.A)(e)),e.workspaces=new $i((0,qr.A)(e)),e.audio=new fo((0,qr.A)(e)),e.templates=new ho((0,qr.A)(e)),e.websockets=new xo((0,qr.A)(e)),e}return(0,P.A)(t,e),(0,O.A)(t)}(Lo),Po=function(e){function t(e,n){var r;return(0,z.A)(this,t),r=(0,L.A)(this,t,[n]),(0,u.A)(r,"code",void 0),(0,u.A)(r,"msg",void 0),r.code=e,r.msg=n,r}return(0,P.A)(t,e),(0,O.A)(t,[{key:"getErrorMessageByI18n",value:function(e,t,n){return e.t("miniChatError_".concat(this.code),t,n||this.msg)}}])}((0,Zr.A)(Error)),Ro=function(e){var t=e;return new Po((null===t||void 0===t?void 0:t.code)||-1,(null===t||void 0===t?void 0:t.msg)||(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t?void 0:t.stack)||"unknown error")},Uo=function(e){return e[e["Unknown"]=-1]="Unknown",e[e["Audio_Permission_Denied"]=1e3]="Audio_Permission_Denied",e[e["Audio_Translation_NoContent"]=1001]="Audio_Translation_NoContent",e[e["Custom_Conversation_Create_Error"]=1002]="Custom_Conversation_Create_Error",e[e["Custom_GetMessageList_Error"]=10003]="Custom_GetMessageList_Error",e[e["SDK_API_OVERDUE_PAYMENT"]=4011]="SDK_API_OVERDUE_PAYMENT",e[e["SDK_API_APP_UnPublished"]=4015]="SDK_API_APP_UnPublished",e}({}),Bo=function(e){var t=e.url,n=e.method,r=e.data,i=e.headers,o=(0,D.Tn)(i.toJSON)?i.toJSON():i;o["Content-Type"]=o["Content-Type"]||"application/json",Q.debug("taroAdapter:",e);var a="arraybuffer"===e.responseType?"arraybuffer":"text";return new Promise((function(i,u){(0,I.request)({url:t,method:(null!==n&&void 0!==n?n:"GET").toUpperCase(),data:r,header:o,responseType:a,timeout:6e5,success:function(t){i({data:t.data,status:t.statusCode,statusText:t.errMsg,headers:t.header,config:e})},fail:function(e){u(e)}})}))},Yo=["onRefreshToken","axiosOptions"],Qo=function(e){return e[e["ERROR_FORBIDDEN"]=401]="ERROR_FORBIDDEN",e[e["ERROR_INVALID_TOKEN"]=4100]="ERROR_INVALID_TOKEN",e[e["ERROR_TOKEN_FORBIDDEN"]=4101]="ERROR_TOKEN_FORBIDDEN",e[e["ERROR_TOKEN_FAILED"]=700012006]="ERROR_TOKEN_FAILED",e}(Qo||{}),Ho=function(e){function t(e){var n,r=e.onRefreshToken,i=e.axiosOptions,o=a(e,Yo);return(0,z.A)(this,t),n=(0,L.A)(this,t,[c(c({},o),{},{axiosOptions:c(c({},i||{}),{},{timeout:6e5,validateStatus:function(){return!0}})})]),(0,u.A)(n,"onRefreshToken",void 0),(0,u.A)(n,"refreshTokenPromise",void 0),n.onRefreshToken=r,n.axiosInstance=Wr.create({adapter:ae?void 0:Bo}),n.useAuthError(),n.mixTaroUpload(),n}return(0,P.A)(t,e),(0,O.A)(t,[{key:"useAuthError",value:function(){var e=this;this.useResponseInterceptors(function(){var t=ve(K().mark((function t(n){var r,i,o,a;return K().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=(null===n||void 0===n?void 0:n.data)||{},i=r.code,!e.isAuthErrorCode(i||n.status)){t.next=12;break}return Q.error("request auth error :",i||n.status),o=e.getTokenFromHeaderAuth(String(n.config.headers.getAuthorization()||"")),t.next=6,e.refreshToken(o);case 6:if(a=t.sent,!a){t.next=12;break}return n.config.headers.Authorization="Bearer ".concat(a),t.next=11,Wr.request(n.config);case 11:return t.abrupt("return",t.sent);case 12:if(!(n.status<200||n.status>400)){t.next=15;break}throw Q.error("request error:",n),new Error(n.statusText);case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=ve(K().mark((function t(n){var r,i,o,a;return K().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=(null===n||void 0===n?void 0:n.data)||{},i=r.code,!e.isAuthErrorCode(i||n.status)){t.next=11;break}return o=e.getTokenFromHeaderAuth(String(n.config.headers.getAuthorization()||"")),t.next=5,e.refreshToken(o);case 5:if(a=t.sent,!a){t.next=11;break}return n.config.headers.Authorization="Bearer ".concat(a),t.next=10,Wr.request(n.config);case 10:return t.abrupt("return",t.sent);case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"isAuthErrorCode",value:function(e){return[Qo.ERROR_FORBIDDEN,Qo.ERROR_INVALID_TOKEN,Qo.ERROR_TOKEN_FORBIDDEN,Qo.ERROR_TOKEN_FAILED].includes(e)}},{key:"getTokenFromHeaderAuth",value:function(e){return e.replace(/^\s*Bearer\s*/,"").replace(/\s+$/,"")}},{key:"refreshToken",value:function(){var e=ve(K().mark((function e(t){var n,r;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.refreshTokenPromise){e.next=2;break}return e.abrupt("return",this.refreshTokenPromise);case 2:if(t===this.token){e.next=4;break}return e.abrupt("return",this.token);case 4:return this.refreshTokenPromise=null===(n=this.onRefreshToken)||void 0===n?void 0:n.call(this,this.token),e.next=7,this.refreshTokenPromise;case 7:return r=e.sent,this.refreshTokenPromise=void 0,this.token=r||"",e.abrupt("return",this.token);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"useResponseInterceptors",value:function(e,t){this.getAxiosInstance().interceptors.response.use(e,t)}},{key:"useRequestInterceptors",value:function(e){this.getAxiosInstance().interceptors.request.use(e)}},{key:"getAxiosInstance",value:function(){return this.axiosInstance}},{key:"makeRequest",value:function(e,n,r,i,o){if(ae||!i)try{return(0,F.A)(t,"makeRequest",this,3)([e,n,r,i,o])}catch(e){Q.error("makeRequestError:",e)}return this.requestMiniSse({apiUrl:e,method:n,body:r,options:o})}},{key:"requestMiniSse",value:function(e){var t=this,n=e.apiUrl,r=e.method,i=e.body,o=e.options,a=e.retryNum,u=void 0===a?0:a;return ne(K().mark((function e(){var a,s,l,d,f,h,p,v,g,m,y,x,b,M,w,k,A,_;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:l=function(){var e=ve(K().mark((function e(){var a,s,c=arguments;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=c.length>0&&void 0!==c[0]?c[0]:-1,s=c.length>1&&void 0!==c[1]?c[1]:"unknown error",0!==u){e.next=8;break}return e.next=5,t.refreshToken(d);case 5:return e.abrupt("return",t.requestMiniSse({apiUrl:n,method:r,body:i,options:o,retryNum:u+1}));case 8:throw new Po(a,s);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=t.token,f="".concat(null!==(a=t.baseURL)&&void 0!==a?a:"","/").concat(n),h=fe(c({url:f,method:r,data:i,header:c(c(c({},(null===(s=t.axiosOptions)||void 0===s?void 0:s.headers)||{}),(null===o||void 0===o?void 0:o.headers)||{}),{},{Authorization:"Bearer ".concat(t.token)})},o||{})),p=0,v=!1,g=!1,e.prev=7,y=ge(h);case 9:return e.next=11,te(y.next());case 11:if(!(v=!(x=e.sent).done)){e.next=27;break}if(b=x.value,(null===b||void 0===b?void 0:b.event)!==R){e.next=20;break}if(M=b.data||{},w=M.code,k=void 0===w?-1:w,A=M.msg,_=void 0===A?"unknown error":A,!t.isAuthErrorCode(k)){e.next=19;break}return e.next=18,te(l(k,_));case 18:return e.abrupt("return",e.sent);case 19:throw new Po(k||0,_);case 20:if(!b){e.next=24;break}return p++,e.next=24,b;case 24:v=!1,e.next=9;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](7),g=!0,m=e.t0;case 33:if(e.prev=33,e.prev=34,!v||null==y.return){e.next=38;break}return e.next=38,te(y.return());case 38:if(e.prev=38,!g){e.next=41;break}throw m;case 41:return e.finish(38);case 42:return e.finish(33);case 43:if(0!==p){e.next=51;break}if(!se){e.next=50;break}return e.next=47,te(l());case 47:return e.abrupt("return",e.sent);case 50:throw new Po(-1,"unknown error");case 51:case"end":return e.stop()}}),e,null,[[7,29,33,43],[34,,38,42]])})))()}},{key:"mixTaroUpload",value:function(){var e=this;ae||(this.files.upload=function(t,n){return e._uploadFile({params:t,options:n,urlPath:"/v1/files/upload"})}),this.audio.transcriptions=function(t,n){return Q.debug("translation params",t),e._uploadFile({params:t,options:n,urlPath:"/v1/audio/transcriptions"})}}},{key:"_uploadFile",value:function(){var e=ve(K().mark((function e(t){var n,r,i,o,a,u,s,l,d,f,h,p,v,g,y;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.params,i=t.options,o=t.retryNum,a=void 0===o?0:o,u=t.urlPath,s="".concat(null!==(n=this.baseURL)&&void 0!==n?n:"").concat(u),l=this.token,e.prev=3,e.next=6,S().uploadFile({url:s,filePath:r.file.filePath,name:"file",fileName:r.file.fileName,withCredentials:!1,header:c(c(c({},(null===(d=this.axiosOptions)||void 0===d?void 0:d.headers)||{}),(null===i||void 0===i?void 0:i.headers)||{}),{},{Authorization:"Bearer ".concat(this.token)}),timeout:null===i||void 0===i?void 0:i.timeout});case 6:if(f=e.sent,h=m(f.data)||{code:-1},p=h.code,v=void 0===p?-1:p,g=h.data,Q.debug("_uploadFile:",{code:v,data:g}),0===v&&g){e.next=17;break}if(!this.isAuthErrorCode(v||f.statusCode)||0===a){e.next=16;break}return e.next=13,this.refreshToken(l);case 13:return e.next=15,this._uploadFile({params:r,options:i,retryNum:a+1,urlPath:u});case 15:return e.abrupt("return",e.sent);case 16:throw new Po(v||-1,"upload file failed");case 17:return e.abrupt("return",g);case 20:throw e.prev=20,e.t0=e["catch"](3),y=Ro(e.t0),Q.error("upload file error",e.t0),y;case 25:case"end":return e.stop()}}),e,this,[[3,20]])})));function t(t){return e.apply(this,arguments)}return t}()}])}(Fo),Vo=function(e,t){t?t.trigger(y.ChatToastShow,e):"string"===typeof(null===e||void 0===e?void 0:e.content)&&(0,I.showToast)({title:e.content,icon:e.icon,duration:e.duration||6e3})},Go=function(e){try{var t=new q,n=t.encode(e),r=S().arrayBufferToBase64(n);return"data:image/svg+xml;base64,".concat(r)}catch(e){return Q.error("getSvgBase64 Error",e),""}},Wo=function(e){return e["START"]="start",e["PAUSE"]="pause",e["RESUME"]="resume",e["STOP"]="stop",e["ERROR"]="error",e["INTERRUPT"]="interrupt",e["VOLUME"]="volume",e}({}),qo=function(){function e(){(0,z.A)(this,e),(0,u.A)(this,"event",new I.Events),(0,u.A)(this,"isStop",!1)}return(0,O.A)(e,[{key:"emit",value:function(e,t){this.event.trigger(e,t)}},{key:"on",value:function(e,t){this.event.on(e,t)}},{key:"off",value:function(e,t){this.event.off(e,t)}},{key:"isStopped",value:function(){return this.isStop}}])}(),Zo=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),(0,u.A)(e,"options",{}),(0,u.A)(e,"format",void 0),(0,u.A)(e,"fileName",void 0),e}return(0,P.A)(t,e),(0,O.A)(t,[{key:"start",value:function(){var e=ve(K().mark((function e(n){var r,i,o,a,u,s,c,l,d,f,h,p;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isStop){e.next=2;break}throw new Po(-1,"recorder is stop");case 2:return Q.debug("TaroRedorManager start instance stopFlag",null===(r=t.curInstance)||void 0===r?void 0:r.isStop),null!==(i=t.curInstance)&&void 0!==i&&i.isStop||null===(o=t.curInstance)||void 0===o||o.stop(),t.curInstance=this,Q.debug("TaroRedorManager start instance recorder",t.recorder),t.recorder||(t.recorder=S().getRecorderManager(),this.registerEvent()),this.format=se?"wav":"mp3",this.fileName="recorder_".concat(Date.now(),".").concat(this.format),this.options=n,a=this.options,u=a.sampleRate,s=void 0===u?8e3:u,c=a.numberOfChannels,l=void 0===c?1:c,e.prev=11,e.next=14,this.checkPermission();case 14:if(!this.isStop){e.next=18;break}return null===(f=t.curInstance)||void 0===f||f.emit(Wo.STOP,{duration:0,tempFilePath:"",fileSize:0}),null===(h=t.recorder)||void 0===h||h.stop(),e.abrupt("return");case 18:t.recorder.start({numberOfChannels:l,sampleRate:s,format:this.format,frameSize:2}),p=null===(d=t.curInstance)||void 0===d?void 0:d.genGetVolumeFunc(),null===p||void 0===p||p(),e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](11),Q.error("TaroRecorderManager start error",e.t0),this.emitError(new Po(Uo.Audio_Permission_Denied,"Permission Denied"));case 27:case"end":return e.stop()}}),e,this,[[11,23]])})));function n(t){return e.apply(this,arguments)}return n}()},{key:"checkPermission",value:function(){return new Promise((function(e,t){S().getSetting({success:function(n){Q.debug("TaroRecorderManager getSetting",n),!0!==n.authSetting["scope.record"]?se?e(!0):S().authorize({scope:"scope.record",success:function(){Q.debug("TaroRecorderManager authorize scope.record true"),e(!0)},fail:function(e){Q.error("TaroRecorderManager authorize scope.record false",e),t(new Error("TaroRecorderManager authorize scope.record false"))}}):(Q.debug("TaroRecorderManager getSetting scope.record true"),e(!0))},fail:function(){Q.debug("TaroRecorderManager getSetting fails"),e(!0)}})}))}},{key:"registerEvent",value:function(){var e,n,r,i,o,a,u,s=this;null===(e=t.recorder)||void 0===e||e.onStart((function(){var e;null===(e=t.curInstance)||void 0===e||e.emit(Wo.START,{})})),null===(n=t.recorder)||void 0===n||n.onPause((function(){var e;null===(e=t.curInstance)||void 0===e||e.emit(Wo.PAUSE,{})})),null===(r=t.recorder)||void 0===r||r.onResume((function(){var e;null===(e=t.curInstance)||void 0===e||e.emit(Wo.RESUME,{})})),null===(i=t.recorder)||void 0===i||i.onStop((function(e){var n;null===(n=t.curInstance)||void 0===n||n.emit(Wo.STOP,{duration:e.duration,tempFilePath:e.tempFilePath,fileSize:e.fileSize,fileName:s.fileName})})),null===(o=t.recorder)||void 0===o||null===(a=o.onInterruptionBegin)||void 0===a||a.call(o,(function(){var e;Q.debug("TaroRecorderManager onInterruptionBegin"),null===(e=t.curInstance)||void 0===e||e.emit(Wo.INTERRUPT,{})})),null===(u=t.recorder)||void 0===u||u.onError((function(e){var n,r;Q.error("TaroRecorderManager onError",e),null===(n=t.curInstance)||void 0===n||n.emitError(new Po(null!==e&&void 0!==e&&null!==(r=e.errMsg)&&void 0!==r&&r.includes("deny")?Uo.Audio_Permission_Denied:-1,e.errMsg))}))}},{key:"genGetVolumeFunc",value:function(){var e=this,t=function(){if(e.isStop)e.emit(Wo.VOLUME,{volume:0});else{var n=.5*Math.random();e.emit(Wo.VOLUME,{volume:n<.002?0:n}),setTimeout((function(){t()}),100)}};return t}},{key:"emitError",value:function(e){this.emit(Wo.ERROR,e)}},{key:"stop",value:function(){if(this.isStop)Q.warn("recorder has been stopped");else{this.isStop=!0;try{var e;null===(e=t.recorder)||void 0===e||e.stop()}catch(e){this.emitError(new Po(-1,"unknown error"))}}}},{key:"pause",value:function(){var e;this.isStop?Q.warn("recorder has been stopped"):null===(e=t.recorder)||void 0===e||e.pause()}},{key:"resume",value:function(){var e;this.isStop?Q.warn("recorder has been stopped"):null===(e=t.recorder)||void 0===e||e.resume()}},{key:"destroy",value:function(){this.stop(),this.event.off()}}])}(qo);function Jo(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e.charCodeAt(r)}function Ko(e,t,n){e=Math.floor(e),t[n+0]=255&e,t[n+1]=e>>8&255}function Xo(e,t,n){e=Math.floor(e),t[n+0]=255&e,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255}function $o(e){var t=new ArrayBuffer(4);new Float32Array(t)[0]=e;var n=new Uint32Array(t)[0];return 0|n}function ea(e,t,n,r){var i,o,a=0,u=0,s=e.length,c=e.numberOfChannels;for(a=0;a<s;++a)for(u=0;u<c;++u)if(i=e.getChannelData(u),16===r)o=32768*i[a],o<-32768?o=-32768:o>32767&&(o=32767),Ko(o,t,n),n+=2;else{if(32!==r)return;o=$o(i[a]),Xo(o,t,n),n+=4}}function ta(e,t){var n=e.length,r=e.numberOfChannels,i=e.sampleRate,o=t?32:16,a=o/8,u=i*r*o/8,s=r*o/8,c=n*r*a,l=44,d=l+c,f=new Uint8Array(d),h=16,p=c,v=4+(8+h)+(8+p);return Jo("RIFF",f,0),Xo(v,f,4),Jo("WAVE",f,8),Jo("fmt ",f,12),Xo(h,f,16),Ko(t?3:1,f,20),Ko(r,f,22),Xo(i,f,24),Xo(u,f,28),Ko(s,f,32),Xo(o,f,34),Jo("data",f,36),Xo(p,f,40),ea(e,f,44,o),new Blob([f],{type:"audio/wave"})}(0,u.A)(Zo,"recorder",null),(0,u.A)(Zo,"curInstance",void 0);var na=n(2340)["navigator"],ra=n(2340)["window"],ia=n(2340)["URL"],oa=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),(0,u.A)(e,"options",{}),(0,u.A)(e,"stream",null),(0,u.A)(e,"tempFile",""),(0,u.A)(e,"size",0),(0,u.A)(e,"duration",0),(0,u.A)(e,"wavBlob",void 0),(0,u.A)(e,"isSendCompleted",!1),(0,u.A)(e,"inputLBuffer",[]),(0,u.A)(e,"inputRBuffer",[]),(0,u.A)(e,"audioContext",void 0),(0,u.A)(e,"audioSource",void 0),(0,u.A)(e,"analyser",void 0),(0,u.A)(e,"processor",void 0),e}return(0,P.A)(t,e),(0,O.A)(t,[{key:"getUserMedia",value:function(){var e=this;return new Promise((function(t,n){var r=e.options,i=r.sampleRate,o=void 0===i?48e3:i,a=r.numberOfChannels,u=void 0===a?1:a,s=!1;na.mediaDevices.getUserMedia({audio:{sampleRate:o,channelCount:u}}).then((function(n){Q.debug("H5RecorderManager getUserMedia success",n),s?e.stopStream(n):t(n),s=!0})).catch((function(e){s=!0,Q.debug("H5RecorderManager getUserMedia catch",e),n(e)})),setTimeout((function(){s=!0,n(new Error("getUserMedia timeout"))}),3e3)}))}},{key:"start",value:function(){var e=ve(K().mark((function e(t){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.options=t,this.options.numberOfChannels=t.numberOfChannels||1,this.options.sampleRate=t.sampleRate||48e3,this.size=0,this.inputLBuffer=[],this.inputRBuffer=[],this.stream=null,this.isSendCompleted=!1,e.prev=8,e.next=11,this.getUserMedia();case 11:if(this.stream=e.sent,Q.debug("H5RecorderManager stream get success",this.isStop,this.stream),!this.isStop){e.next=18;break}return Q.warn("H5RecorderManager is stopped before it's started"),this.stopStream(),this.emitStop(),e.abrupt("return");case 18:this.startRecord(),e.next=26;break;case 21:e.prev=21,e.t0=e["catch"](8),Q.error("H5RecorderManager getUserMedia error",e.t0),this.emitError(new Po(Uo.Audio_Permission_Denied,"getUserMedia error")),this.stop();case 26:case"end":return e.stop()}}),e,this,[[8,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startRecord",value:function(){if(!this.stream)throw new Error("stream is null");var e=this.options.numberOfChannels;this.audioContext=new(ra.AudioContext||ra.webkitAudioContext),this.audioSource=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=128;var t=this.audioContext.createScriptProcessor||this.audioContext.createJavaScriptNode,n=t.call(this.audioContext,4096,e,e);this.processor=n,this.audioSource.connect(this.analyser),this.audioSource.connect(n),n.connect(this.audioContext.destination),this._registerVolume(),this.listenAudioProcess()}},{key:"listenAudioProcess",value:function(){var e=this;if(!this.processor)throw new Error("stream is null");this.processor.onaudioprocess=function(t){var n=t.inputBuffer.getChannelData(0);if(e.inputLBuffer.push(new Float32Array(n)),e.size+=n.length,2===e.options.numberOfChannels){var r=t.inputBuffer.getChannelData(1);e.size+=r.length,e.inputRBuffer.push(new Float32Array(t.inputBuffer.getChannelData(1)))}}}},{key:"stopMedia",value:function(){var e=ve(K().mark((function e(){var t,n,r,i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.stream&&0!==this.size){e.next=2;break}return e.abrupt("return");case 2:return null===(t=this.audioSource)||void 0===t||t.disconnect(),null===(n=this.analyser)||void 0===n||n.disconnect(),null===(r=this.processor)||void 0===r||r.disconnect(),null===(i=this.audioContext)||void 0===i||i.close(),this.stopStream(),o=this.genAudioBuffer(),this.duration=1e3*o.duration,e.next=11,ta(o,!1);case 11:this.wavBlob=e.sent,this.tempFile=ia.createObjectURL(this.wavBlob),this.emitStop();case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"flat",value:function(e,t){for(var n=new Float32Array(e),r=0,i=0;i<t.length;i++)n.set(t[i],r),r+=t[i].length;return n}},{key:"genAudioBuffer",value:function(){var e,t=new AudioBuffer({length:this.size,sampleRate:(null===(e=this.audioContext)||void 0===e?void 0:e.sampleRate)||48e3,numberOfChannels:this.options.numberOfChannels||1}),n=2===this.options.numberOfChannels?this.size/2:this.size,r=this.flat(n,this.inputLBuffer);if(t.copyToChannel(r,0,0),2===this.options.numberOfChannels){var i=this.flat(n,this.inputRBuffer);t.copyToChannel(i,1,0)}return t}},{key:"_registerVolume",value:function(){var e=this;if(!this.analyser)return function(){return 0};var t=new Uint8Array(this.analyser.frequencyBinCount).slice(0,64),n=function(){var r;if(e.isStop)e.emit(Wo.VOLUME,{volume:0});else{null===(r=e.analyser)||void 0===r||r.getByteFrequencyData(t);for(var i=0,o=0;o<t.length;o++)i+=Math.abs(t[o])*Math.abs(t[o]);var a=i/t.length/255/255;e.emit(Wo.VOLUME,{volume:a<.002?0:a}),setTimeout((function(){n()}),100)}};n()}},{key:"emitStop",value:function(){this.isSendCompleted||(this.isSendCompleted=!0,this.emit(Wo.STOP,{duration:this.duration||0,tempFilePath:this.tempFile,fileSize:this.size,content:this.wavBlob,fileName:"recorder_".concat(Date.now(),".wav")}))}},{key:"emitError",value:function(e){this.isSendCompleted||(this.isSendCompleted=!0,this.emit(Wo.ERROR,e))}},{key:"destroy",value:function(){this.stop(),this.event.off()}},{key:"stop",value:function(){var e=ve(K().mark((function e(){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isStop){e.next=3;break}return Q.warn("recorder has been stopped"),e.abrupt("return");case 3:return Q.debug("H5RecorderManager stop"),this.isStop=!0,e.prev=5,e.next=8,this.stopMedia();case 8:this.event.off(),this.stream=null,this.audioContext=void 0,this.audioSource=void 0,this.analyser=void 0,this.processor=void 0,this.wavBlob=void 0,this.inputLBuffer=[],this.inputRBuffer=[],e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](5),this.emitError(new Po(-1,"unknown error"));case 22:case"end":return e.stop()}}),e,this,[[5,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"stopStream",value:function(e){var t;null===(t=e||this.stream)||void 0===t||t.getTracks().forEach((function(e){Q.debug("H5RecorderManager , stopStream",e),e.stop()}))}},{key:"pause",value:function(){this.isStop&&Q.error("recorder has been stopped")}},{key:"resume",value:function(){this.isStop&&Q.error("recorder has been stopped")}}])}(qo),aa=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"start",value:function(){var e=ve(K().mark((function e(n){var r,i,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isStop){e.next=2;break}throw new Po(-1,"recorder is stop");case 2:return Q.debug("H5RedorManagerInstance start instance stopFlag",null===(r=t.curInstance)||void 0===r?void 0:r.isStop),null!==(i=t.curInstance)&&void 0!==i&&i.isStop||null===(o=t.curInstance)||void 0===o||o.stop(),t.curInstance=this,e.next=7,(0,F.A)(t,"start",this,3)([n]);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function n(t){return e.apply(this,arguments)}return n}()}])}(oa);(0,u.A)(aa,"curInstance",void 0);var ua=function(){return ae?(Q.debug("get H5 recorder manager"),new aa):(Q.debug("get taro recorder manager"),new Zo)},sa=n(2340)["URL"],ca=function(e){return e["STOP"]="stop",e["PLAY"]="play",e}({}),la=1e3,da=function(){function e(){(0,z.A)(this,e),(0,u.A)(this,"isStop",!0),(0,u.A)(this,"audioContext",void 0),(0,u.A)(this,"event",new I.Events),(0,u.A)(this,"audioPrm",null),(0,u.A)(this,"filePath","")}return(0,O.A)(e,[{key:"playText",value:function(){var t=ve(K().mark((function t(n,r){var i,o,a;return K().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null!==(i=e.instance)&&void 0!==i&&i.isStop||null===(o=e.instance)||void 0===o||o.stop(),this.audioPrm||(this.audioPrm=r(n)),this.isStop=!1,e.instance=this,t.prev=4,t.next=7,this.audioPrm;case 7:if(a=t.sent,!this.isStop){t.next=10;break}return t.abrupt("return");case 10:this.playData(a),t.next=18;break;case 13:throw t.prev=13,t.t0=t["catch"](4),this.audioPrm=null,Q.error("PlayAudio Get audio speech error",t.t0),new Po(-1,"Get Speech Failed");case 18:case"end":return t.stop()}}),t,this,[[4,13]])})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"playData",value:function(e){var t="";if(ae){var n=new Blob([e],{type:"audio/wav"});t=sa.createObjectURL(n)}else t="".concat(S().env.USER_DATA_PATH,"/tempFile").concat(la++,".wav"),this.filePath=t,S().getFileSystemManager().writeFileSync(t,e,"binary");Q.debug("playData:",t),this.play(t)}},{key:"play",value:function(){var t=ve(K().mark((function t(n){var r=this;return K().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.instance=this,this.audioContext=S().createInnerAudioContext(),this.audioContext.src=n,ae||(this.audioContext.obeyMuteSwitch=!1),Q.debug("audioContext",n),this.audioContext.onPlay((function(){Q.debug("audioContext onPlay"),r.event.trigger(ca.PLAY)})),this.audioContext.onPause((function(){r.stop()})),this.audioContext.onError((function(e){Q.error("audioContext onError",e),r.emitStopEvent(!0),r.stop()})),this.audioContext.onEnded((function(){Q.debug("audioContext onEnded"),r.stop()})),this.audioContext.onStop((function(){r.unregister(),Q.debug("audioContext onStop")})),t.prev=10,t.next=13,this.audioContext.play();case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](10),Q.error("audioContext play error",t.t0);case 18:Q.debug("audioContext",n);case 19:case"end":return t.stop()}}),t,this,[[10,15]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"stop",value:function(){if(Q.debug("audioContext stop1",this.isStop),!this.isStop){try{var e;this.emitStopEvent(),null===(e=this.audioContext)||void 0===e||e.stop(),this.unregister(),this.isStop=!0}catch(e){this.emitStopEvent(!0)}this.removeAudio()}}},{key:"removeAudio",value:function(){try{ae||S().getFileSystemManager().unlinkSync(this.filePath||"")}catch(e){Q.error("removeAudio error",e)}}},{key:"on",value:function(e,t){this.event.on(e,t)}},{key:"emitStopEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Q.debug("audioContext emitStopEvent",this.isStop),this.isStop||this.event.trigger(ca.STOP,{isError:e})}},{key:"unregister",value:function(){var e,t,n,r;null===(e=this.audioContext)||void 0===e||e.offPlay(),null===(t=this.audioContext)||void 0===t||t.offError(),null===(n=this.audioContext)||void 0===n||n.offEnded(),null===(r=this.audioContext)||void 0===r||r.offPause(),this.event.off()}}],[{key:"stopNow",value:function(){var t;null===(t=e.instance)||void 0===t||t.stop()}}])}();(0,u.A)(da,"instance",void 0);var fa,ha=function(e,t){t?t.trigger(y.ChatModalShow,e):Q.warn("showModal targetEventCenter is undefined")},pa=n(2340)["navigator"],va=function(){var e=ve(K().mark((function e(t){var n,r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.data,r=t.success,i=t.fail,!ae){e.next=12;break}return e.prev=2,e.next=5,pa.clipboard.writeText(n);case 5:return null===r||void 0===r||r(!0),e.abrupt("return");case 9:e.prev=9,e.t0=e["catch"](2),Q.warn("setClipboardData fail");case 12:return e.next=14,S().setClipboardData({data:n,success:function(){null===r||void 0===r||r(!1)},fail:function(e){null===i||void 0===i||i(e,!1)}});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),ga=function(e,t){var n="",r=e||"https://lf3-static.bytednsdoc.com/obj/eden-cn/rkzild_lgvj/ljhwZthlaukjlkulzlp/";try{return"".concat((null===r||void 0===r?void 0:r.replace(/\/+$/,""))||"","/").concat(null===t||void 0===t?void 0:t.replace(/^\.?\/+/,""))}catch(n){console.error("Invalid URL:",n,e,t)}return n||(n=""),n},ma=n(8670),ya=n(6382),xa={chatInitRetry:function(e){return(0,ya.jsxs)(ya.Fragment,{children:["\u542f\u52a8\u9047\u5230\u95ee\u9898\uff0c",null===e||void 0===e?void 0:e.retry]})},messageListRetry:function(e){return(0,ya.jsxs)(ya.Fragment,{children:["\u83b7\u53d6\u5386\u53f2\u6570\u636e\u5931\u8d25\uff0c",null===e||void 0===e?void 0:e.retry]})},copyLinkSuccess:function(e){return"\u590d\u5236\u94fe\u63a5: ".concat(null===e||void 0===e?void 0:e.url)},audioInputTooltipTick:function(e){return(0,ya.jsxs)(ya.Fragment,{children:[null===e||void 0===e?void 0:e.duration," \u540e\u81ea\u52a8\u7ed3\u675f\u5f55\u5236\u5e76\u53d1\u9001"]})}},ba=xa,Ma={chatInitRetry:function(e){return(0,ya.jsxs)(ya.Fragment,{children:["Start error,",null===e||void 0===e?void 0:e.retry]})},messageListRetry:function(e){return(0,ya.jsxs)(ya.Fragment,{children:["Get message history error,",null===e||void 0===e?void 0:e.retry]})},copyLinkSuccess:function(e){return"Copy link: ".concat(null===e||void 0===e?void 0:e.url)},audioInputTooltipTick:function(e){return(0,ya.jsxs)(ya.Fragment,{children:[null===e||void 0===e?void 0:e.duration," automatically end recording after and sending"]})}},wa=Ma,ka={noAnswer:"\u6ca1\u6709\u56de\u7b54",chatFooterTip:"\u7531\u6263\u5b50\u63d0\u4f9b",sendFailed:"\u53d1\u9001\u5931\u8d25",chatInputPlaceholder:"\u53d1\u9001\u6d88\u606f",retryBtn:"\u91cd\u8bd5",messageListLoading:"\u52a0\u8f7d\u4e2d...",chooseImage:"\u7167\u7247",chooseCamera:"\u62cd\u7167",chooseImageError:"\u4e0a\u4f20\u5931\u8d25",messageTypeUnSupport:"\u4e0d\u652f\u6301\u652f\u6301\u8be5\u6d88\u606f\u683c\u5f0f",defaultHeaderTitle:"\u6263\u5b50\u667a\u80fd\u4f53",copyCode:"\u590d\u5236",copyText:"\u590d\u5236",submit:"\u63d0\u4ea4",copySuccess:"\u590d\u5236\u6210\u529f",copyFailed:"\u590d\u5236\u5931\u8d25",clearContextDivide:"\u6e05\u7a7a\u4e0a\u4e0b\u6587",clearContextFailed:"\u6e05\u7a7a\u4e0a\u4e0b\u6587\u5931\u8d25",clearMessageFailed:"\u6e05\u7a7a\u6d88\u606f\u5931\u8d25",playVoice:"\u64ad\u653e\u8bed\u97f3",permissionMkfTitle:"\u5f00\u542f\u9ea6\u514b\u98ce\u6743\u9650",permissionMkfDesc:"\u65e0\u6cd5\u4f7f\u7528\u8bed\u97f3\u4ea4\u4e92\u529f\u80fd\uff0c\u8bf7\u91cd\u65b0\u6388\u6743\u9ea6\u514b\u98ce\u6743\u9650",permissionMkfBtnIKnown:"\u6211\u77e5\u9053\u4e86",audioInputPcText:"\u6309\u4f4f\u6b64\u5904\u6216\u7a7a\u683c\u8bf4\u8bdd",audioInputMobileText:"\u6309\u4f4f\u8bf4\u8bdd",audioInputTooltipTouching:"\u4e0a\u6ed1\u53d6\u6d88\u8f93\u5165\uff0c\u677e\u624b\u53d1\u9001",audioInputTooltipSend:"\u677e\u624b\u53d1\u9001",audioInputTooltipCancel:"\u677e\u624b\u53d6\u6d88\u53d1\u9001",audioInputErrorUnDetectContent:"\u672a\u68c0\u6d4b\u5230\u5185\u5bb9",audioInputErrorRecord:"\u5f55\u97f3\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",audioInputDisabledText:"\u6d88\u606f\u53d1\u9001\u4e2d...",unFocusInputText:"\u70b9\u51fb\u5f53\u524d\u5bf9\u8bdd\u533a\u6fc0\u6d3b\u8f93\u5165\u6846",playVoiceFail:"\u64ad\u653e\u5931\u8d25",sendMessageUploadFailed:"\u4e0a\u4f20\u6587\u4ef6\u5931\u8d25",sendMessageTranslationAudioFailed:"\u8bc6\u522b\u5185\u5bb9\u5931\u8d25",sendMessageTranslationAudioNone:"\u672a\u8bc6\u522b\u5230\u5185\u5bb9",chatflowNodeInputPlaceholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",taskMessageMyChoice:"\u6211\u7684\u9009\u62e9\u662f\uff1a",miniChatError_1001:"\u672a\u8bc6\u522b\u5230\u5185\u5bb9",miniChatError_1002:"\u4f1a\u8bdd\u521b\u5efa\u5931\u8d25",miniChatError_1003:"\u83b7\u53d6\u6d88\u606f\u5217\u8868\u5931\u8d25",miniChatError_4000:"\u8bf7\u6c42\u53c2\u6570\u9519\u8bef",miniChatError_4001:"\u6307\u5b9a\u5bf9\u8bdd\u4e0d\u5b58\u5728",miniChatError_4002:"\u6307\u5b9a\u5bf9\u8bdd\u4e0d\u5b58\u5728",miniChatError_4003:"meta_data \u5b57\u6bb5\u7684\u4f20\u53c2\u8d85\u51fa\u5b57\u6bb5\u9650\u5236",miniChatError_4004:"additional_messages \u5b57\u6bb5\u7684\u4f20\u53c2\u8d85\u51fa\u5b57\u6bb5\u9650\u5236",miniChatError_4005:"\u6307\u5b9a\u6d88\u606f\u4e0d\u5b58\u5728",miniChatError_4006:"\u6307\u5b9a\u6d88\u606f\u4e0d\u5b58\u5728",miniChatError_4008:"\u5f53\u65e5 Bot \u4f7f\u7528\u6b21\u6570\u8d85\u8fc7\u9650\u5236",miniChatError_4009:"\u5f53\u524d\u4f7f\u7528\u4eba\u6570\u8fc7\u591a",miniChatError_4010:"\u524d\u95ee\u9898\u8bf7\u6c42\u7684 prompt token \u6570\u91cf\u8d85\u8fc7\u6a21\u578b\u4e0a\u9650",miniChatError_4011:"\u5f53\u524d\u8d26\u6237\u7684 Coze Token \u4f59\u989d\u4e0d\u8db3",miniChatError_4012:"\u65e0\u6548\u6a21\u578b",miniChatError_4013:"\u6a21\u578b\u7684\u5e76\u53d1\u5df2\u8d85\u9650\u3002\u8bf7\u51cf\u5c11\u8bf7\u6c42\u9891\u7387\u6216\u7a0d\u540e\u91cd\u8bd5\u3002\u82e5\u9700\u8981\u66f4\u9ad8\u5e76\u53d1\u91cf\uff0c\u53ef\u8003\u8651\u5347\u7ea7\u60a8\u7684\u8ba1\u5212\u6216\u8054\u7cfb\u6263\u5b50\u6269\u5bb9",miniChatError_4014:"Bot \u65e0\u6cd5\u56de\u7b54\u6b64\u95ee\u9898",miniChatError_4015:"\u6b64 Bot \u672a\u53d1\u5e03",miniChatError_4016:"\u5f53\u524d\u4f1a\u8bdd\u4e2d\u5df2\u6709\u8fd0\u884c\u4e2d\u7684\u5bf9\u8bdd\uff0c\u8bf7\u7b49\u5f85\u5bf9\u8bdd\u5b8c\u6210\u540e\u518d\u53d1\u8d77\u65b0\u7684\u5bf9\u8bdd",miniChatError_4019:"\u6263\u5b50\u4e13\u4e1a\u7248\u8d26\u53f7\u5df2\u6b20\u8d39",miniChatError_4020:"\u60a8\u5df2\u8d85\u8fc7\u6a21\u578b\u5e76\u53d1\u4e0a\u9650\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd5\u6216\u8054\u7cfb\u6263\u5b50\u6269\u5bb9",miniChatError_4027:"\u4e13\u4e1a\u7248\u8d26\u6237\u5df2\u6b20\u8d39\uff0c\u8bf7\u7acb\u5373\u5145\u503c",miniChatError_4028:"\u8d44\u6e90\u70b9\u4f59\u989d\u4e0d\u8db3\uff0c\u8bf7\u7b49\u5f85\u989d\u5ea6\u5237\u65b0\u6216\u5347\u7ea7\u5230\u4e13\u4e1a\u7248",miniChatError_4100:"\u4e2a\u4eba\u8bbf\u95ee\u4ee4\u724c\uff08PAT\uff09\u4e0d\u6b63\u786e",miniChatError_4101:"\u5f53\u524d\u4f7f\u7528\u7684\u4e2a\u4eba\u8bbf\u95ee\u4ee4\u724c\u6ca1\u6709\u6743\u9650\u8bbf\u95ee\u8be5\u8d44\u6e90",miniChatError_4300:"\u5f85\u4e0a\u4f20\u7684\u6587\u4ef6\u4e3a\u7a7a",miniChatError_4301:"\u6bcf\u6b21\u8c03\u7528\u4e0a\u4f20\u6587\u4ef6\u63a5\u53e3\uff0c\u53ea\u80fd\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6",miniChatError_4302:"\u5f85\u4e0a\u4f20\u7684\u6587\u4ef6\u5927\u5c0f\u8d85\u51fa\u63a5\u53e3\u9650\u5236",miniChatError_4303:"\u6587\u4ef6\u683c\u5f0f\u95ee\u9898\uff0c\u6682\u4e0d\u652f\u6301\u4e0a\u4f20\u6b64\u7c7b\u578b\u7684\u6587\u4ef6",miniChatError_4304:"\u6587\u4ef6\u6545\u969c\u7b49\u95ee\u9898",miniChatError_5000:"\u670d\u52a1\u7aef\u5185\u90e8\u9519\u8bef",miniChatError_6006:"code\u8282\u70b9\u8d85\u65f6",miniChatError_700012006:"\u4e2a\u4eba\u8bbf\u95ee\u4ee4\u724c\uff08PAT\uff09\u4e0d\u6b63\u786e",miniChatError_788788103:"\u60a8\u7684\u8d26\u6237\u5df2\u4ea7\u751f\u6b20\u8d39\uff0c\u8bf7\u524d\u5f80\u706b\u5c71\u5145\u503c"},Aa={noAnswer:"No answer",chatFooterTip:"Powered by Coze",sendFailed:"Send Failed",chatInputPlaceholder:"Send Message",retryBtn:"retry",messageListLoading:"loading...",chooseImage:"picture",chooseCamera:"camera",chooseImageError:"upload failed",messageTypeUnSupport:"The message is not unsupported.",defaultHeaderTitle:"Coze Bot",copyCode:"Copy",copyText:"Copy",copySuccess:"Copy success",copyFailed:"Copy failed",clearContextDivide:"Context cleared",clearContextFailed:"Clear context failed",clearMessageFailed:"Clear message failed",playVoice:"Play voice",permissionMkfTitle:"Turn on microphone permission",permissionMkfDesc:"Unable to use the voice interaction function, please reauthorize the microphone permission",permissionMkfBtnIKnown:"I know",audioInputPcText:"Hold down here or the space to speak",audioInputMobileText:"Hold on and talk",audioInputTooltipTouching:"Slide up to cancel the input and let go",audioInputTooltipCancel:"Release your hand to cancel the send",audioInputErrorUnDetectContent:"No content was detected",audioInputErrorRecord:"Recording has failed, please try again",unFocusInputText:"Click to activate input",audioInputTooltipSend:"Release to send",audioInputDisabledText:"Sending...",playVoiceFail:"Play voice failed",sendMessageUploadFailed:"Failed to upload file",sendMessageTranslationAudioFailed:"Failed to identify content",sendMessageTranslationAudioNone:"The content is not recognized",submit:"Submit",chatflowNodeInputPlaceholder:"Please enter content",taskMessageMyChoice:"My Choice:",miniChatError_1001:"The content is not recognized",miniChatError_1002:"Failed to create conversation",miniChatError_1003:"Failed to get message list",miniChatError_4000:"Request parameter error",miniChatError_4001:"The specified conversation does not exist",miniChatError_4002:"The specified conversation does not exist",miniChatError_4003:"The parameter passed to the meta_data field exceeds the field limit",miniChatError_4004:"The parameter passed to the additional_messages field exceeds the field limit",miniChatError_4005:"The specified message does not exist",miniChatError_4006:"The specified message does not exist",miniChatError_4008:"The daily use of the Bot has exceeded the limit",miniChatError_4009:"The current number of users is too high",miniChatError_4010:"The prompt token number of the previous question exceeds the model limit.",miniChatError_4011:"Insufficient balance of Coze Tokens in the current account.",miniChatError_4012:"Invalid model",miniChatError_4013:"Model's request rate limit exceeded. Please reduce your request frequency or try again later. If you need higher limits, consider upgrading your plan or contacting Coze support for expansion options.",miniChatError_4014:"The Bot cannot answer this question",miniChatError_4015:"The Bot is not published",miniChatError_4016:"There is already a running conversation in the current session, please wait for the conversation to complete before initiating a new conversation",miniChatError_4019:"The account has an overdue payment, please recharge immediately.",miniChatError_4020:"You have exceeded the model RPM limit. Please try again later or contact Coze for an upgrade.",miniChatError_4027:"Your account has an overdue payment, please recharge immediately.",miniChatError_4028:"Insufficient coze credits balance, please wait for the quota refresh or upgrade to paid version.",miniChatError_4100:"The personal access token (PAT) is incorrect",miniChatError_4101:"The personal access token currently used does not have permission to access the resource",miniChatError_4300:"The file to be uploaded is empty",miniChatError_4301:"Only one file can be uploaded at a time",miniChatError_4302:"The file size to be uploaded exceeds the interface limit",miniChatError_4303:"The file format is not supported",miniChatError_4304:"File issues",miniChatError_5000:"Internal server error",miniChatError_6006:"Workflow code node execution timeout: The node in the workflow has exceeded its max execution time one minute. ",miniChatError_700012006:"The personal access token (PAT) is incorrect",miniChatError_788788103:"Your account has an outstanding balance. Please top up your balance on Volcengine."},_a=(0,u.A)((0,u.A)({},w.EN,{simple:Aa,special:wa}),w.ZH_CN,{simple:ka,special:ba}),Ia=function(){function e(t){(0,z.A)(this,e),(0,u.A)(this,"language",void 0),this.language=t}return(0,O.A)(e,[{key:"t",value:function(e,t,n){var r=_a[this.language]||_a[w.EN];return r.simple[e]?r.simple[e]:r.special[e]?r.special[e](t):n||""}}])}(),Sa={break:"index-module__break___V44S_"},Na=function(){return(0,ya.jsx)(p.Ss,{className:Sa.break})},Ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Invalid chat frame context",n=(0,ma.useContext)(e);if(!v(n))throw new Error(t);return n},Da=function(e,t){var n=(0,ma.useRef)(!1);(0,ma.useEffect)((function(){if(n.current)return e();n.current=!0}),t)},Ca=function(e){var t=(0,ma.useRef)(e);return t.current=e,(0,ma.useCallback)((function(){return t.current.apply(t,arguments)}),[])},ja=n(2340)["document"],Ta=function(e){var t=(0,ma.useState)((function(){return{width:0,height:0}})),n=(0,T.A)(t,2),r=n[0],i=n[1],o=Ca((function(){if(ae){var t=ja.getElementById(e);if(t)return{width:t.clientWidth,height:t.clientHeight}}else C("#".concat(e)).then((function(e){var t;null!==e&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.width&&i({width:e[0].width,height:e[0].height})}))}));return(0,ma.useEffect)((function(){o()}),[e]),(0,ma.useEffect)((function(){if(ae){var t=ja.getElementById(e);if(t){var n=new ResizeObserver((function(e){e.forEach((function(e){var t=e.target,n=t.clientWidth,r=t.clientHeight;i({width:n,height:r})}))}));return n.observe(t),function(){n.disconnect()}}}}),[e]),c(c({},r),{},{reInitSize:o})},za=(0,ma.createContext)({}),Oa=function(e){var t=e.markdown,n=e.children,r=e.onImageClick,i=e.i18n,o=e.logger,a=e.selectable,u=e.taskDisabled,s=e.enableHtmlTags,c=e.enableCodeBy4Space,l=e.onTaskChangeHandle,d=e.eventCallbacks,f=e.imgClassName,h=e.imgStyle,p=Ca((function(){return t||""})),v=(0,ma.useMemo)((function(){return{onImageClick:r,i18n:i,logger:o,selectable:a,taskDisabled:u,enableHtmlTags:s,enableCodeBy4Space:c,onTaskChangeHandle:l,getMarkdown:p,eventCallbacks:d,imgClassName:f,imgStyle:h}}),[r,i,o,a,u,s,c,l,p,d,f,h]);return(0,ya.jsx)(za.Provider,{value:v,children:n})},La=function(){return(0,ma.useContext)(za)},Fa=function(){var e=La(),t=e||{},n=t.i18n;return n},Pa=function(){var e=La(),t=e||{},n=t.logger;return n},Ra=function(){var e=La(),t=e||{},n=t.selectable;return n},Ua=function(){var e=La(),t=e||{},n=t.taskDisabled;return n},Ba=function(){var e=La(),t=e||{},n=t.onTaskChangeHandle;return n},Ya=function(){var e=La(),t=e||{},n=t.enableHtmlTags;return n},Qa=function(){var e=La(),t=e||{},n=t.enableCodeBy4Space;return n},Ha=function(){var e=La(),t=e||{},n=t.getMarkdown;return(null===n||void 0===n?void 0:n())||""},Va={text:"index-module__text___ikOpp",important:"index-module__important___MBOGO"},Ga=function(e){var t=e.node,n=e.className,r=(0,ma.useMemo)((function(){return t.value.split("\n")}),[t.value]),i=Ra();return(0,ya.jsx)(ya.Fragment,{children:r.map((function(e,t){return(0,ya.jsxs)(ma.Fragment,{children:[e?(0,ya.jsx)(p.EY,{selectable:i,className:h()(Va.text,Va.important,n),children:e}):null,t!==r.length-1?(0,ya.jsx)(Na,{}):null]},t)}))})},Wa={strong:"index-module__strong___oVHn7"},qa=function(e){var t=e.node;return(0,ya.jsx)(p.Ss,{className:Wa.strong,children:t.children.map((function(e,t){return(0,ya.jsx)(fu,{node:e},t)}))})},Za={link:"index-module__link___gK03x",invalid:"index-module__invalid___xccgD"},Ja=n(2340)["window"],Ka=function(e){var t=e.node,n=Fa(),r=La(),i=r.eventCallbacks,o=(0,ma.useMemo)((function(){var e=t.url&&"#"!==t.url;return/^javascript/i.test(t.url.replace(/\s/g,""))&&(e=!1),e}),[t.url]);return(0,ya.jsx)(p.Ss,{onClick:function(e){if(o){if(null!==i&&void 0!==i&&i.onLinkClick)return void i.onLinkClick(e,{url:t.url});ae?Ja.open(t.url):(0,I.setClipboardData)({data:t.url,fail:function(){(0,I.showToast)({title:(null===n||void 0===n?void 0:n.t("copyFailed"))||"",icon:"error"})}})}},className:h()(Za.link,(0,u.A)({},Za.invalid,!o)),children:t.children.map((function(e,t){return(0,ya.jsx)(fu,{node:e},t)}))})},Xa={"inline-code":"index-module__inline-code___w2RwE"},$a=function(e){var t=e.node,n=Ra();return(0,ya.jsx)(p.EY,{selectable:n,space:"nbsp",className:Xa["inline-code"],children:t.value})},eu={indicator:"index-module__indicator___4Ksm1","indicator-frame":"index-module__indicator-frame___C1I8a"},tu=function(){return(0,ya.jsx)(p.EY,{className:eu.indicator})},nu={image:"index-module__image___etUul","image-error":"index-module__image-error___SBhMy"},ru=function(e){var t=e.node,n=La(),r=n.onImageClick,i=n.eventCallbacks,o=n.imgClassName,a=n.imgStyle,s=(0,ma.useState)(t.url),c=(0,T.A)(s,2),l=c[0],d=c[1];return(0,ma.useEffect)((function(){d(t.url)}),[t]),(0,ya.jsx)(p._V,{src:l,mode:"aspectFill",className:h()(nu.image,(0,u.A)({},nu["image-error"],!l),o),onError:function(){d("")},style:a,onClick:function(){t.url&&(null!==i&&void 0!==i&&i.onImageClick?i.onImageClick({url:t.url}):r?null===r||void 0===r||r({url:t.url}):(0,I.previewImage)({urls:[t.url],current:t.url,enableShowPhotoDownload:!0}))}})},iu=n(4690),ou=n.n(iu),au=(0,ma.memo)((function(e){var t=e.node,n=Ya();return(0,ya.jsx)(ya.Fragment,{children:n?(0,ya.jsx)(p.sD,{nodes:"".concat(ou()(t.value))}):(0,ya.jsx)(Ga,{node:t})})})),uu={emphasis:"index-module__emphasis___M3dc2"},su=function(e){var t=e.node;return(0,ya.jsx)(p.Ss,{className:uu.emphasis,children:t.children.map((function(e,t){return(0,ya.jsx)(fu,{node:e},t)}))})},cu={delete:"index-module__delete___i2va_"},lu=function(e){var t=e.node;return(0,ya.jsx)(p.Ss,{className:cu.delete,children:t.children.map((function(e,t){return(0,ya.jsx)(fu,{node:e},t)}))})},du=["break","delete","emphasis","footnoteReference","html","image","imageReference","inlineCode","link","linkReference","strong","text","indicator"],fu=function(e){var t=e.node;return(0,ya.jsxs)(ya.Fragment,{children:["break"===t.type&&(0,ya.jsx)(Na,{}),"delete"===t.type&&(0,ya.jsx)(lu,{node:t}),"emphasis"===t.type&&(0,ya.jsx)(su,{node:t}),"footnoteReference"===t.type&&null,"html"===t.type&&(0,ya.jsx)(au,{node:t}),"image"===t.type&&(0,ya.jsx)(ru,{node:t}),"imageReference"===t.type&&null,"inlineCode"===t.type&&(0,ya.jsx)($a,{node:t}),"link"===t.type&&(0,ya.jsx)(Ka,{node:t}),"linkReference"===t.type&&null,"strong"===t.type&&(0,ya.jsx)(qa,{node:t}),"text"===t.type&&(0,ya.jsx)(Ga,{node:t}),"indicator"===t.type&&(0,ya.jsx)(tu,{node:t})]})},hu={break:"index-module__break___SsSEr"},pu=function(){return(0,ya.jsx)(p.Ss,{className:hu.break})},vu={"table-wrapper":"index-module__table-wrapper___mlo5x",table:"index-module__table___NiIpq","table-row":"index-module__table-row___xcdwq","table-cell":"index-module__table-cell___h5XXF","table-header":"index-module__table-header___laEZx"},gu=function(e){var t=e.node;return(0,ya.jsx)(p.Ss,{className:vu["table-wrapper"],children:(0,ya.jsx)(p.Ss,{className:vu.table,children:t.children.map((function(e,t){return(0,ya.jsx)(p.Ss,{className:h()(vu["table-row"],(0,u.A)({},vu["table-header"],0===t)),children:e.children.map((function(e,n){return(0,ya.jsx)(p.Ss,{className:vu["table-cell"],children:e.children.map((function(e,r){return(0,ya.jsx)(fu,{node:e},"row-".concat(t,"-cell-").concat(n,"-content-").concat(r))}))},"row-".concat(t,"-cell-").concat(n))}))},"row-".concat(t))}))})})},mu=function(e){var t=e.node;return(0,ya.jsx)(p.Ss,{children:t.children.map((function(e,t){return(0,ya.jsx)(fu,{node:e},t)}))})},yu=function(e){var t=e.node;return(0,ya.jsx)(p.Ss,{children:t.children.map((function(e,t){return(0,ya.jsx)(Js,{node:e,isParagraphNeedMargin:!1},t)}))})},xu={spacing:"index-module__spacing___YhX7p","horizontal-center":"index-module__horizontal-center___g61bc"},bu=["className","children","gap","vertical","flex1","horizontalCenter","verticalCenter","onClick","width100","height100","style"],Mu=function(e){var t=e.className,n=e.children,r=e.gap,i=e.vertical,o=e.flex1,s=e.horizontalCenter,l=e.verticalCenter,d=e.onClick,f=e.width100,v=e.height100,g=e.style,m=a(e,bu);return(0,ya.jsx)(p.Ss,c(c({},m),{},{className:h()(xu.spacing,(0,u.A)({},xu["horizontal-center"],s),t),style:c({gap:r,flexDirection:i?"column":"row",justifyContent:s?"center":void 0,alignItems:l?"center":void 0,flex:o?1:void 0,width:f?"100%":void 0,height:v?"100%":void 0},g),onClick:d,children:n}))},wu={container:"index-module__container___FFAkF",disabled:"index-module__disabled___gYJ9M"},ku=function(e){var t=e.disabled,n=e.className,r=e.children;return(0,ya.jsx)(p.Ss,{className:h()(wu.container,n,(0,u.A)({},wu.disabled,t)),children:r})},Au={radio:"index-module__radio___SbFRY",checked:"index-module__checked___j8pq8","checked-circle":"index-module__checked-circle___EoZq2"},_u=function(e){var t=e.checked,n=e.onChange,r=e.disabled,i=e.children,o=e.className,a=function(){if(r)return null;null===n||void 0===n||n(!t)};return(0,ya.jsx)(ku,{disabled:r,children:(0,ya.jsxs)(Mu,{className:h()(Au.box,o),gap:8,onClick:a,children:[(0,ya.jsx)(p.Ss,{onClick:a,className:h()(Au.radio,(0,u.A)({},Au.checked,t)),children:(0,ya.jsx)(p.Ss,{className:Au["checked-circle"]})}),(0,ya.jsx)(p.Ss,{style:{flex:1},children:i})]})})},Iu="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiBmaWxsPSJub25lIj4KPGNpcmNsZSBjeD0iOC4wMDAzMyIgY3k9IjcuOTk5MzUiIHI9IjcuMzMzMzMiIGZpbGw9IiNGRjgxMUEiLz4KPHBhdGggZD0iTTcuOTk5NjcgNC42NjYwMkM3LjYzMTQ4IDQuNjY2MDIgNy4zMzMwMSA0Ljk2NDQ5IDcuMzMzMDEgNS4zMzI2OFY4LjY2NjAyQzcuMzMzMDEgOS4wMzQyMSA3LjYzMTQ4IDkuMzMyNjggNy45OTk2NyA5LjMzMjY4QzguMzY3ODYgOS4zMzI2OCA4LjY2NjM0IDkuMDM0MjEgOC42NjYzNCA4LjY2NjAyVjUuMzMyNjhDOC42NjYzNCA0Ljk2NDQ5IDguMzY3ODYgNC42NjYwMiA3Ljk5OTY3IDQuNjY2MDJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNy45OTk2NyAxMS4zMzI3QzguMzY3ODYgMTEuMzMyNyA4LjY2NjM0IDExLjAzNDIgOC42NjYzNCAxMC42NjZDOC42NjYzNCAxMC4yOTc4IDguMzY3ODYgOS45OTkzNSA3Ljk5OTY3IDkuOTk5MzVDNy42MzE0OCA5Ljk5OTM1IDcuMzMzMDEgMTAuMjk3OCA3LjMzMzAxIDEwLjY2NkM3LjMzMzAxIDExLjAzNDIgNy42MzE0OCAxMS4zMzI3IDcuOTk5NjcgMTEuMzMyN1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",Su="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGZvY3VzYWJsZT0iZmFsc2UiIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyIDIzYTExIDExIDAgMSAwIDAtMjIgMTEgMTEgMCAwIDAgMCAyMlptNS44OC0xMy4xOC02LjIgNy42YTEuNSAxLjUgMCAwIDEtMi4zNyAwbC0zLjUtNGExLjUgMS41IDAgMSAxIDIuMzctMS44NGwyLjMgMi40NkwxNS41IDhhMS41IDEuNSAwIDEgMSAyLjM4IDEuODJaIiBmaWxsPSJyZ2IoNTksIDE3OSwgNzApIj48L3BhdGg+PC9zdmc+Cg==",Nu="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTkuMTY2ODMgNi42NjczMlY5LjE2NzMySDYuNjY2ODNDNi4yMDY1OSA5LjE2NzMyIDUuODMzNSA5LjU0MDQxIDUuODMzNSAxMC4wMDA3QzUuODMzNSAxMC40NjA5IDYuMjA2NTkgMTAuODM0IDYuNjY2ODMgMTAuODM0SDkuMTY2ODNWMTMuMzM0QzkuMTY2ODMgMTMuNzk0MiA5LjUzOTkyIDE0LjE2NzMgMTAuMDAwMiAxNC4xNjczQzEwLjQ2MDQgMTQuMTY3MyAxMC44MzM1IDEzLjc5NDIgMTAuODMzNSAxMy4zMzRWMTAuODM0SDEzLjMzMzVDMTMuNzkzNyAxMC44MzQgMTQuMTY2OCAxMC40NjA5IDE0LjE2NjggMTAuMDAwN0MxNC4xNjY4IDkuNTQwNDEgMTMuNzkzNyA5LjE2NzMyIDEzLjMzMzUgOS4xNjczMkgxMC44MzM1VjYuNjY3MzJDMTAuODMzNSA2LjIwNzA4IDEwLjQ2MDQgNS44MzM5OCAxMC4wMDAyIDUuODMzOThDOS41Mzk5MiA1LjgzMzk4IDkuMTY2ODMgNi4yMDcwOCA5LjE2NjgzIDYuNjY3MzJaIiBmaWxsPSIjMDYwNzA5IiBmaWxsLW9wYWNpdHk9IjAuOCIvPgo8L3N2Zz4K",Eu="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTggMC42NjYwMTZDNi4xNTkwNSAwLjY2NjAxNiA0LjY2NjY3IDIuMTU4NCA0LjY2NjY3IDMuOTk5MzVWNy4zMzI2OEM0LjY2NjY3IDkuMTczNjMgNi4xNTkwNSAxMC42NjYgOCAxMC42NjZDOS44NDA5NSAxMC42NjYgMTEuMzMzMyA5LjE3MzYzIDExLjMzMzMgNy4zMzI2OFYzLjk5OTM1QzExLjMzMzMgMi4xNTg0IDkuODQwOTUgMC42NjYwMTYgOCAwLjY2NjAxNlpNMTAgNy4zMzI2OEMxMCA4LjQzNzI1IDkuMTA0NTcgOS4zMzI2OCA4IDkuMzMyNjhDNi44OTU0MyA5LjMzMjY4IDYgOC40MzcyNSA2IDcuMzMyNjhWMy45OTkzNUM2IDIuODk0NzggNi44OTU0MyAxLjk5OTM1IDggMS45OTkzNUM5LjEwNDU3IDEuOTk5MzUgMTAgMi44OTQ3OCAxMCAzLjk5OTM1VjcuMzMyNjhaIiBmaWxsPSIjMEYxNTI4IiBmaWxsLW9wYWNpdHk9IjAuODIiIHN0eWxlPSJmaWxsOiMwRjE1Mjg7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDAuMDU4OCAwLjA4MjQgMC4xNTY5KTtmaWxsLW9wYWNpdHk6MC44MjsiLz4KPHBhdGggZD0iTTEzLjMzMzMgNS45OTkzNUMxMi45NjUxIDUuOTk5MzUgMTIuNjY2NyA2LjI5NzgzIDEyLjY2NjcgNi42NjYwMlY3LjMzMjY4QzEyLjY2NjcgOS45MTAwMSAxMC41NzczIDExLjk5OTMgOCAxMS45OTkzQzUuNDIyNjcgMTEuOTk5MyAzLjMzMzMzIDkuOTEwMDEgMy4zMzMzMyA3LjMzMjY4VjYuNjY2MDJDMy4zMzMzMyA2LjI5NzgzIDMuMDM0ODYgNS45OTkzNSAyLjY2NjY3IDUuOTk5MzVDMi4yOTg0OCA1Ljk5OTM1IDIgNi4yOTc4MyAyIDYuNjY2MDJWNy4zMzI2OEMyIDEwLjQyMTEgNC4zMzMzNyAxMi45NjQ0IDcuMzMzMzMgMTMuMjk2MVYxNC45OTkzQzcuMzMzMzMgMTUuMzY3NSA3LjYzMTgxIDE1LjY2NiA4IDE1LjY2NkM4LjM2ODE5IDE1LjY2NiA4LjY2NjY3IDE1LjM2NzUgOC42NjY2NyAxNC45OTkzVjEzLjI5NjFDMTEuNjY2NiAxMi45NjQ0IDE0IDEwLjQyMTEgMTQgNy4zMzI2OFY2LjY2NjAyQzE0IDYuMjk3ODMgMTMuNzAxNSA1Ljk5OTM1IDEzLjMzMzMgNS45OTkzNVoiIGZpbGw9IiMwRjE1MjgiIGZpbGwtb3BhY2l0eT0iMC44MiIgc3R5bGU9ImZpbGw6IzBGMTUyODtmaWxsOmNvbG9yKGRpc3BsYXktcDMgMC4wNTg4IDAuMDgyNCAwLjE1NjkpO2ZpbGwtb3BhY2l0eTowLjgyOyIvPgo8L3N2Zz4K",Du="data:image/svg+xml;base64,PHN2ZwogIHdpZHRoPSIzNiIKICBoZWlnaHQ9IjM2IgogIHZpZXdCb3g9IjAgMCAzNiAzNiIKICB2ZXJzaW9uPSIxLjEiCiAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIGFyaWEtaGlkZGVuPSJ0cnVlIgogIGRhdGEtaWNvbj0ic3BpbiIKPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50CiAgICAgIHgxPSIwJSIKICAgICAgeTE9IjEwMCUiCiAgICAgIHgyPSIxMDAlIgogICAgICB5Mj0iMTAwJSIKICAgICAgaWQ9ImxpbmVhckdyYWRpZW50LTE3IgogICAgPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNEU0MEU1IiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgPHN0b3AKICAgICAgICBzdG9wLWNvbG9yPSIjNEU0MEU1IgogICAgICAgIHN0b3Atb3BhY2l0eT0iMC41MCIKICAgICAgICBvZmZzZXQ9IjM5Ljk0MzA2OTglIgogICAgICA+PC9zdG9wPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNEU0MEU1IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgPHJlY3QKICAgICAgZmlsbC1vcGFjaXR5PSIwLjAxIgogICAgICBmaWxsPSJub25lIgogICAgICB4PSIwIgogICAgICB5PSIwIgogICAgICB3aWR0aD0iMzYiCiAgICAgIGhlaWdodD0iMzYiCiAgICA+PC9yZWN0PgogICAgPHBhdGgKICAgICAgZD0iTTM0LDE4IEMzNCw5LjE2MzQ0NCAyNi44MzY1NTYsMiAxOCwyIEMxMS42NTk3MjMzLDIgNi4xODA3ODgwNSw1LjY4Nzg0MTM1IDMuNTkxMjIzMjUsMTEuMDM1NDk1MSIKICAgICAgc3Ryb2tlPSJ1cmwoI2xpbmVhckdyYWRpZW50LTE3KSIKICAgICAgc3Ryb2tlLXdpZHRoPSI0IgogICAgICBzdHJva2UtbGluZWNhcD0icm91bmQiCiAgICA+PC9wYXRoPgogIDwvZz4KPC9zdmc+Cg==",Cu="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNyIgdmlld0JveD0iMCAwIDE2IDE3IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTcuOTk5MzUgMTQuMjAyNUMxMS4zMTMgMTQuMjAyNSAxMy45OTk0IDExLjUxNjEgMTMuOTk5NCA4LjIwMjQ3QzEzLjk5OTQgNC44ODg4MSAxMS4zMTMgMi4yMDI0NyA3Ljk5OTM1IDIuMjAyNDdDNC42ODU2OCAyLjIwMjQ3IDEuOTk5MzUgNC44ODg4MSAxLjk5OTM1IDguMjAyNDdDMS45OTkzNSAxMS41MTYxIDQuNjg1NjggMTQuMjAyNSA3Ljk5OTM1IDE0LjIwMjVaTTcuOTk5MzUgMTUuNTM1OEMzLjk0OTM1IDE1LjUzNTggMC42NjYwMTYgMTIuMjUyNSAwLjY2NjAxNiA4LjIwMjQ3QzAuNjY2MDE2IDQuMTUyNDcgMy45NDkzNSAwLjg2OTE0MSA3Ljk5OTM1IDAuODY5MTQxQzEyLjA0OTQgMC44NjkxNDEgMTUuMzMyNyA0LjE1MjQ3IDE1LjMzMjcgOC4yMDI0N0MxNS4zMzI3IDEyLjI1MjUgMTIuMDQ5NCAxNS41MzU4IDcuOTk5MzUgMTUuNTM1OFpNNy4zMzI2OSAxMC41MzU4VjcuODY5MTRDNi45NjQ1IDcuODY5MTQgNi42NjYwMiA3LjU3MDY2IDYuNjY2MDIgNy4yMDI0N0M2LjY2NjAyIDYuODM0MjggNi45NjQ1IDYuNTM1ODEgNy4zMzI2OCA2LjUzNTgxSDguMDAxNzZDOC4zNjkwMSA2LjUzNTgxIDguNjY3MTMgNi44MzI4MiA4LjY2NzY5IDcuMjAwMDdDOC42NjkzNyA4LjMxMTk3IDguNjY2MDIgOS40MjM5MiA4LjY2NjAyIDEwLjUzNThIOC45OTkzNUM5LjM2NzU0IDEwLjUzNTggOS42NjYwMiAxMC44MzQzIDkuNjY2MDIgMTEuMjAyNUM5LjY2NjAyIDExLjU3MDcgOS4zNjc1NCAxMS44NjkxIDguOTk5MzUgMTEuODY5MUg2Ljk5OTM1QzYuNjMxMTYgMTEuODY5MSA2LjMzMjY4IDExLjU3MDcgNi4zMzI2OCAxMS4yMDI1QzYuMzMyNjggMTAuODM0MyA2LjYzMTE2IDEwLjUzNTggNi45OTkzNSAxMC41MzU4SDcuMzMyNjlaTTcuOTk5MzUgNS44NjkxNEM3LjYzMTE2IDUuODY5MTQgNy4zMzI2OSA1LjU3MDY2IDcuMzMyNjkgNS4yMDI0N0M3LjMzMjY5IDQuODM0MjggNy42MzExNiA0LjUzNTgxIDcuOTk5MzUgNC41MzU4MUM4LjM2NzU0IDQuNTM1ODEgOC42NjYwMiA0LjgzNDI4IDguNjY2MDIgNS4yMDI0N0M4LjY2NjAyIDUuNTcwNjYgOC4zNjc1NCA1Ljg2OTE0IDcuOTk5MzUgNS44NjkxNFoiIGZpbGw9IiMyMDI5NDUiIGZpbGwtb3BhY2l0eT0iMC42MiIgc3R5bGU9ImZpbGw6IzIwMjk0NTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgMC4xMjU1IDAuMTYwOCAwLjI3MDYpO2ZpbGwtb3BhY2l0eTowLjYyOyIvPgo8L3N2Zz4K",ju="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTIgNC44QzIgMy4xMTk4NCAyIDIuMjc5NzYgMi4zMjY5OCAxLjYzODAzQzIuNjE0NiAxLjA3MzU0IDMuMDczNTQgMC42MTQ2MDEgMy42MzgwMyAwLjMyNjk4QzQuMjc5NzYgMCA1LjExOTg0IDAgNi44IDBIMTMuMzQ1MUMxNC4wNzg5IDAgMTQuNDQ1OCAwIDE0Ljc5MSAwLjA4Mjg5MDJDMTUuMDk3MSAwLjE1NjM4IDE1LjM4OTggMC4yNzc1OTMgMTUuNjU4MiAwLjQ0MjA3OUMxNS45NjA5IDAuNjI3NjA1IDE2LjIyMDQgMC44ODcwMzIgMTYuNzM5MiAxLjQwNTg5TDIwLjU5NDEgNS4yNjA3OEMyMS4xMTMgNS43Nzk2MyAyMS4zNzI0IDYuMDM5MDYgMjEuNTU3OSA2LjM0MTgxQzIxLjcyMjQgNi42MTAyMyAyMS44NDM2IDYuOTAyODYgMjEuOTE3MSA3LjIwODk3QzIyIDcuNTU0MjMgMjIgNy45MjExMiAyMiA4LjY1NDg5VjE5LjJDMjIgMjAuODgwMiAyMiAyMS43MjAyIDIxLjY3MyAyMi4zNjJDMjEuMzg1NCAyMi45MjY1IDIwLjkyNjUgMjMuMzg1NCAyMC4zNjIgMjMuNjczQzE5LjcyMDIgMjQgMTguODgwMiAyNCAxNy4yIDI0SDYuOEM1LjExOTg0IDI0IDQuMjc5NzYgMjQgMy42MzgwMyAyMy42NzNDMy4wNzM1NCAyMy4zODU0IDIuNjE0NiAyMi45MjY1IDIuMzI2OTggMjIuMzYyQzIgMjEuNzIwMiAyIDIwLjg4MDIgMiAxOS4yVjQuOFoiIGZpbGw9IiM0MDgwRkYiLz4KPHBhdGggZD0iTTE1LjMzMzUgMS4xNTg4MkMxNS4zMzM1IDAuNzk1MzMzIDE1LjMzMzUgMC42MTM1ODggMTUuNDA1NCAwLjUyOTQzQzE1LjQ2NzcgMC40NTY0MDcgMTUuNTYxMyAwLjQxNzY1NCAxNS42NTcgMC40MjUxODlDMTUuNzY3NCAwLjQzMzg3MiAxNS44OTU5IDAuNTYyMzg1IDE2LjE1MjkgMC44MTk0MTFMMjEuMTgwOCA1Ljg0NzI2QzIxLjQzNzggNi4xMDQyOCAyMS41NjYzIDYuMjMyNzkgMjEuNTc1IDYuMzQzMTNDMjEuNTgyNSA2LjQzODg2IDIxLjU0MzggNi41MzI0MiAyMS40NzA3IDYuNTk0NzlDMjEuMzg2NiA2LjY2NjY3IDIxLjIwNDggNi42NjY2NyAyMC44NDEzIDYuNjY2NjdIMjAuMTMzNUMxOC40NTMzIDYuNjY2NjcgMTcuNjEzMyA2LjY2NjY3IDE2Ljk3MTUgNi4zMzk2OUMxNi40MDcgNi4wNTIwNyAxNS45NDgxIDUuNTkzMTIgMTUuNjYwNSA1LjAyODY0QzE1LjMzMzUgNC4zODY5IDE1LjMzMzUgMy41NDY4MiAxNS4zMzM1IDEuODY2NjdWMS4xNTg4MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMyIvPgo8cGF0aCBkPSJNMTUuODA5MSA5LjIyMjY2QzE2LjE1OTggOS4yMjI2NiAxNi40NDQxIDkuNTAyNDggMTYuNDQ0MSA5Ljg0NzY2VjE4LjU5NzdDMTYuNDQ0MSAxOC45NDI4IDE2LjE1OTggMTkuMjIyNyAxNS44MDkxIDE5LjIyMjdIOC4xOTAxQzcuODM5NDQgMTkuMjIyNyA3LjU1NTE4IDE4Ljk0MjggNy41NTUxOCAxOC41OTc3VjkuODQ3NjZDNy41NTUxOCA5LjUwMjQ4IDcuODM5NDQgOS4yMjI2NiA4LjE5MDEgOS4yMjI2NkgxNS44MDkxWk0xMy4yNjk1IDE2LjA5NzdIMTAuNzI5OFYxOC4yODUySDEzLjI2OTVWMTYuMDk3N1pNMTIuNjM0NSAxNi43MjI3VjE3LjQ0NTlIMTEuMzY0N1YxNi43MjI3SDEyLjYzNDVaTTEzLjI5ODcgMTEuNzIyN0gxMS45OTk2VjEyLjk3MjdIMTAuNzI5OFYxNC4yMjI3SDExLjk5OTZWMTUuNDcyN0gxMy4yOTg3VjE0LjIyMjdIMTIuMDI4OVYxMi45NzI3SDEzLjI5ODdWMTEuNzIyN1pNMTEuOTk5NiAxMC40NzI3SDEwLjcyOThWMTEuNzIyN0gxMS45OTk2VjEwLjQ3MjdaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",Tu=n.p+"libs/ui-kit/assets/svg/file-type/xlsx.svg",zu="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTIgNC44QzIgMy4xMTk4NCAyIDIuMjc5NzYgMi4zMjY5OCAxLjYzODAzQzIuNjE0NiAxLjA3MzU0IDMuMDczNTQgMC42MTQ2MDEgMy42MzgwMyAwLjMyNjk4QzQuMjc5NzYgMCA1LjExOTg0IDAgNi44IDBIMTMuMzQ1MUMxNC4wNzg5IDAgMTQuNDQ1OCAwIDE0Ljc5MSAwLjA4Mjg5MDJDMTUuMDk3MSAwLjE1NjM4IDE1LjM4OTggMC4yNzc1OTMgMTUuNjU4MiAwLjQ0MjA3OUMxNS45NjA5IDAuNjI3NjA1IDE2LjIyMDQgMC44ODcwMzIgMTYuNzM5MiAxLjQwNTg5TDIwLjU5NDEgNS4yNjA3OEMyMS4xMTMgNS43Nzk2MyAyMS4zNzI0IDYuMDM5MDYgMjEuNTU3OSA2LjM0MTgxQzIxLjcyMjQgNi42MTAyMyAyMS44NDM2IDYuOTAyODYgMjEuOTE3MSA3LjIwODk3QzIyIDcuNTU0MjMgMjIgNy45MjExMiAyMiA4LjY1NDg5VjE5LjJDMjIgMjAuODgwMiAyMiAyMS43MjAyIDIxLjY3MyAyMi4zNjJDMjEuMzg1NCAyMi45MjY1IDIwLjkyNjUgMjMuMzg1NCAyMC4zNjIgMjMuNjczQzE5LjcyMDIgMjQgMTguODgwMiAyNCAxNy4yIDI0SDYuOEM1LjExOTg0IDI0IDQuMjc5NzYgMjQgMy42MzgwMyAyMy42NzNDMy4wNzM1NCAyMy4zODU0IDIuNjE0NiAyMi45MjY1IDIuMzI2OTggMjIuMzYyQzIgMjEuNzIwMiAyIDIwLjg4MDIgMiAxOS4yVjQuOFoiIGZpbGw9IiM0MDgwRkYiLz4KPHBhdGggZD0iTTE1LjMzMzUgMS4xNTg4MkMxNS4zMzM1IDAuNzk1MzMzIDE1LjMzMzUgMC42MTM1ODggMTUuNDA1NCAwLjUyOTQzQzE1LjQ2NzcgMC40NTY0MDcgMTUuNTYxMyAwLjQxNzY1NCAxNS42NTcgMC40MjUxODlDMTUuNzY3NCAwLjQzMzg3MiAxNS44OTU5IDAuNTYyMzg1IDE2LjE1MjkgMC44MTk0MTFMMjEuMTgwOCA1Ljg0NzI2QzIxLjQzNzggNi4xMDQyOCAyMS41NjYzIDYuMjMyNzkgMjEuNTc1IDYuMzQzMTNDMjEuNTgyNSA2LjQzODg2IDIxLjU0MzggNi41MzI0MiAyMS40NzA3IDYuNTk0NzlDMjEuMzg2NiA2LjY2NjY3IDIxLjIwNDggNi42NjY2NyAyMC44NDEzIDYuNjY2NjdIMjAuMTMzNUMxOC40NTMzIDYuNjY2NjcgMTcuNjEzMyA2LjY2NjY3IDE2Ljk3MTUgNi4zMzk2OUMxNi40MDcgNi4wNTIwNyAxNS45NDgxIDUuNTkzMTIgMTUuNjYwNSA1LjAyODY0QzE1LjMzMzUgNC4zODY5IDE1LjMzMzUgMy41NDY4MiAxNS4zMzM1IDEuODY2NjdWMS4xNTg4MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMyIvPgo8cGF0aCBkPSJNNi40NDQ4MiAxMC42MTA3QzYuNDQ0ODIgMTAuMTUwNCA2LjgxNzkyIDkuNzc3MzQgNy4yNzgxNiA5Ljc3NzM0SDEzLjExMTVDMTMuNTcxNyA5Ljc3NzM0IDEzLjk0NDggMTAuMTUwNCAxMy45NDQ4IDEwLjYxMDdWMTEuNjAwM0wxNS4yMDI5IDEwLjg5MjZDMTUuNzU4NCAxMC41ODAxIDE2LjQ0NDggMTAuOTgxNSAxNi40NDQ4IDExLjYxODlWMTUuNDM1OEMxNi40NDQ4IDE2LjA3MzIgMTUuNzU4NCAxNi40NzQ2IDE1LjIwMjkgMTYuMTYyMUwxMy45NDQ4IDE1LjQ1NDRWMTYuNDQ0QzEzLjk0NDggMTYuOTA0MiAxMy41NzE3IDE3LjI3NzMgMTMuMTExNSAxNy4yNzczSDcuMjc4MTZDNi44MTc5MiAxNy4yNzczIDYuNDQ0ODIgMTYuOTA0MiA2LjQ0NDgyIDE2LjQ0NFYxMC42MTA3Wk04Ljk0NDgyIDEzLjExMDdDOS40MDUwNiAxMy4xMTA3IDkuNzc4MTYgMTIuNzM3NiA5Ljc3ODE2IDEyLjI3NzNDOS43NzgxNiAxMS44MTcxIDkuNDA1MDYgMTEuNDQ0IDguOTQ0ODIgMTEuNDQ0QzguNDg0NTkgMTEuNDQ0IDguMTExNDkgMTEuODE3MSA4LjExMTQ5IDEyLjI3NzNDOC4xMTE0OSAxMi43Mzc2IDguNDg0NTkgMTMuMTEwNyA4Ljk0NDgyIDEzLjExMDdaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",Ou="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTIgNC44QzIgMy4xMTk4NCAyIDIuMjc5NzYgMi4zMjY5OCAxLjYzODAzQzIuNjE0NiAxLjA3MzU0IDMuMDczNTQgMC42MTQ2MDEgMy42MzgwMyAwLjMyNjk4QzQuMjc5NzYgMCA1LjExOTg0IDAgNi44IDBIMTMuMzQ1MUMxNC4wNzg5IDAgMTQuNDQ1OCAwIDE0Ljc5MSAwLjA4Mjg5MDJDMTUuMDk3MSAwLjE1NjM4IDE1LjM4OTggMC4yNzc1OTMgMTUuNjU4MiAwLjQ0MjA3OUMxNS45NjA5IDAuNjI3NjA1IDE2LjIyMDQgMC44ODcwMzIgMTYuNzM5MiAxLjQwNTg5TDIwLjU5NDEgNS4yNjA3OEMyMS4xMTMgNS43Nzk2MyAyMS4zNzI0IDYuMDM5MDYgMjEuNTU3OSA2LjM0MTgxQzIxLjcyMjQgNi42MTAyMyAyMS44NDM2IDYuOTAyODYgMjEuOTE3MSA3LjIwODk3QzIyIDcuNTU0MjMgMjIgNy45MjExMiAyMiA4LjY1NDg5VjE5LjJDMjIgMjAuODgwMiAyMiAyMS43MjAyIDIxLjY3MyAyMi4zNjJDMjEuMzg1NCAyMi45MjY1IDIwLjkyNjUgMjMuMzg1NCAyMC4zNjIgMjMuNjczQzE5LjcyMDIgMjQgMTguODgwMiAyNCAxNy4yIDI0SDYuOEM1LjExOTg0IDI0IDQuMjc5NzYgMjQgMy42MzgwMyAyMy42NzNDMy4wNzM1NCAyMy4zODU0IDIuNjE0NiAyMi45MjY1IDIuMzI2OTggMjIuMzYyQzIgMjEuNzIwMiAyIDIwLjg4MDIgMiAxOS4yVjQuOFoiIGZpbGw9IiM0MDgwRkYiLz4KPHBhdGggZD0iTTE1LjMzMzUgMS4xNTg4MkMxNS4zMzM1IDAuNzk1MzMzIDE1LjMzMzUgMC42MTM1ODggMTUuNDA1NCAwLjUyOTQzQzE1LjQ2NzcgMC40NTY0MDcgMTUuNTYxMyAwLjQxNzY1NCAxNS42NTcgMC40MjUxODlDMTUuNzY3NCAwLjQzMzg3MiAxNS44OTU5IDAuNTYyMzg1IDE2LjE1MjkgMC44MTk0MTFMMjEuMTgwOCA1Ljg0NzI2QzIxLjQzNzggNi4xMDQyOCAyMS41NjYzIDYuMjMyNzkgMjEuNTc1IDYuMzQzMTNDMjEuNTgyNSA2LjQzODg2IDIxLjU0MzggNi41MzI0MiAyMS40NzA3IDYuNTk0NzlDMjEuMzg2NiA2LjY2NjY3IDIxLjIwNDggNi42NjY2NyAyMC44NDEzIDYuNjY2NjdIMjAuMTMzNUMxOC40NTMzIDYuNjY2NjcgMTcuNjEzMyA2LjY2NjY3IDE2Ljk3MTUgNi4zMzk2OUMxNi40MDcgNi4wNTIwNyAxNS45NDgxIDUuNTkzMTIgMTUuNjYwNSA1LjAyODY0QzE1LjMzMzUgNC4zODY5IDE1LjMzMzUgMy41NDY4MiAxNS4zMzM1IDEuODY2NjdWMS4xNTg4MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMyIvPgo8cGF0aCBkPSJNMTIuNjA2MSAxMC41ODUyVjE4LjkxODVDMTIuNjA2MSAxOS4wMDIyIDEyLjUzODMgMTkuMDcgMTIuNDU0NiAxOS4wN0gxMS41NDU1QzExLjQ2MTggMTkuMDcgMTEuMzk0IDE5LjAwMjIgMTEuMzk0IDE4LjkxODVWMTAuNTg1Mkg3LjYwNjFDNy41MjI0MyAxMC41ODUyIDcuNDU0NTkgMTAuNTE3MyA3LjQ1NDU5IDEwLjQzMzdWOS41MjQ1NkM3LjQ1NDU5IDkuNDQwODggNy41MjI0MyA5LjM3MzA1IDcuNjA2MSA5LjM3MzA1SDE2LjM5NEMxNi40Nzc3IDkuMzczMDUgMTYuNTQ1NSA5LjQ0MDg4IDE2LjU0NTUgOS41MjQ1NlYxMC40MzM3QzE2LjU0NTUgMTAuNTE3MyAxNi40Nzc3IDEwLjU4NTIgMTYuMzk0IDEwLjU4NTJIMTIuNjA2MVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",Lu=n.p+"libs/ui-kit/assets/svg/file-type/pptx.svg",Fu=n.p+"libs/ui-kit/assets/svg/file-type/pdf.svg",Pu=n.p+"libs/ui-kit/assets/svg/file-type/other.svg",Ru=n.p+"libs/ui-kit/assets/svg/file-type/docx.svg",Uu=n.p+"libs/ui-kit/assets/svg/file-type/csv.svg",Bu=n.p+"libs/ui-kit/assets/svg/file-type/code.svg",Yu="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTIgNC44QzIgMy4xMTk4NCAyIDIuMjc5NzYgMi4zMjY5OCAxLjYzODAzQzIuNjE0NiAxLjA3MzU0IDMuMDczNTQgMC42MTQ2MDEgMy42MzgwMyAwLjMyNjk4QzQuMjc5NzYgMCA1LjExOTg0IDAgNi44IDBIMTMuMzQ1MUMxNC4wNzg5IDAgMTQuNDQ1OCAwIDE0Ljc5MSAwLjA4Mjg5MDJDMTUuMDk3MSAwLjE1NjM4IDE1LjM4OTggMC4yNzc1OTMgMTUuNjU4MiAwLjQ0MjA3OUMxNS45NjA5IDAuNjI3NjA1IDE2LjIyMDQgMC44ODcwMzIgMTYuNzM5MiAxLjQwNTg5TDIwLjU5NDEgNS4yNjA3OEMyMS4xMTMgNS43Nzk2MyAyMS4zNzI0IDYuMDM5MDYgMjEuNTU3OSA2LjM0MTgxQzIxLjcyMjQgNi42MTAyMyAyMS44NDM2IDYuOTAyODYgMjEuOTE3MSA3LjIwODk3QzIyIDcuNTU0MjMgMjIgNy45MjExMiAyMiA4LjY1NDg5VjE5LjJDMjIgMjAuODgwMiAyMiAyMS43MjAyIDIxLjY3MyAyMi4zNjJDMjEuMzg1NCAyMi45MjY1IDIwLjkyNjUgMjMuMzg1NCAyMC4zNjIgMjMuNjczQzE5LjcyMDIgMjQgMTguODgwMiAyNCAxNy4yIDI0SDYuOEM1LjExOTg0IDI0IDQuMjc5NzYgMjQgMy42MzgwMyAyMy42NzNDMy4wNzM1NCAyMy4zODU0IDIuNjE0NiAyMi45MjY1IDIuMzI2OTggMjIuMzYyQzIgMjEuNzIwMiAyIDIwLjg4MDIgMiAxOS4yVjQuOFoiIGZpbGw9IiMwMEJGNDAiLz4KPHBhdGggZD0iTTE1LjMzMzUgMS4xNTg4MkMxNS4zMzM1IDAuNzk1MzMzIDE1LjMzMzUgMC42MTM1ODggMTUuNDA1NCAwLjUyOTQzQzE1LjQ2NzcgMC40NTY0MDcgMTUuNTYxMyAwLjQxNzY1NCAxNS42NTcgMC40MjUxODlDMTUuNzY3NCAwLjQzMzg3MiAxNS44OTU5IDAuNTYyMzg1IDE2LjE1MjkgMC44MTk0MTFMMjEuMTgwOCA1Ljg0NzI2QzIxLjQzNzggNi4xMDQyOCAyMS41NjYzIDYuMjMyNzkgMjEuNTc1IDYuMzQzMTNDMjEuNTgyNSA2LjQzODg2IDIxLjU0MzggNi41MzI0MiAyMS40NzA3IDYuNTk0NzlDMjEuMzg2NiA2LjY2NjY3IDIxLjIwNDggNi42NjY2NyAyMC44NDEzIDYuNjY2NjdIMjAuMTMzNUMxOC40NTMzIDYuNjY2NjcgMTcuNjEzMyA2LjY2NjY3IDE2Ljk3MTUgNi4zMzk2OUMxNi40MDcgNi4wNTIwNyAxNS45NDgxIDUuNTkzMTIgMTUuNjYwNSA1LjAyODY0QzE1LjMzMzUgNC4zODY5IDE1LjMzMzUgMy41NDY4MiAxNS4zMzM1IDEuODY2NjdWMS4xNTg4MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMyIvPgo8cGF0aCBkPSJNMTAuMDU1NyAxOS41QzkuNDQ0NjEgMTkuNSA4LjkyMTQ2IDE5LjI4MjQgOC40ODYyNyAxOC44NDcyQzguMDUxMDkgMTguNDEyIDcuODMzNSAxNy44ODg5IDcuODMzNSAxNy4yNzc4QzcuODMzNSAxNi42NjY3IDguMDUxMDkgMTYuMTQzNSA4LjQ4NjI3IDE1LjcwODNDOC45MjE0NiAxNS4yNzMxIDkuNDQ0NjEgMTUuMDU1NiAxMC4wNTU3IDE1LjA1NTZDMTAuMjY4NyAxNS4wNTU2IDEwLjQ2NTQgMTUuMDgxIDEwLjY0NiAxNS4xMzE5QzEwLjgyNjYgMTUuMTgyOSAxMS4wMDAyIDE1LjI1OTMgMTEuMTY2OCAxNS4zNjExVjEwLjc1QzExLjE2NjggMTAuMDU5NiAxMS43MjY1IDkuNSAxMi40MTY4IDkuNUgxNS4zMzM1VjExLjE2NjdIMTIuOTAyOUMxMi41NTc4IDExLjE2NjcgMTIuMjc3OSAxMS40NDY1IDEyLjI3NzkgMTEuNzkxN1YxNy4yNzc4QzEyLjI3NzkgMTcuODg4OSAxMi4wNjAzIDE4LjQxMiAxMS42MjUyIDE4Ljg0NzJDMTEuMTkgMTkuMjgyNCAxMC42NjY4IDE5LjUgMTAuMDU1NyAxOS41WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==",Qu="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJyZ2IoMjU1LCA2OCwgMzApIiBkPSJNMTIgMjFhOSA5IDAgMSAxIDAtMTggOSA5IDAgMCAxIDAgMThabTAgMmM2LjA3NSAwIDExLTQuOTI1IDExLTExUzE4LjA3NSAxIDEyIDEgMSA1LjkyNSAxIDEyczQuOTI1IDExIDExIDExWiI+PC9wYXRoPjxwYXRoIGZpbGw9InJnYigyNTUsIDY4LCAzMCkiIGQ9Ik0xMiA3YTEgMSAwIDAgMC0xIDF2NWExIDEgMCAxIDAgMiAwVjhhMSAxIDAgMCAwLTEtMVpNMTIgMTVhMSAxIDAgMSAwIDAgMiAxIDEgMCAwIDAgMC0yWiI+PC9wYXRoPjwvc3ZnPgo=",Hu="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGZvY3VzYWJsZT0iZmFsc2UiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIzIDEyYTExIDExIDAgMSAxLTIyIDAgMTEgMTEgMCAwIDEgMjIgMFptLTkuNSA1LjVhMS41IDEuNSAwIDEgMC0zIDAgMS41IDEuNSAwIDAgMCAzIDBaTTEyIDVhMS45IDEuOSAwIDAgMC0xLjg5IDJsLjMgNS41YTEuNTkgMS41OSAwIDAgMCAzLjE3IDBsLjMtNS41Yy4wNy0xLjA5LS44LTItMS44OC0yWiIgZmlsbD0icmdiKDI0OSwgNTcsIDMyKSI+PC9wYXRoPgo8L3N2Zz4K",Vu="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbi1pY29uIGljb24taWNvbi1jb3pfY2hhdF9wbHVzIHRleHQteHhsIiB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik02Ljk0MDI1IDE5LjU5MTZMNi4yMzYwNyAyMUgxMS4xMjQxQzExLjQ0NDIgMjEuNzMyNyAxMS44NzggMjIuNDA0NCAxMi40MDMyIDIyLjk5MjdDMTIuMjY5NCAyMi45OTc2IDEyLjEzNSAyMyAxMiAyM0g0LjYxODAzQzMuODc0NjUgMjMgMy4zOTExNiAyMi4yMTc3IDMuNzIzNjEgMjEuNTUyOEw0LjQ4NDA1IDIwLjAzMTlDMi4zMzk5IDE4LjAyNDcgMSAxNS4xNjg4IDEgMTJDMSA1LjkyNDg3IDUuOTI0ODcgMSAxMiAxQzE4LjA3NTEgMSAyMyA1LjkyNDg3IDIzIDEyQzIzIDEyLjEzNSAyMi45OTc2IDEyLjI2OTQgMjIuOTkyNyAxMi40MDMyQzIyLjM5MjcgMTEuODY3NSAyMS43MDU5IDExLjQyNjkgMjAuOTU2MSAxMS4xMDVDMjAuNTA2OCA2LjU1NDYzIDE2LjY2ODUgMyAxMiAzQzcuMDI5NDQgMyAzIDcuMDI5NDQgMyAxMkMzIDE0LjU5MjggNC4wOTM3OSAxNi45MjY5IDUuODUwODggMTguNTcxOEw2Ljk0MDI1IDE5LjU5MTZaIiBmaWxsPSIjMDYwNzA5IiBmaWxsLW9wYWNpdHk9IjAuOCI+PC9wYXRoPgogIDxwYXRoIGQ9Ik04IDhDNy40NDc3MiA4IDcgOC40NDc3MiA3IDkgNyA5LjU1MjI5IDcuNDQ3NzIgMTAgOCAxMEgxNUMxNS41NTIzIDEwIDE2IDkuNTUyMjkgMTYgOSAxNiA4LjQ0NzcyIDE1LjU1MjMgOCAxNSA4SDh6TTcgMTNDNyAxMi40NDc3IDcuNDQ3NzIgMTIgOCAxMkgxMUMxMS41NTIzIDEyIDEyIDEyLjQ0NzcgMTIgMTMgMTIgMTMuNTUyMyAxMS41NTIzIDE0IDExIDE0SDhDNy40NDc3MiAxNCA3IDEzLjU1MjMgNyAxM3pNMTkgMjJDMTkgMjIuNTUyMyAxOC41NTIzIDIzIDE4IDIzIDE3LjQ0NzcgMjMgMTcgMjIuNTUyMyAxNyAyMlYxOUgxNEMxMy40NDc3IDE5IDEzIDE4LjU1MjMgMTMgMTggMTMgMTcuNDQ3NyAxMy40NDc3IDE3IDE0IDE3SDE3VjE0QzE3IDEzLjQ0NzcgMTcuNDQ3NyAxMyAxOCAxMyAxOC41NTIzIDEzIDE5IDEzLjQ0NzcgMTkgMTRWMTdIMjJDMjIuNTUyMyAxNyAyMyAxNy40NDc3IDIzIDE4IDIzIDE4LjU1MjMgMjIuNTUyMyAxOSAyMiAxOUwxOSAxOVYyMnoiIGZpbGw9IiMwNjA3MDkiIGZpbGwtb3BhY2l0eT0iMC44Ij48L3BhdGg+Cjwvc3ZnPgo=",Gu="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGZvY3VzYWJsZT0iZmFsc2UiIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBkPSJNMTcuNjYgMTkuNzhhMS41IDEuNSAwIDAgMCAyLjEyLTIuMTJMMTQuMTIgMTJsNS42Ni01LjY2YTEuNSAxLjUgMCAwIDAtMi4xMi0yLjEyTDEyIDkuODggNi4zNCA0LjIyYTEuNSAxLjUgMCAxIDAtMi4xMiAyLjEyTDkuODggMTJsLTUuNjYgNS42NmExLjUgMS41IDAgMCAwIDIuMTIgMi4xMkwxMiAxNC4xMmw1LjY2IDUuNjZaIiBmaWxsPSJyZ2JhKDI4LCAzMSwgMzUsIDAuOCkiPjwvcGF0aD48L3N2Zz4K",Wu="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTYgMTYnIGZpbGw9JyNmZmYnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+CiAgPHBhdGgKICAgIGQ9J00xMi4yMDcgNC43OTNhMSAxIDAgMCAxIDAgMS40MTRsLTUgNWExIDEgMCAwIDEtMS40MTQgMGwtMi0yYTEgMSAwIDAgMSAxLjQxNC0xLjQxNEw2LjUgOS4wODZsNC4yOTMtNC4yOTNhMSAxIDAgMCAxIDEuNDE0IDB6JyAvPgo8L3N2Zz4K",qu="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJyZ2JhKDYsIDcsIDksIDAuOCkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTExLjg3OTggMS41MDcxN0MxMS42NjUzIDEuNTMyOTkgMTEuNDU3NiAxLjYyODIyIDExLjI5MjkgMS43OTI4Nkw0LjIyMTg1IDguODYzOTNDMy44MzEzMiA5LjI1NDQ2IDMuODMxMzIgOS44ODc2MiA0LjIyMTg1IDEwLjI3ODFDNC42MTIzNyAxMC42Njg3IDUuMjQ1NTQgMTAuNjY4NyA1LjYzNjA2IDEwLjI3ODFMMTEgNC45MTQxNkwxMSAyMS41QzExIDIyLjA1MjMgMTEuNDQ3OCAyMi41IDEyIDIyLjVDMTIuNTUyMyAyMi41IDEzIDIyLjA1MjMgMTMgMjEuNUwxMyA0LjkxNDE4TDE4LjM2NCAxMC4yNzgxQzE4Ljc1NDUgMTAuNjY4NyAxOS4zODc3IDEwLjY2ODcgMTkuNzc4MiAxMC4yNzgxQzIwLjE2ODggOS44ODc2MiAyMC4xNjg4IDkuMjU0NDYgMTkuNzc4MiA4Ljg2MzkzTDEyLjcwNzIgMS43OTI4NkMxMi41NjA3IDEuNjQ2NDEgMTIuMzgwMSAxLjU1NDg4IDEyLjE5MSAxLjUxODI4QzEyLjA4ODQgMS40OTg0MiAxMS45ODM0IDEuNDk0NzIgMTEuODc5OCAxLjUwNzE3WiI+PC9wYXRoPgo8L3N2Zz4K",Zu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHGSURBVHgB7ZY9TgJREMdnHhs0JAsWK4lcYBFb7Gyks9HOxgvIBez0AhbGChtLG2PFAeAC1Oi7ACa6JiIJxQo7zuMjLiuPD9lVE/kVwP7f5s1/l5l5A7Dkv4PDH0krd8RXRQQyIUIIsIVIN82n+5K6jqkP07L3BeIpu1mBiBnEyMcT6YbbfpZGXxR5CLgEogqEhwlIWQTMfBpBFbNsBO8kgkocumeOI1sQIpZlm++AFxx526+L4I0d8M7DDq5Qe3q8d1D/YqDtyAZERMuREqYZ+GmMSYup9GaRPLEhoFN9dWR1Vt2/BwrvcVhycxlYs7Z2ibxjRP7nIFZgaWdWfQRSa/aD36gfoXfWqRFQLx+4cZTn0UfjY8MFkPo4GgaVsLeoPo1fT8KlAW0OJCw7YyBe+/v3d1BJGKfuoa67at8AH5PmosEVfLxnOnz66da1b0C1zZSVK3FpLWSCH6Kh6wETDSiaTv0KIubvVQFPRzZEhEpsmGZAoDhRwwOEjNrT4L2D+rgcyLsYu02u5yQQvkFIuEiFcQNvzwCBV+O58GAoYj/zMzzHQVRwddXUd28qdtsvcjWR5gfGbNSTcX/gxcuWU7+DJUuYDxAJvNy3JtpkAAAAAElFTkSuQmCC",Ju="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAABaWlDQ1BEaXNwbGF5IFAzAAB4nHWQvUvDUBTFT6tS0DqIDh0cMolD1NIKdnFoKxRFMFQFq1OafgltfCQpUnETVyn4H1jBWXCwiFRwcXAQRAcR3Zw6KbhoeN6XVNoi3sfl/Ticc7lcwBtQGSv2AijplpFMxKS11Lrke4OHnlOqZrKooiwK/v276/PR9d5PiFlNu3YQ2U9cl84ul3aeAlN//V3Vn8maGv3f1EGNGRbgkYmVbYsJ3iUeMWgp4qrgvMvHgtMunzuelWSc+JZY0gpqhrhJLKc79HwHl4plrbWD2N6f1VeXxRzqUcxhEyYYilBRgQQF4X/8044/ji1yV2BQLo8CLMpESRETssTz0KFhEjJxCEHqkLhz634PrfvJbW3vFZhtcM4v2tpCAzidoZPV29p4BBgaAG7qTDVUR+qh9uZywPsJMJgChu8os2HmwiF3e38M6Hvh/GMM8B0CdpXzryPO7RqFn4Er/QcXKWq8MSlPPgAAAeRJREFUeAHtll1OwkAQx2eqiY/im5+J3oBU3y2cAE8AnEA4gXgC9ATADbiA0AtI1hNAooiPPCvOOEuhlELpBySayP+BLsvO/H/s7HYX4L8LIaG6aSu1twN5SZFjhrR0pSY/KelTBtH9kbJ7YXkSAXxcWrffjBWPaVD6ehhIbIC+ma0BcCFGSM8gzgRBGBBD72a2OmfO0EPikhhcnHTa+El8QGLGzA1P2DkZ2NYlW5Yz8gy8mVYBAWuuN0Pji7l0oezh0vFpq4QGVmdG2DzutG4SA/TNTFce504QSzL7JixGIAoC4ULr2TlTtu0dE6kEr1eWNTV3ph3KUeJOlV2fK4eBOf+YaGuAwHKbiI0o22uqHYaKa8ZwDUkAkCf/XreJmhBDE1jlBM/yxALwSqZVxY2RMrxMmqm1ATatLcAWYAvw6wC7/o6Bmb1DxOHh89NjWPD4jCDM7RI/xHk9BwLohHJiVfRZKxeP9EmnVQwKHFxaeSKs6zYZsC+PIiTQXAlGI3lny2nnfOOCc/sJMGfHfJyEwIaEmgPQlwuDObMKwm9OgPrO14CEWliEupZ+CFkTedfQZ37WaVVgDS3dBYsQi9qEeSBAGMSmzFcCBEFs0jwUwAshO9Nm4HISc4mty4fS8LDVX9MPdjr0K80PF3gAAAAASUVORK5CYII=",Ku={dark:{fill:"rgba(78, 64, 229, 1)",fillOpacity:"1.0"},light:{fill:"#060709",fillOpacity:"0.5"}},Xu=function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n<path d="M17.8466 11.0966C18.2468 10.8785 18.4972 10.4593 18.4972 10.0003C18.4972 9.54132 18.2468 9.12405 17.8466 8.90593L3.33322 1.04799C2.9463 0.837464 2.4892 0.846947 2.10987 1.07265C1.73053 1.29836 1.50293 1.69856 1.50293 2.14238L3.10421 8.39673L9.91228 9.39337C10.3025 9.39337 10.6178 9.66459 10.6178 10.0003C10.6178 10.336 10.3025 10.6072 9.91228 10.6072C6.07554 11.1697 3.80709 11.4996 3.10692 11.5971L1.50293 17.8582C1.50293 18.3021 1.73053 18.7023 2.10987 18.9299C2.4892 19.1556 2.9463 19.1651 3.33322 18.9545L17.8466 11.0966Z" fill="'.concat(e.fill,'" fill-opacity="').concat(e.fillOpacity,'"/>\n</svg>\n')},$u=function(e){var t="light"===e.theme?Ku.light:Ku.dark,n=(0,ma.useMemo)((function(){return Go(Xu(t))}),[t]);return n},es={dark:{fill:"#202945",fillOpacity:"0.62"},light:{fill:"#FFF",fillOpacity:"1.0"},"gray-bold":{fill:"#1C1D23",fillOpacity:"1"}},ts=function(e){return'<svg class="icon-icon icon-icon-coz_copy !coz-fg-images-white w-[14px] h-[14px]" width="1em" height="1em" viewBox="0 0 24 24" fill="'.concat(e.fill,'" fill-opacity="').concat(e.fillOpacity,'" xmlns="http://www.w3.org/2000/svg"><path d="M9 3C9 2.44772 9.44772 2 10 2H20C20.5523 2 21 2.44772 21 3V15C21 15.5523 20.5523 16 20 16C19.4477 16 19 15.5523 19 15V4H10C9.44771 4 9 3.55228 9 3Z"></path><path d="M5 6C3.89543 6 3 6.89543 3 8V20C3 21.1046 3.89543 22 5 22H15C16.1046 22 17 21.1046 17 20V8C17 6.89543 16.1046 6 15 6H5ZM5 8H15V20H5L5 8Z"></path></svg>')},ns=function(e){var t=e.theme&&es[e.theme]||es.dark,n=(0,ma.useMemo)((function(){return Go(ts(t))}),[t]);return n},rs={dark:{fill:"#060709",fillOpacity:"0.8"},light:{fill:"#FFF",fillOpacity:"1.0"}},is=function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n<path d="M7.50033 1.66667V5L3.33366 5C2.41318 5 1.66699 5.74619 1.66699 6.66667V17.5C1.66699 18.4205 2.41318 19.1667 3.33366 19.1667H16.667C17.5875 19.1667 18.3337 18.4205 18.3337 17.5V6.66667C18.3337 5.74619 17.5875 5 16.667 5L12.5003 5V1.66667C12.5003 0.746192 11.7541 0 10.8337 0H9.16699C8.24652 0 7.50033 0.746192 7.50033 1.66667ZM10.8337 1.66667V6.66667H16.667V10H3.33366V6.66667H9.16699V1.66667H10.8337ZM3.33366 11.6667H16.667V17.5H7.50033V15C7.50033 14.5398 7.12723 14.1667 6.66699 14.1667C6.20676 14.1667 5.83366 14.5398 5.83366 15V17.5H3.33366L3.33366 11.6667Z"  fill="'.concat(e.fill,'" fill-opacity="').concat(e.fillOpacity,'"/>\n</svg>')},os=function(e){var t="light"===e.theme?rs.light:rs.dark,n=(0,ma.useMemo)((function(){return Go(is(t))}),[t]);return n},as={svg:"index-module__svg___aht22",wrapper:"index-module__wrapper___UmqID",circle:"index-module__circle___EAQoe"},us=["src","className"],ss=["className"],cs=["type"],ls=function(e){var t=e.src,n=e.className,r=a(e,us);return(0,ya.jsx)(p._V,c(c({},r),{},{src:t,svg:!0,className:h()(as.svg,n)}))},ds=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Du}))},fs=function(e){var t=os(e);return(0,ya.jsx)(ls,c(c({},e),{},{src:t}))},hs=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Vu}))},ps=function(e){var t=$u(e);return(0,ya.jsx)(ls,c(c({},e),{},{src:t}))},vs=function(e){var t=e.className,n=a(e,ss);return(0,ya.jsx)(ls,c(c({},n),{},{src:Nu,className:h()(as.circle,t)}))},gs=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Iu}))},ms=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Qu}))},ys=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Gu}))},xs=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Hu}))},bs=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Su}))},Ms=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Wu}))},ws=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:qu}))},ks=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Cu}))},As=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Zu}))},_s=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Eu}))},Is=function(e){var t=ns(e);return(0,ya.jsx)(ls,c(c({},e),{},{src:t}))},Ss=function(e){return(0,ya.jsx)(ls,c(c({},e),{},{src:Ju}))},Ns=(fa={},(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)(fa,x.AUDIO,Yu),x.VIDEO,zu),x.ZIP,ju),x.PDF,Fu),x.DOCX,Ru),x.EXCEL,Tu),x.CSV,Uu),x.PPT,Lu),x.TXT,Ou),x.CODE,Bu),(0,u.A)(fa,x.DEFAULT_UNKNOWN,Pu)),Es=function(e){var t=e.type,n=a(e,cs);return(0,ya.jsx)(ls,c(c({},n),{},{src:Ns[t]}))},Ds={checkbox:"index-module__checkbox___SPIRR",checked:"index-module__checked___PpIM1"},Cs=function(e){var t=e.checked,n=e.onChange,r=e.disabled,i=e.className,o=e.children,a=function(){if(r)return null;null===n||void 0===n||n(!t)};return(0,ya.jsx)(ku,{disabled:r,children:(0,ya.jsxs)(Mu,{className:h()(Ds.box,i),gap:8,onClick:a,children:[(0,ya.jsx)(p.Ss,{className:h()(Ds.checkbox,(0,u.A)({},Ds.checked,t)),children:t?(0,ya.jsx)(Ms,{}):null}),(0,ya.jsx)(p.Ss,{style:{flex:1},children:o})]})})},js={wrapper:"index-module__wrapper___ZoVnN"},Ts=["className","width","height","children"],zs=function(e){var t=e.className,n=e.width,r=e.height,i=e.children,o=a(e,Ts);return(0,ya.jsx)(p.Ss,c(c({className:h()(js.wrapper,t),style:{width:n,height:r}},o),{},{children:i}))},Os=function(e){return"paragraph"===e.type?Ls(e.children):""},Ls=function(e){return e.map((function(e){return"delete"===e.type||"emphasis"===e.type||"link"===e.type||"strong"===e.type?Ls(e.children):"text"===e.type||"inlineCode"===e.type||"html"===e.type?e.value:""})).filter((function(e){return!!e})).join(",")},Fs={list:"index-module__list___XmgwV","list-item":"index-module__list-item___uZ7mo",dot:"index-module__dot___tRGPF","order-list":"index-module__order-list___vT66X","task-item":"index-module__task-item___M9Z54"},Ps=1e3,Rs=function(e){var t=e.node,n=(0,ma.useMemo)((function(){return Ps++}),[]),r=Ys(t,n),i=Pa(),o=Ua(),a=Ba(),u=(0,ma.useState)([]),s=(0,T.A)(u,2),c=s[0],l=s[1];(0,ma.useEffect)((function(){l(r)}),[r]);var d=Ca((function(e,t){c.map((function(n){e&&t.radio&&n.taskInfo.radio&&(n.taskInfo.checked=!1),t.id===n.taskInfo.id&&(n.taskInfo.checked=e)})),l((0,Gn.A)(c))}));return(0,ma.useEffect)((function(){var e=c.some((function(e){return e.isTask}));if(e&&!o){var t=c.map((function(e){return e.taskInfo.checked&&e.taskInfo.value?e.taskInfo.value:""})).filter((function(e){return!!e}));null===a||void 0===a||a({id:"task_list_".concat(n),index:n,values:t}),null===i||void 0===i||i.debug("taskChange:",t,n)}}),[c,o]),(0,ya.jsx)(p.Ss,{className:Fs.list,children:c.map((function(e,t){return(0,ya.jsx)(Us,{listItemInfo:e,onChange:d,children:(0,ya.jsx)(p.Ss,{className:Fs.content,children:(0,ya.jsx)(yu,{node:e.node})})},t)}))})},Us=function(e){var t=e.listItemInfo,n=e.children,r=e.onChange;return(0,ya.jsx)(ya.Fragment,{children:t.isTask?(0,ya.jsx)(Bs,{nodeInfo:t,onChange:r,children:n}):(0,ya.jsxs)(Mu,{className:h()(Fs["list-item"],(0,u.A)({},Fs["order-list"],t.isOrder)),gap:6,width100:!0,children:[(0,ya.jsx)(zs,{width:21,height:22,children:t.isOrder?(0,ya.jsxs)(p.EY,{children:[t.orderNo,"."]}):(0,ya.jsx)(p.Ss,{className:Fs.dot})}),(0,ya.jsx)(p.Ss,{style:{flex:1,overflow:"hidden"},children:n})]})})},Bs=function(e){var t=e.nodeInfo,n=e.children,r=e.onChange,i=Ca((function(e){null===r||void 0===r||r(e,t.taskInfo)})),o=Ua();return(0,ya.jsx)(ya.Fragment,{children:t.taskInfo.radio?(0,ya.jsx)(_u,{checked:t.taskInfo.checked,className:Fs["task-item"],onChange:i,disabled:o,children:n}):(0,ya.jsx)(Cs,{checked:t.taskInfo.checked,className:Fs["task-item"],onChange:i,disabled:o,children:n})})},Ys=function(e,t){var n=!1,r=(0,ma.useMemo)((function(){return e.children.map((function(r,i){var o,a=r.data||{},u={id:"list_prefix_".concat(t,"_").concat(i),checkbox:(0,D.Lm)(r.checked),radio:!!a.radio,checked:null!==(o=r.checked)&&void 0!==o?o:a.checked,value:""},s=!(!u.checkbox&&!u.radio);return u.value=s?function(e){var t;return"paragraph"===(null===(e=r.children)||void 0===e?void 0:e[0].type)?Os(null===(t=r.children)||void 0===t?void 0:t[0]):""}():"",u.radio&&u.checked&&(n&&(u.checked=!1),n=!0),{isTask:s,node:r,isOrder:!!e.ordered,orderNo:i+1,taskInfo:u}}))}),[e]);return r},Qs={"heading-1":"index-module__heading-1___JtmiA","heading-2":"index-module__heading-2___cZc1_","heading-3":"index-module__heading-3___i_MfG"},Hs=function(e){var t=e.node,n=t.depth>3?3:t.depth;return(0,ya.jsx)(p.Ss,{className:Qs["heading-".concat(n)],children:t.children.map((function(e,t){return(0,ya.jsx)(fu,{node:e},t)}))})},Vs={"code-container":"index-module__code-container___oH4Nm",header:"index-module__header___tuk1Q",code:"index-module__code___yuytR",lang:"index-module__lang___XBHYB",copy:"index-module__copy___utkxU",content:"index-module__content___xhdDD",text:"index-module__text___OLoKB"},Gs=function(e){var t,n,r=e.node,i=Fa(),o=null!==r&&void 0!==r&&null!==(t=r.children)&&void 0!==t&&t.length?null===r||void 0===r?void 0:r.children:[{type:"text",value:r.value}],a=Qa(),s=Ha(),c=(0,ma.useMemo)((function(){var e,t,n;if(a)return!0;var i=(null===(e=r.position)||void 0===e?void 0:e.start.offset)||0;return!(null!==(t=r.position)&&void 0!==t&&t.start.offset||0===(null===(n=r.position)||void 0===n?void 0:n.start.offset))||"    "!==s.substring(i,i+4)}),[a,s,null===(n=r.position)||void 0===n?void 0:n.start.offset]);return(0,ya.jsxs)(p.Ss,{className:h()(Vs["code-container"],(0,u.A)({},Vs.code,c)),children:[(0,ya.jsxs)(p.Ss,{className:Vs.header,children:[(0,ya.jsx)(p.Ss,{className:Vs.lang,children:r.lang}),(0,ya.jsx)(p.Ss,{className:Vs.copy,onClick:function(){va({data:r.value,fail:function(){(0,I.showToast)({title:(null===i||void 0===i?void 0:i.t("copyFailed"))||"",icon:"error"})},success:function(e){e&&(0,I.showToast)({title:(null===i||void 0===i?void 0:i.t("copySuccess"))||"",icon:"success"})}})},children:null===i||void 0===i?void 0:i.t("copyCode")})]}),(0,ya.jsx)(p.Ss,{className:Vs.content,children:null===o||void 0===o?void 0:o.map((function(e,t){return(0,ya.jsxs)(ma.Fragment,{children:["text"===e.type&&(0,ya.jsx)(Ga,{node:e,className:Vs.text}),"indicator"===e.type&&(0,ya.jsx)(tu,{node:e})]},t)}))})]})},Ws={blockquote:"index-module__blockquote___opsoc"},qs=function(e){var t=e.node;return(0,ya.jsx)(p.Ss,{className:Ws.blockquote,children:t.children.map((function(e){return(0,ya.jsx)(Js,{node:e})}))})},Zs=["code","heading","paragraph","blockquote","list","listItem","table","thematicBreak"],Js=function(e){var t=e.node,n=e.isParagraphNeedMargin,r=void 0===n||n;return(0,ya.jsxs)(p.Ss,{children:["html"===t.type&&(0,ya.jsx)(au,{node:t}),"code"===t.type&&(0,ya.jsx)(Gs,{node:t}),"heading"===t.type&&(0,ya.jsx)(Hs,{node:t}),"paragraph"===t.type&&(0,ya.jsx)(mu,{node:t,isNeedMargin:r}),"blockquote"===t.type&&(0,ya.jsx)(qs,{node:t}),"list"===t.type&&(0,ya.jsx)(Rs,{node:t}),"listItem"===t.type&&(0,ya.jsx)(yu,{node:t}),"table"===t.type&&(0,ya.jsx)(gu,{node:t}),"thematicBreak"===t.type&&(0,ya.jsx)(pu,{})]})},Ks={root:"index-module__root___R_KQi"},Xs=function(e){var t=e.root,n=e.theme,r=void 0===n?"light":n,i=e.className,o=e.style;return(0,ya.jsx)(p.Ss,{style:o,className:h()(Ks.root,"md-stream",{dark:"dark"!==r},i),children:null===t||void 0===t?void 0:t.children.map((function(e,t){return(0,ya.jsxs)(ma.Fragment,{children:[Zs.includes(e.type)&&(0,ya.jsx)(Js,{node:e}),du.includes(e.type)&&(0,ya.jsx)(fu,{node:e}),"tableCell"===e.type&&null,"tableRow"===e.type&&null,"yaml"===e.type&&null]},t)}))})},$s=function(e){var t=e.onTaskChange,n=e.logger,r=(0,ma.useRef)({}),i=Ca((function(e){r.current[e.id]=e;var i=Object.values(r.current).sort((function(e,t){return e.index-t.index})).map((function(e){return{taskName:e.id,taskValue:e.values}}));null===t||void 0===t||t({taskList:i}),null===n||void 0===n||n.debug("useTaskChangeHandle onTaskChange values:",i)}));return{onTaskChangeHandle:i}},ec=function(e){var t=e.isSmooth,n=e.interval,r=e.markdown,i=e.isFinish,o=(0,ma.useRef)(""),a=(0,ma.useRef)(t),u=(0,ma.useRef)(n),s=(0,ma.useRef)(0),c=(0,ma.useState)(t?"":r),l=(0,T.A)(c,2),d=l[0],f=l[1],h=t&&(d.length<o.current.length||!i),p=(0,ma.useMemo)((function(){return!r.startsWith(o.current)||!t}),[r,t]);o.current=r,u.current=n,a.current=t;var v=(0,ma.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(s.current<o.current.length){var t;s.current+=e||1;var n=null===(t=o.current)||void 0===t?void 0:t.slice(0,s.current);f(n)}}),[]);return(0,ma.useEffect)((function(){var e;if(s.current=0,s.current=0,t){var n=function(){e=setTimeout((function(){v(2),n()}),u.current)};n()}else f(o.current);return function(){clearTimeout(e)}}),[t,p&&r]),{isShowIndicator:h,showMarkdown:d,showMoreByte:v}},tc=function(e){return!(null===e||void 0===e||!e.children)},nc=function(e,t){var n=null;return t.find((function(t){return n=t.exec(e),n})),n},rc=function(e,t,n){if(tc(e)){var r,i,o=rc(null===e||void 0===e?void 0:e.children[(null===e||void 0===e||null===(r=e.children)||void 0===r?void 0:r.length)-1],e,n);return(i=e.children).splice.apply(i,[-1,1].concat((0,Gn.A)(o))),0===e.children.length?[]:[e]}return n(e,t)},ic=function(e){var t=void 0;return rc(e,void 0,(function(e,n){return e?(t="link"===(null===n||void 0===n?void 0:n.type)?n:e,[e]):[]})),t},oc=function(e){var t=e.isSmooth,n=e.markdown,r=e.showMoreByte,i=e.showMarkdownIndex,o=e.enableHtmlTags,a=(0,ma.useRef)(n),u=(0,ma.useRef)(i),s=(0,ma.useRef)(t),c=(0,ma.useRef)(r),l=Ca((function(e){if(s.current){var t=ic(e);if("image"===(null===t||void 0===t?void 0:t.type)||"link"===(null===t||void 0===t?void 0:t.type)){var n=a.current.indexOf(")",u.current),r=a.current.indexOf("\n",u.current);-1===r||n<r?n>-1&&c.current(n-u.current+1):c.current(r-u.current+1)}else if("html"===(null===t||void 0===t?void 0:t.type)&&o){var i=a.current.indexOf("\n",u.current);i>-1?c.current(i-u.current+1):c.current(a.current.length-u.current)}}}));return{onAstChange:l}},ac=function(e){var t=e.showMarkdown,n=e.markdown,r=e.isFinish,i=e.onMarkdownEnd,o=e.onRenderMarkdownChange;(0,ma.useEffect)((function(){t===n&&r&&(null===i||void 0===i||i())}),[t,n,r]),(0,ma.useEffect)((function(){null===o||void 0===o||o(t)}),[t])},uc=xc(/[A-Za-z]/),sc=xc(/[\dA-Za-z]/),cc=xc(/[#-'*+\--9=?A-Z^-~]/);function lc(e){return null!==e&&(e<32||127===e)}var dc=xc(/\d/),fc=xc(/[\dA-Fa-f]/),hc=xc(/[!-/:-@[-`{-~]/);function pc(e){return null!==e&&e<-2}function vc(e){return null!==e&&(e<0||32===e)}function gc(e){return-2===e||-1===e||32===e}var mc=xc(/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD803[\uDD8E\uDD8F]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF])/),yc=xc(/\s/);function xc(e){return t;function t(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function bc(e,t,n,r){var i=r?r-1:Number.POSITIVE_INFINITY,o=0;return a;function a(r){return gc(r)?(e.enter(n),u(r)):t(r)}function u(r){return gc(r)&&o++<i?(e.consume(r),u):(e.exit(n),t(r))}}var Mc={name:"radiolistCheck",tokenize:kc};function wc(){return{text:(0,u.A)({},40,Mc)}}function kc(e,t,n){var r=this;return i;function i(t){return null===r.previous&&r._gfmTasklistFirstContentOfListItem?(e.enter("radioListCheck"),e.enter("radioListCheckMarker"),e.consume(t),e.exit("radioListCheckMarker"),o):n(t)}function o(t){return vc(t)?(e.enter("radioListCheckValueUnchecked"),e.consume(t),e.exit("radioListCheckValueUnchecked"),a):88===t||120===t?(e.enter("radioListCheckValueChecked"),e.consume(t),e.exit("radioListCheckValueChecked"),a):n(t)}function a(t){return 41===t?(e.enter("radioListCheckMarker"),e.consume(t),e.exit("radioListCheckMarker"),e.exit("radioListCheck"),u):n(t)}function u(r){return pc(r)?t(r):gc(r)?e.check({tokenize:Ac},t,n)(r):n(r)}}function Ac(e,t,n){return bc(e,r,"whitespace");function r(e){return null===e?n(e):t(e)}}var _c={name:"tasklistCheck",tokenize:Sc};function Ic(){return{text:(0,u.A)({},91,_c)}}function Sc(e,t,n){var r=this;return i;function i(t){return null===r.previous&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),o):n(t)}function o(t){return vc(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),a):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),a):n(t)}function a(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(t)}function u(r){return pc(r)?t(r):gc(r)?e.check({tokenize:Nc},t,n)(r):n(r)}}function Nc(e,t,n){return bc(e,r,"whitespace");function r(e){return null===e?n(e):t(e)}}var Ec=function(){function e(){(0,z.A)(this,e),this.map=[]}return(0,O.A)(e,[{key:"add",value:function(e,t,n){Dc(this,e,t,n)}},{key:"consume",value:function(e){if(this.map.sort((function(e,t){return e[0]-t[0]})),0!==this.map.length){var t=this.map.length,n=[];while(t>0)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;var r=n.pop();while(r){var i,o=$(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.push(a)}}catch(e){o.e(e)}finally{o.f()}r=n.pop()}this.map.length=0}}}])}();function Dc(e,t,n,r){var i=0;if(0!==n||0!==r.length){while(i<e.map.length){var o;if(e.map[i][0]===t)return e.map[i][1]+=n,void(o=e.map[i][2]).push.apply(o,(0,Gn.A)(r));i+=1}e.map.push([t,n,r])}}function Cc(e,t){var n=!1,r=[];while(t<e.length){var i=e[t];if(n){if("enter"===i[0])"tableContent"===i[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===i[1].type){if("tableDelimiterMarker"===e[t-1][1].type){var o=r.length-1;r[o]="left"===r[o]?"center":"right"}}else if("tableDelimiterRow"===i[1].type)break}else"enter"===i[0]&&"tableDelimiterRow"===i[1].type&&(n=!0);t+=1}return r}function jc(){return{flow:{null:{name:"table",tokenize:Tc,resolveAll:zc}}}}function Tc(e,t,n){var r,i=this,o=0,a=0;return u;function u(e){var t=i.events.length-1;while(t>-1){var r=i.events[t][1].type;if("lineEnding"!==r&&"linePrefix"!==r)break;t--}var o=t>-1?i.events[t][1].type:null,a="tableHead"===o||"tableRow"===o?w:s;return a===w&&i.parser.lazy[i.now().line]?n(e):a(e)}function s(t){return e.enter("tableHead"),e.enter("tableRow"),c(t)}function c(e){return 124===e||(r=!0,a+=1),l(e)}function l(t){return null===t?n(t):pc(t)?a>1?(a=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),h):n(t):gc(t)?bc(e,l,"whitespace")(t):(a+=1,r&&(r=!1,o+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),r=!0,l):(e.enter("data"),d(t)))}function d(t){return null===t||124===t||vc(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?f:d)}function f(t){return 92===t||124===t?(e.consume(t),d):d(t)}function h(t){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(t):(e.enter("tableDelimiterRow"),r=!1,gc(t)?bc(e,p,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):p(t))}function p(t){return 45===t||58===t?g(t):124===t?(r=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),v):M(t)}function v(t){return gc(t)?bc(e,g,"whitespace")(t):g(t)}function g(t){return 58===t?(a+=1,r=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(a+=1,m(t)):null===t||pc(t)?b(t):M(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),y(t)):M(t)}function y(t){return 45===t?(e.consume(t),y):58===t?(r=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(t))}function x(t){return gc(t)?bc(e,b,"whitespace")(t):b(t)}function b(n){return 124===n?p(n):(null===n||pc(n))&&r&&o===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):M(n)}function M(e){return n(e)}function w(t){return e.enter("tableRow"),k(t)}function k(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),k):null===n||pc(n)?(e.exit("tableRow"),t(n)):gc(n)?bc(e,k,"whitespace")(n):(e.enter("data"),A(n))}function A(t){return null===t||124===t||vc(t)?(e.exit("data"),k(t)):(e.consume(t),92===t?_:A)}function _(t){return 92===t||124===t?(e.consume(t),A):A(t)}}function zc(e,t){var n,r,i,o=-1,a=!0,u=0,s=[0,0,0,0],c=[0,0,0,0],l=!1,d=0,f=new Ec;while(++o<e.length){var h=e[o],p=h[1];"enter"===h[0]?"tableHead"===p.type?(l=!1,0!==d&&(Lc(f,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(o,0,[["enter",n,t]])):"tableRow"===p.type||"tableDelimiterRow"===p.type?(a=!0,i=void 0,s=[0,0,0,0],c=[0,o+1,0,0],l&&(l=!1,r={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(o,0,[["enter",r,t]])),u="tableDelimiterRow"===p.type?2:r?3:1):!u||"data"!==p.type&&"tableDelimiterMarker"!==p.type&&"tableDelimiterFiller"!==p.type?"tableCellDivider"===p.type&&(a?a=!1:(0!==s[1]&&(c[0]=c[1],i=Oc(f,t,s,u,void 0,i)),s=c,c=[s[1],o,0,0])):(a=!1,0===c[2]&&(0!==s[1]&&(c[0]=c[1],i=Oc(f,t,s,u,void 0,i),s=[0,0,0,0]),c[2]=o)):"tableHead"===p.type?(l=!0,d=o):"tableRow"===p.type||"tableDelimiterRow"===p.type?(d=o,0!==s[1]?(c[0]=c[1],i=Oc(f,t,s,u,o,i)):0!==c[1]&&(i=Oc(f,t,c,u,o,i)),u=0):!u||"data"!==p.type&&"tableDelimiterMarker"!==p.type&&"tableDelimiterFiller"!==p.type||(c[3]=o)}0!==d&&Lc(f,t,d,n,r),f.consume(t.events),o=-1;while(++o<t.events.length){var v=t.events[o];"enter"===v[0]&&"table"===v[1].type&&(v[1]._align=Cc(t.events,o))}return e}function Oc(e,t,n,r,i,o){var a=1===r?"tableHeader":2===r?"tableDelimiter":"tableData",u="tableContent";0!==n[0]&&(o.end=Object.assign({},Fc(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));var s=Fc(t.events,n[1]);if(o={type:a,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",o,t]]),0!==n[2]){var c=Fc(t.events,n[2]),l=Fc(t.events,n[3]),d={type:u,start:Object.assign({},c),end:Object.assign({},l)};if(e.add(n[2],0,[["enter",d,t]]),2!==r){var f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){var p=n[2]+1,v=n[3]-n[2]-1;e.add(p,v,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return void 0!==i&&(o.end=Object.assign({},Fc(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function Lc(e,t,n,r,i){var o=[],a=Fc(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function Fc(e,t){var n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}function Pc(e,t,n,r){var i,o=e.length,a=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice.apply(e,(0,Gn.A)(i));else{n&&e.splice(t,n);while(a<r.length)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice.apply(e,(0,Gn.A)(i)),a+=1e4,t+=1e4}}function Rc(e,t){return e.length>0?(Pc(e,e.length,0,t),e):t}function Uc(e){return null===e||vc(e)||yc(e)?1:mc(e)?2:void 0}function Bc(e,t,n){var r=[],i=-1;while(++i<e.length){var o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}function Yc(e){var t=e||{},n=t.singleTilde,r={name:"strikethrough",tokenize:o,resolveAll:i};return null!==n&&void 0!==n||(n=!0),{text:(0,u.A)({},126,r),insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(e,t){var n=-1;while(++n<e.length)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){var r=n;while(r--)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";var i={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},o={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},a=[["enter",i,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",o,t]],u=t.parser.constructs.insideSpan.null;u&&Pc(a,a.length,0,Bc(u,e.slice(r+1,n),t)),Pc(a,a.length,0,[["exit",o,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",i,t]]),Pc(e,r-1,n-r+3,a),n=r+a.length-2;break}}n=-1;while(++n<e.length)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}function o(e,t,r){var i=this.previous,o=this.events,a=0;return u;function u(t){return 126===i&&"characterEscape"!==o[o.length-1][1].type?r(t):(e.enter("strikethroughSequenceTemporary"),s(t))}function s(o){var u=Uc(i);if(126===o)return a>1?r(o):(e.consume(o),a++,s);if(a<2&&!n)return r(o);var c=e.exit("strikethroughSequenceTemporary"),l=Uc(o);return c._open=!l||2===l&&Boolean(u),c._close=!u||2===u&&Boolean(l),t(o)}}}var Qc={tokenize:rl,partial:!0},Hc={tokenize:il,partial:!0},Vc={tokenize:ol,partial:!0},Gc={tokenize:al,partial:!0},Wc={tokenize:ul,partial:!0},qc={name:"wwwAutolink",tokenize:tl,previous:sl},Zc={name:"protocolAutolink",tokenize:nl,previous:cl},Jc={name:"emailAutolink",tokenize:el,previous:ll},Kc={};function Xc(){return{text:Kc}}var $c=48;while($c<123)Kc[$c]=Jc,$c++,58===$c?$c=65:91===$c&&($c=97);function el(e,t,n){var r,i,o=this;return a;function a(t){return dl(t)&&ll.call(o,o.previous)&&!fl(o.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(t)):n(t)}function u(t){return dl(t)?(e.consume(t),u):64===t?(e.consume(t),s):n(t)}function s(t){return 46===t?e.check(Wc,l,c)(t):45===t||95===t||sc(t)?(i=!0,e.consume(t),s):l(t)}function c(t){return e.consume(t),r=!0,s}function l(a){return i&&r&&uc(o.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(a)):n(a)}}function tl(e,t,n){var r=this;return i;function i(t){return 87!==t&&119!==t||!sl.call(r,r.previous)||fl(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Qc,e.attempt(Hc,e.attempt(Vc,o),n),n)(t))}function o(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}}function nl(e,t,n){var r=this,i="",o=!1;return a;function a(t){return 72!==t&&104!==t||!cl.call(r,r.previous)||fl(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(t),e.consume(t),u)}function u(t){if(uc(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),u;if(58===t){var r=i.toLowerCase();if("http"===r||"https"===r)return e.consume(t),s}return n(t)}function s(t){return 47===t?(e.consume(t),o?c:(o=!0,s)):n(t)}function c(t){return null===t||lc(t)||vc(t)||yc(t)||mc(t)?n(t):e.attempt(Hc,e.attempt(Vc,l),n)(t)}function l(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}}function rl(e,t,n){var r=0;return i;function i(t){return(87===t||119===t)&&r<3?(r++,e.consume(t),i):46===t&&3===r?(e.consume(t),o):n(t)}function o(e){return null===e?n(e):t(e)}}function il(e,t,n){var r,i,o;return a;function a(t){return 46===t||95===t?e.check(Gc,s,u)(t):null===t||vc(t)||yc(t)||45!==t&&mc(t)?s(t):(o=!0,e.consume(t),a)}function u(t){return 95===t?r=!0:(i=r,r=void 0),e.consume(t),a}function s(e){return i||r||!o?n(e):t(e)}}function ol(e,t){var n=0,r=0;return i;function i(a){return 40===a?(n++,e.consume(a),i):41===a&&r<n?o(a):33===a||34===a||38===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||60===a||63===a||93===a||95===a||126===a?e.check(Gc,t,o)(a):null===a||vc(a)||yc(a)?t(a):(e.consume(a),i)}function o(t){return 41===t&&r++,e.consume(t),i}}function al(e,t,n){return r;function r(a){return 33===a||34===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||63===a||95===a||126===a?(e.consume(a),r):38===a?(e.consume(a),o):93===a?(e.consume(a),i):60===a||null===a||vc(a)||yc(a)?t(a):n(a)}function i(e){return null===e||40===e||91===e||vc(e)||yc(e)?t(e):r(e)}function o(e){return uc(e)?a(e):n(e)}function a(t){return 59===t?(e.consume(t),r):uc(t)?(e.consume(t),a):n(t)}}function ul(e,t,n){return r;function r(t){return e.consume(t),i}function i(e){return sc(e)?n(e):t(e)}}function sl(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||vc(e)}function cl(e){return!uc(e)}function ll(e){return!(47===e||dl(e))}function dl(e){return 43===e||45===e||46===e||95===e||sc(e)}function fl(e){var t=e.length,n=!1;while(t--){var r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function hl(){}function pl(){return{exit:{radioListCheckValueChecked:vl,radioListCheckValueUnchecked:vl,paragraph:gl}}}function vl(e){var t=this.stack[this.stack.length-2];hl("listItem"===t.type),t.data=c(c({},t.data||{}),{},{radio:!0,checked:"radioListCheckValueChecked"===e.type})}function gl(e){var t,n=this.stack[this.stack.length-2];if(n&&"listItem"===n.type&&"boolean"===typeof(null===(t=n.data)||void 0===t?void 0:t.checked)){var r=this.stack[this.stack.length-1];hl("paragraph"===r.type);var i=r.children[0];if(i&&"text"===i.type){var o,a=n.children,u=-1;while(++u<a.length){var s=a[u];if("paragraph"===s.type){o=s;break}}o===r&&(i.value=i.value.slice(1),0===i.value.length?r.children.shift():r.position&&i.position&&"number"===typeof i.position.start.offset&&(i.position.start.column++,i.position.start.offset++,r.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function ml(){return{exit:{taskListCheckValueChecked:yl,taskListCheckValueUnchecked:yl,paragraph:xl}}}function yl(e){var t=this.stack[this.stack.length-2];hl("listItem"===t.type),t.checked="taskListCheckValueChecked"===e.type}function xl(e){var t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"===typeof t.checked){var n=this.stack[this.stack.length-1];hl("paragraph"===n.type);var r=n.children[0];if(r&&"text"===r.type){var i,o=t.children,a=-1;while(++a<o.length){var u=o[a];if("paragraph"===u.type){i=u;break}}i===n&&(r.value=r.value.slice(1),0===r.value.length?n.children.shift():n.position&&r.position&&"number"===typeof r.position.start.offset&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function bl(){return{enter:{table:Ml,tableData:_l,tableHeader:_l,tableRow:kl},exit:{codeText:Il,table:wl,tableData:Al,tableHeader:Al,tableRow:Al}}}function Ml(e){var t=e._align;hl(t,"expected `_align` on table"),this.enter({type:"table",align:t.map((function(e){return"none"===e?null:e})),children:[]},e),this.data.inTable=!0}function wl(e){this.exit(e),this.data.inTable=void 0}function kl(e){this.enter({type:"tableRow",children:[]},e)}function Al(e){this.exit(e)}function _l(e){this.enter({type:"tableCell",children:[]},e)}function Il(e){var t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Sl));var n=this.stack[this.stack.length-1];hl("inlineCode"===n.type),n.value=t,this.exit(e)}function Sl(e,t){return"|"===t?t:e}Kc[43]=Jc,Kc[45]=Jc,Kc[46]=Jc,Kc[95]=Jc,Kc[72]=[Jc,Zc],Kc[104]=[Jc,Zc],Kc[87]=[Jc,qc],Kc[119]=[Jc,qc];function Nl(){return{canContainEols:["delete"],enter:{strikethrough:El},exit:{strikethrough:Dl}}}function El(e){this.enter({type:"delete",children:[]},e)}function Dl(e){this.exit(e)}function Cl(e,t,n,r){var i=n.createTracker(r),o=n.enter("strikethrough"),a=i.move("~~");return a+=n.containerPhrasing(e,c(c({},i.current()),{},{before:a,after:"~"})),a+=i.move("~~"),o(),a}function jl(){return"~"}function Tl(e,t){var n=String(e);if("string"!==typeof t)throw new TypeError("Expected character");var r=0,i=n.indexOf(t);while(-1!==i)r++,i=n.indexOf(t,i+t.length);return r}function zl(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Cl.peek=jl;var Ol=function(e){if(null===e||void 0===e)return Ul;if("function"===typeof e)return Rl(e);if("object"===(0,g.A)(e))return Array.isArray(e)?Ll(e):Fl(e);if("string"===typeof e)return Pl(e);throw new Error("Expected function, string, or object as test")};function Ll(e){var t=[],n=-1;while(++n<e.length)t[n]=Ol(e[n]);return Rl(r);function r(){for(var e=-1,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];while(++e<t.length)if(t[e].apply(this,r))return!0;return!1}}function Fl(e){var t=e;return Rl(n);function n(n){var r,i=n;for(r in e)if(i[r]!==t[r])return!1;return!0}}function Pl(e){return Rl(t);function t(t){return t&&t.type===e}}function Rl(e){return t;function t(t,n,r){return Boolean(Bl(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function Ul(){return!0}function Bl(e){return null!==e&&"object"===(0,g.A)(e)&&"type"in e}function Yl(e){return e}var Ql=[],Hl=!0,Vl=!1,Gl="skip";function Wl(e,t,n,r){var i;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):i=t;var o=Ol(i),a=r?-1:1;function u(e,i,s){var c=e&&"object"===(0,g.A)(e)?e:{};if("string"===typeof c.type){var l="string"===typeof c.tagName?c.tagName:"string"===typeof c.name?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+Yl(e.type+(l?"<"+l+">":""))+")"})}return d;function d(){var c,l,d,f=Ql;if((!t||o(e,i,s[s.length-1]||void 0))&&(f=ql(n(e,s)),f[0]===Vl))return f;if("children"in e&&e.children){var h=e;if(h.children&&f[0]!==Gl){l=(r?h.children.length:-1)+a,d=s.concat(h);while(l>-1&&l<h.children.length){var p=h.children[l];if(c=u(p,l,d)(),c[0]===Vl)return c;l="number"===typeof c[1]?c[1]:l+a}}}return f}}u(e,void 0,[])()}function ql(e){return Array.isArray(e)?e:"number"===typeof e?[Hl,e]:null===e||void 0===e?Ql:[e]}function Zl(e,t,n){var r=n||{},i=Ol(r.ignore||[]),o=Jl(t),a=-1;while(++a<o.length)Wl(e,"text",u);function u(e,t){var n,r=-1;while(++r<t.length){var o=t[r],a=n?n.children:void 0;if(i(o,a?a.indexOf(o):void 0,n))return;n=o}if(n)return s(e,t)}function s(e,t){var n=t[t.length-1],r=o[a][0],i=o[a][1],u=0,s=n.children,c=s.indexOf(e),l=!1,d=[];r.lastIndex=0;var f,h=r.exec(e.value);while(h){var p=h.index,v={index:h.index,input:h.input,stack:[].concat((0,Gn.A)(t),[e])},g=i.apply(void 0,(0,Gn.A)(h).concat([v]));if("string"===typeof g&&(g=g.length>0?{type:"text",value:g}:void 0),!1===g)r.lastIndex=p+1;else{var m;if(u!==p&&d.push({type:"text",value:e.value.slice(u,p)}),Array.isArray(g))(m=d).push.apply(m,(0,Gn.A)(g));else g&&d.push(g);u=p+h[0].length,l=!0}if(!r.global)break;h=r.exec(e.value)}l?(u<e.value.length&&d.push({type:"text",value:e.value.slice(u)}),(f=n.children).splice.apply(f,[c,1].concat((0,Gn.A)(d)))):d=[e];return c+d.length}}function Jl(e){var t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");var n=!e[0]||Array.isArray(e[0])?e:[e],r=-1;while(++r<n.length){var i=n[r];t.push([Kl(i[0]),Xl(i[1])])}return t}function Kl(e){return"string"===typeof e?new RegExp(zl(e),"g"):e}function Xl(e){return"function"===typeof e?e:function(){return e}}function $l(){return{transforms:[ad],enter:{literalAutolink:ed,literalAutolinkEmail:td,literalAutolinkHttp:td,literalAutolinkWww:td},exit:{literalAutolink:od,literalAutolinkEmail:id,literalAutolinkHttp:nd,literalAutolinkWww:rd}}}function ed(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function td(e){this.config.enter.autolinkProtocol.call(this,e)}function nd(e){this.config.exit.autolinkProtocol.call(this,e)}function rd(e){this.config.exit.data.call(this,e);var t=this.stack[this.stack.length-1];hl("link"===t.type),t.url="http://"+this.sliceSerialize(e)}function id(e){this.config.exit.autolinkEmail.call(this,e)}function od(e){this.exit(e)}function ad(e){Zl(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ud],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,sd]],{ignore:["link","linkReference"]})}function ud(e,t,n,r,i){var o="";if(!dd(i))return!1;if(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!cd(n))return!1;var a=ld(n+r);if(!a[0])return!1;var u={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[u,{type:"text",value:a[1]}]:u}function sd(e,t,n,r){return!(!dd(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function cd(e){var t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function ld(e){var t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);var n=t[0],r=n.indexOf(")"),i=Tl(e,"("),o=Tl(e,")");while(-1!==r&&i>o)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function dd(e,t){var n=e.input.charCodeAt(e.index-1);return(0===e.index||yc(n)||mc(n))&&(!t||47!==n)}var fd={};function hd(e,t){var n=t||fd,r="boolean"!==typeof n.includeImageAlt||n.includeImageAlt,i="boolean"!==typeof n.includeHtml||n.includeHtml;return pd(e,r,i)}function pd(e,t,n){if(gd(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return vd(e.children,t,n)}return Array.isArray(e)?vd(e,t,n):""}function vd(e,t,n){var r=[],i=-1;while(++i<e.length)r[i]=pd(e[i],t,n);return r.join("")}function gd(e){return Boolean(e&&"object"===(0,g.A)(e))}var md=function(){function e(t){(0,z.A)(this,e),this.left=t?(0,Gn.A)(t):[],this.right=[]}return(0,O.A)(e,[{key:"get",value:function(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}},{key:"length",get:function(){return this.left.length+this.right.length}},{key:"shift",value:function(){return this.setCursor(0),this.right.pop()}},{key:"slice",value:function(e,t){var n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}},{key:"splice",value:function(e,t,n){var r=t||0;this.setCursor(Math.trunc(e));var i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&yd(this.left,n),i.reverse()}},{key:"pop",value:function(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}},{key:"push",value:function(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}},{key:"pushMany",value:function(e){this.setCursor(Number.POSITIVE_INFINITY),yd(this.left,e)}},{key:"unshift",value:function(e){this.setCursor(0),this.right.push(e)}},{key:"unshiftMany",value:function(e){this.setCursor(0),yd(this.right,e.reverse())}},{key:"setCursor",value:function(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){var t=this.left.splice(e,Number.POSITIVE_INFINITY);yd(this.right,t.reverse())}else{var n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yd(this.left,n.reverse())}}}])}();function yd(e,t){var n=0;if(t.length<1e4)e.push.apply(e,(0,Gn.A)(t));else while(n<t.length)e.push.apply(e,(0,Gn.A)(t.slice(n,n+1e4))),n+=1e4}function xd(e){var t,n,r,i,o,a,u,s={},l=-1,d=new md(e);while(++l<d.length){while(l in s)l=s[l];if(t=d.get(l),l&&"chunkFlow"===t[1].type&&"listItemPrefix"===d.get(l-1)[1].type&&(a=t[1]._tokenizer.events,r=0,r<a.length&&"lineEndingBlank"===a[r][1].type&&(r+=2),r<a.length&&"content"===a[r][1].type))while(++r<a.length){if("content"===a[r][1].type)break;"chunkText"===a[r][1].type&&(a[r][1]._isInFirstContentOfListItem=!0,r++)}if("enter"===t[0])t[1].contentType&&(Object.assign(s,bd(d,l)),l=s[l],u=!0);else if(t[1]._container){r=l,n=void 0;while(r--)if(i=d.get(r),"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type)"enter"===i[0]&&(n&&(d.get(n)[1].type="lineEndingBlank"),i[1].type="lineEnding",n=r);else if("linePrefix"!==i[1].type)break;n&&(t[1].end=c({},d.get(n)[1].start),o=d.slice(n,l),o.unshift(t),d.splice(n,l-n+1,o))}}return Pc(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function bd(e,t){var n,r,i=e.get(t)[1],o=e.get(t)[2],a=t-1,u=[],s=i._tokenizer||o.parser[i.contentType](i.start),c=s.events,l=[],d={},f=-1,h=i,p=0,v=0,g=[v];while(h){while(e.get(++a)[1]!==h);u.push(a),h._tokenizer||(n=o.sliceStream(h),h.next||n.push(null),r&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(n),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),r=h,h=h.next}h=i;while(++f<c.length)"exit"===c[f][0]&&"enter"===c[f-1][0]&&c[f][1].type===c[f-1][1].type&&c[f][1].start.line!==c[f][1].end.line&&(v=f+1,g.push(v),h._tokenizer=void 0,h.previous=void 0,h=h.next);s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;while(f--){var m=c.slice(g[f],g[f+1]),y=u.pop();l.push([y,y+m.length-1]),e.splice(y,2,m)}l.reverse(),f=-1;while(++f<l.length)d[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return d}function Md(e){while(!xd(e));return e}var wd={}.hasOwnProperty;function kd(e){var t={},n=-1;while(++n<e.length)Ad(t,e[n]);return t}function Ad(e,t){var n;for(n in t){var r=wd.call(e,n)?e[n]:void 0,i=r||(e[n]={}),o=t[n],a=void 0;if(o)for(a in o){wd.call(i,a)||(i[a]=[]);var u=o[a];_d(i[a],Array.isArray(u)?u:u?[u]:[])}}}function _d(e,t){var n=-1,r=[];while(++n<t.length)("after"===t[n].add?e:r).push(t[n]);Pc(e,0,0,r)}var Id={tokenize:Sd};function Sd(e){var t,n=e.attempt(this.parser.constructs.contentInitial,r,i);return n;function r(t){if(null!==t)return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),bc(e,n,"linePrefix");e.consume(t)}function i(t){return e.enter("paragraph"),o(t)}function o(n){var r=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=r),t=r,a(n)}function a(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):pc(t)?(e.consume(t),e.exit("chunkText"),o):(e.consume(t),a)}}var Nd={tokenize:Dd},Ed={tokenize:Cd};function Dd(e){var t,n,r,i=this,o=[],a=0;return u;function u(t){if(a<o.length){var n=o[a];return i.containerState=n[1],e.attempt(n[0].continuation,s,l)(t)}return l(t)}function s(e){if(a++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,t&&x();var n,r=i.events.length,o=r;while(o--)if("exit"===i.events[o][0]&&"chunkFlow"===i.events[o][1].type){n=i.events[o][1].end;break}y(a);var s=r;while(s<i.events.length)i.events[s][1].end=c({},n),s++;return Pc(i.events,o+1,0,i.events.slice(r)),i.events.length=s,l(e)}return u(e)}function l(n){if(a===o.length){if(!t)return h(n);if(t.currentConstruct&&t.currentConstruct.concrete)return v(n);i.interrupt=Boolean(t.currentConstruct&&!t._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(Ed,d,f)(n)}function d(e){return t&&x(),y(a),h(e)}function f(e){return i.parser.lazy[i.now().line]=a!==o.length,r=i.now().offset,v(e)}function h(t){return i.containerState={},e.attempt(Ed,p,v)(t)}function p(e){return a++,o.push([i.currentConstruct,i.containerState]),h(e)}function v(r){return null===r?(t&&x(),y(0),void e.consume(r)):(t=t||i.parser.flow(i.now()),e.enter("chunkFlow",{_tokenizer:t,contentType:"flow",previous:n}),g(r))}function g(t){return null===t?(m(e.exit("chunkFlow"),!0),y(0),void e.consume(t)):pc(t)?(e.consume(t),m(e.exit("chunkFlow")),a=0,i.interrupt=void 0,u):(e.consume(t),g)}function m(e,o){var u=i.sliceStream(e);if(o&&u.push(null),e.previous=n,n&&(n.next=e),n=e,t.defineSkip(e.start),t.write(u),i.parser.lazy[e.start.line]){var s=t.events.length;while(s--)if(t.events[s][1].start.offset<r&&(!t.events[s][1].end||t.events[s][1].end.offset>r))return;var l,d,f=i.events.length,h=f;while(h--)if("exit"===i.events[h][0]&&"chunkFlow"===i.events[h][1].type){if(l){d=i.events[h][1].end;break}l=!0}y(a),s=f;while(s<i.events.length)i.events[s][1].end=c({},d),s++;Pc(i.events,h+1,0,i.events.slice(f)),i.events.length=s}}function y(t){var n=o.length;while(n-- >t){var r=o[n];i.containerState=r[1],r[0].exit.call(i,e)}o.length=t}function x(){t.write([null]),n=void 0,t=void 0,i.containerState._closeFlow=void 0}}function Cd(e,t,n){return bc(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}var jd={partial:!0,tokenize:Td};function Td(e,t,n){return r;function r(t){return gc(t)?bc(e,i,"linePrefix")(t):i(t)}function i(e){return null===e||pc(e)?t(e):n(e)}}var zd={resolve:Ld,tokenize:Fd},Od={partial:!0,tokenize:Pd};function Ld(e){return xd(e),e}function Fd(e,t){var n;return r;function r(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)}function i(t){return null===t?o(t):pc(t)?e.check(Od,a,o)(t):(e.consume(t),i)}function o(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Pd(e,t,n){var r=this;return i;function i(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),bc(e,o,"linePrefix")}function o(i){if(null===i||pc(i))return n(i);var o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}var Rd={tokenize:Ud};function Ud(e){var t=this,n=e.attempt(jd,r,e.attempt(this.parser.constructs.flowInitial,i,bc(e,e.attempt(this.parser.constructs.flow,i,e.attempt(zd,i)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n;e.consume(r)}function i(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}var Bd={resolveAll:Vd()},Yd=Hd("string"),Qd=Hd("text");function Hd(e){return{resolveAll:Vd("text"===e?Gd:void 0),tokenize:t};function t(t){var n=this,r=this.parser.constructs[e],i=t.attempt(r,o,a);return o;function o(e){return s(e)?i(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),u;t.consume(e)}function u(e){return s(e)?(t.exit("data"),i(e)):(t.consume(e),u)}function s(e){if(null===e)return!0;var t=r[e],i=-1;if(t)while(++i<t.length){var o=t[i];if(!o.previous||o.previous.call(n,n.previous))return!0}return!1}}}function Vd(e){return t;function t(t,n){var r,i=-1;while(++i<=t.length)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function Gd(e,t){var n=0;while(++n<=e.length)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){var r=e[n-1][1],i=t.sliceStream(r),o=i.length,a=-1,u=0,s=void 0;while(o--){var l=i[o];if("string"===typeof l){a=l.length;while(32===l.charCodeAt(a-1))u++,a--;if(a)break;a=-1}else if(-2===l)s=!0,u++;else if(-1!==l){o++;break}}if(u){var d={type:n===e.length||s||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:c({},r.end)};r.end=c({},d.start),r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}var Wd={name:"thematicBreak",tokenize:qd};function qd(e,t,n){var r,i=0;return o;function o(t){return e.enter("thematicBreak"),a(t)}function a(e){return r=e,u(e)}function u(o){return o===r?(e.enter("thematicBreakSequence"),s(o)):i>=3&&(null===o||pc(o))?(e.exit("thematicBreak"),t(o)):n(o)}function s(t){return t===r?(e.consume(t),i++,s):(e.exit("thematicBreakSequence"),gc(t)?bc(e,u,"whitespace")(t):u(t))}}var Zd={continuation:{tokenize:$d},exit:tf,name:"list",tokenize:Xd},Jd={partial:!0,tokenize:nf},Kd={partial:!0,tokenize:ef};function Xd(e,t,n){var r=this,i=r.events[r.events.length-1],o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return u;function u(t){var i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:dc(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(Wd,n,c)(t):c(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)}function s(t){return dc(t)&&++a<10?(e.consume(t),s):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),c(t)):n(t)}function c(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(jd,r.interrupt?n:l,e.attempt(Jd,f,d))}function l(e){return r.containerState.initialBlankLine=!0,o++,f(e)}function d(t){return gc(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),f):n(t)}function f(n){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}function $d(e,t,n){var r=this;return r.containerState._closeFlow=void 0,e.check(jd,i,o);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,bc(e,t,"listItemIndent",r.containerState.size+1)(n)}function o(n){return r.containerState.furtherBlankLines||!gc(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Kd,t,a)(n))}function a(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,bc(e,e.attempt(Zd,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}function ef(e,t,n){var r=this;return bc(e,i,"listItemIndent",r.containerState.size+1);function i(e){var i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}}function tf(e){e.exit(this.containerState.type)}function nf(e,t,n){var r=this;return bc(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(e){var i=r.events[r.events.length-1];return!gc(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}}var rf={continuation:{tokenize:af},exit:uf,name:"blockQuote",tokenize:of};function of(e,t,n){var r=this;return i;function i(t){if(62===t){var i=r.containerState;return i.open||(e.enter("blockQuote",{_container:!0}),i.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),o}return n(t)}function o(n){return gc(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}function af(e,t,n){var r=this;return i;function i(t){return gc(t)?bc(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):o(t)}function o(r){return e.attempt(rf,t,n)(r)}}function uf(e){e.exit("blockQuote")}function sf(e,t,n,r,i,o,a,u,s){var c=s||Number.POSITIVE_INFINITY,l=0;return d;function d(t){return 60===t?(e.enter(r),e.enter(i),e.enter(o),e.consume(t),e.exit(o),f):null===t||32===t||41===t||lc(t)?n(t):(e.enter(r),e.enter(a),e.enter(u),e.enter("chunkString",{contentType:"string"}),v(t))}function f(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(u),f(t)):null===t||60===t||pc(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function v(i){return l||null!==i&&41!==i&&!vc(i)?l<c&&40===i?(e.consume(i),l++,v):41===i?(e.consume(i),l--,v):null===i||32===i||40===i||lc(i)?n(i):(e.consume(i),92===i?g:v):(e.exit("chunkString"),e.exit(u),e.exit(a),e.exit(r),t(i))}function g(t){return 40===t||41===t||92===t?(e.consume(t),v):v(t)}}function cf(e,t,n,r,i,o){var a,u=this,s=0;return c;function c(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(o),l}function l(c){return s>999||null===c||91===c||93===c&&!a||94===c&&!s&&"_hiddenFootnoteSupport"in u.parser.constructs?n(c):93===c?(e.exit(o),e.enter(i),e.consume(c),e.exit(i),e.exit(r),t):pc(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),d(c))}function d(t){return null===t||91===t||93===t||pc(t)||s++>999?(e.exit("chunkString"),l(t)):(e.consume(t),a||(a=!gc(t)),92===t?f:d)}function f(t){return 91===t||92===t||93===t?(e.consume(t),s++,d):d(t)}}function lf(e,t,n,r,i,o){var a;return u;function u(t){return 34===t||39===t||40===t?(e.enter(r),e.enter(i),e.consume(t),e.exit(i),a=40===t?41:t,s):n(t)}function s(n){return n===a?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(o),c(n))}function c(t){return t===a?(e.exit(o),s(a)):null===t?n(t):pc(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),bc(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(t))}function l(t){return t===a||null===t||pc(t)?(e.exit("chunkString"),c(t)):(e.consume(t),92===t?d:l)}function d(t){return t===a||92===t?(e.consume(t),l):l(t)}}function df(e,t){var n;return r;function r(i){return pc(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):gc(i)?bc(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function ff(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var hf={name:"definition",tokenize:vf},pf={partial:!0,tokenize:gf};function vf(e,t,n){var r,i=this;return o;function o(t){return e.enter("definition"),a(t)}function a(t){return cf.call(i,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}function u(t){return r=ff(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return vc(t)?df(e,c)(t):c(t)}function c(t){return sf(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(pf,d,d)(t)}function d(t){return gc(t)?bc(e,f,"whitespace")(t):f(t)}function f(o){return null===o||pc(o)?(e.exit("definition"),i.parser.defined.push(r),t(o)):n(o)}}function gf(e,t,n){return r;function r(t){return vc(t)?df(e,i)(t):n(t)}function i(t){return lf(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function o(t){return gc(t)?bc(e,a,"whitespace")(t):a(t)}function a(e){return null===e||pc(e)?t(e):n(e)}}var mf={name:"codeIndented",tokenize:xf},yf={partial:!0,tokenize:bf};function xf(e,t,n){var r=this;return i;function i(t){return e.enter("codeIndented"),bc(e,o,"linePrefix",5)(t)}function o(e){var t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?s(t):pc(t)?e.attempt(yf,a,s)(t):(e.enter("codeFlowValue"),u(t))}function u(t){return null===t||pc(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),u)}function s(n){return e.exit("codeIndented"),t(n)}}function bf(e,t,n){var r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):pc(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):bc(e,o,"linePrefix",5)(t)}function o(e){var o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):pc(e)?i(e):n(e)}}var Mf={name:"headingAtx",resolve:wf,tokenize:kf};function wf(e,t){var n,r,i=e.length-2,o=3;return"whitespace"===e[o][1].type&&(o+=2),i-2>o&&"whitespace"===e[i][1].type&&(i-=2),"atxHeadingSequence"===e[i][1].type&&(o===i-1||i-4>o&&"whitespace"===e[i-2][1].type)&&(i-=o+1===i?2:4),i>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},r={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},Pc(e,o,i-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e}function kf(e,t,n){var r=0;return i;function i(t){return e.enter("atxHeading"),o(t)}function o(t){return e.enter("atxHeadingSequence"),a(t)}function a(t){return 35===t&&r++<6?(e.consume(t),a):null===t||vc(t)?(e.exit("atxHeadingSequence"),u(t)):n(t)}function u(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||pc(n)?(e.exit("atxHeading"),t(n)):gc(n)?bc(e,u,"whitespace")(n):(e.enter("atxHeadingText"),c(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),u(t))}function c(t){return null===t||35===t||vc(t)?(e.exit("atxHeadingText"),u(t)):(e.consume(t),c)}}var Af={name:"setextUnderline",resolveTo:_f,tokenize:If};function _f(e,t){var n,r,i,o=e.length;while(o--)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),i||"definition"!==e[o][1].type||(i=o);var a={type:"setextHeading",start:c({},e[r][1].start),end:c({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=c({},e[i][1].end)):e[n][1]=a,e.push(["exit",a,t]),e}function If(e,t,n){var r,i=this;return o;function o(t){var o,u=i.events.length;while(u--)if("lineEnding"!==i.events[u][1].type&&"linePrefix"!==i.events[u][1].type&&"content"!==i.events[u][1].type){o="paragraph"===i.events[u][1].type;break}return i.parser.lazy[i.now().line]||!i.interrupt&&!o?n(t):(e.enter("setextHeadingLine"),r=t,a(t))}function a(t){return e.enter("setextHeadingLineSequence"),u(t)}function u(t){return t===r?(e.consume(t),u):(e.exit("setextHeadingLineSequence"),gc(t)?bc(e,s,"lineSuffix")(t):s(t))}function s(r){return null===r||pc(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}var Sf=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Nf=["pre","script","style","textarea"],Ef={concrete:!0,name:"htmlFlow",resolveTo:jf,tokenize:Tf},Df={partial:!0,tokenize:Of},Cf={partial:!0,tokenize:zf};function jf(e){var t=e.length;while(t--)if("enter"===e[t][0]&&"htmlFlow"===e[t][1].type)break;return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Tf(e,t,n){var r,i,o,a,u,s=this;return c;function c(e){return l(e)}function l(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),d}function d(a){return 33===a?(e.consume(a),f):47===a?(e.consume(a),i=!0,v):63===a?(e.consume(a),r=3,s.interrupt?t:L):uc(a)?(e.consume(a),o=String.fromCharCode(a),g):n(a)}function f(i){return 45===i?(e.consume(i),r=2,h):91===i?(e.consume(i),r=5,a=0,p):uc(i)?(e.consume(i),r=4,s.interrupt?t:L):n(i)}function h(r){return 45===r?(e.consume(r),s.interrupt?t:L):n(r)}function p(r){var i="CDATA[";return r===i.charCodeAt(a++)?(e.consume(r),a===i.length?s.interrupt?t:N:p):n(r)}function v(t){return uc(t)?(e.consume(t),o=String.fromCharCode(t),g):n(t)}function g(a){if(null===a||47===a||62===a||vc(a)){var u=47===a,c=o.toLowerCase();return u||i||!Nf.includes(c)?Sf.includes(o.toLowerCase())?(r=6,u?(e.consume(a),m):s.interrupt?t(a):N(a)):(r=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(a):i?y(a):x(a)):(r=1,s.interrupt?t(a):N(a))}return 45===a||sc(a)?(e.consume(a),o+=String.fromCharCode(a),g):n(a)}function m(r){return 62===r?(e.consume(r),s.interrupt?t:N):n(r)}function y(t){return gc(t)?(e.consume(t),y):I(t)}function x(t){return 47===t?(e.consume(t),I):58===t||95===t||uc(t)?(e.consume(t),b):gc(t)?(e.consume(t),x):I(t)}function b(t){return 45===t||46===t||58===t||95===t||sc(t)?(e.consume(t),b):M(t)}function M(t){return 61===t?(e.consume(t),w):gc(t)?(e.consume(t),M):x(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),u=t,k):gc(t)?(e.consume(t),w):A(t)}function k(t){return t===u?(e.consume(t),u=null,_):null===t||pc(t)?n(t):(e.consume(t),k)}function A(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||vc(t)?M(t):(e.consume(t),A)}function _(e){return 47===e||62===e||gc(e)?x(e):n(e)}function I(t){return 62===t?(e.consume(t),S):n(t)}function S(t){return null===t||pc(t)?N(t):gc(t)?(e.consume(t),S):n(t)}function N(t){return 45===t&&2===r?(e.consume(t),j):60===t&&1===r?(e.consume(t),T):62===t&&4===r?(e.consume(t),F):63===t&&3===r?(e.consume(t),L):93===t&&5===r?(e.consume(t),O):!pc(t)||6!==r&&7!==r?null===t||pc(t)?(e.exit("htmlFlowData"),E(t)):(e.consume(t),N):(e.exit("htmlFlowData"),e.check(Df,P,E)(t))}function E(t){return e.check(Cf,D,P)(t)}function D(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),C}function C(t){return null===t||pc(t)?E(t):(e.enter("htmlFlowData"),N(t))}function j(t){return 45===t?(e.consume(t),L):N(t)}function T(t){return 47===t?(e.consume(t),o="",z):N(t)}function z(t){if(62===t){var n=o.toLowerCase();return Nf.includes(n)?(e.consume(t),F):N(t)}return uc(t)&&o.length<8?(e.consume(t),o+=String.fromCharCode(t),z):N(t)}function O(t){return 93===t?(e.consume(t),L):N(t)}function L(t){return 62===t?(e.consume(t),F):45===t&&2===r?(e.consume(t),L):N(t)}function F(t){return null===t||pc(t)?(e.exit("htmlFlowData"),P(t)):(e.consume(t),F)}function P(n){return e.exit("htmlFlow"),t(n)}}function zf(e,t,n){var r=this;return i;function i(t){return pc(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):n(t)}function o(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}function Of(e,t,n){return r;function r(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(jd,t,n)}}var Lf={partial:!0,tokenize:Rf},Ff={concrete:!0,name:"codeFenced",tokenize:Pf};function Pf(e,t,n){var r,i=this,o={partial:!0,tokenize:M},a=0,u=0;return s;function s(e){return c(e)}function c(t){var n=i.events[i.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,r=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}function l(t){return t===r?(u++,e.consume(t),l):u<3?n(t):(e.exit("codeFencedFenceSequence"),gc(t)?bc(e,d,"whitespace")(t):d(t))}function d(n){return null===n||pc(n)?(e.exit("codeFencedFence"),i.interrupt?t(n):e.check(Lf,v,b)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(n))}function f(t){return null===t||pc(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(t)):gc(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),bc(e,h,"whitespace")(t)):96===t&&t===r?n(t):(e.consume(t),f)}function h(t){return null===t||pc(t)?d(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||pc(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(t)):96===t&&t===r?n(t):(e.consume(t),p)}function v(t){return e.attempt(o,b,g)(t)}function g(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return a>0&&gc(t)?bc(e,y,"linePrefix",a+1)(t):y(t)}function y(t){return null===t||pc(t)?e.check(Lf,v,b)(t):(e.enter("codeFlowValue"),x(t))}function x(t){return null===t||pc(t)?(e.exit("codeFlowValue"),y(t)):(e.consume(t),x)}function b(n){return e.exit("codeFenced"),t(n)}function M(e,t,n){var o=0;return a;function a(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s}function s(t){return e.enter("codeFencedFence"),gc(t)?bc(e,c,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===r?(e.enter("codeFencedFenceSequence"),l(t)):n(t)}function l(t){return t===r?(o++,e.consume(t),l):o>=u?(e.exit("codeFencedFenceSequence"),gc(t)?bc(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||pc(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}}function Rf(e,t,n){var r=this;return i;function i(t){return null===t?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o)}function o(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}var Uf=n(2340)["document"],Bf=Uf.createElement("i");function Yf(e){var t="&"+e+";";Bf.innerHTML=t;var n=Bf.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}var Qf={name:"characterReference",tokenize:Hf};function Hf(e,t,n){var r,i,o=this,a=0;return u;function u(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s}function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),r=31,i=sc,l(t))}function c(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,i=fc,l):(e.enter("characterReferenceValue"),r=7,i=dc,l(t))}function l(u){if(59===u&&a){var s=e.exit("characterReferenceValue");return i!==sc||Yf(o.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(u)}return i(u)&&a++<r?(e.consume(u),l):n(u)}}var Vf={name:"characterEscape",tokenize:Gf};function Gf(e,t,n){return r;function r(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i}function i(r){return hc(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}var Wf={name:"lineEnding",tokenize:qf};function qf(e,t){return n;function n(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),bc(e,t,"linePrefix")}}var Zf={name:"labelEnd",resolveAll:$f,resolveTo:eh,tokenize:th},Jf={tokenize:nh},Kf={tokenize:rh},Xf={tokenize:ih};function $f(e){var t=-1,n=[];while(++t<e.length){var r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){var i="labelImage"===r.type?4:2;r.type="data",t+=i}}return e.length!==n.length&&Pc(e,0,e.length,n),e}function eh(e,t){var n,r,i,o,a=e.length,u=0;while(a--)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){u=2;break}}else"labelEnd"===n.type&&(i=a);var s={type:"labelLink"===e[r][1].type?"link":"image",start:c({},e[r][1].start),end:c({},e[e.length-1][1].end)},l={type:"label",start:c({},e[r][1].start),end:c({},e[i][1].end)},d={type:"labelText",start:c({},e[r+u+2][1].end),end:c({},e[i-2][1].start)};return o=[["enter",s,t],["enter",l,t]],o=Rc(o,e.slice(r+1,r+u+3)),o=Rc(o,[["enter",d,t]]),o=Rc(o,Bc(t.parser.constructs.insideSpan.null,e.slice(r+u+4,i-3),t)),o=Rc(o,[["exit",d,t],e[i-2],e[i-1],["exit",l,t]]),o=Rc(o,e.slice(i+1)),o=Rc(o,[["exit",s,t]]),Pc(e,r,e.length,o),e}function th(e,t,n){var r,i,o=this,a=o.events.length;while(a--)if(("labelImage"===o.events[a][1].type||"labelLink"===o.events[a][1].type)&&!o.events[a][1]._balanced){r=o.events[a][1];break}return u;function u(t){return r?r._inactive?d(t):(i=o.parser.defined.includes(ff(o.sliceSerialize({start:r.end,end:o.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s):n(t)}function s(t){return 40===t?e.attempt(Jf,l,i?l:d)(t):91===t?e.attempt(Kf,l,i?c:d)(t):i?l(t):d(t)}function c(t){return e.attempt(Xf,l,d)(t)}function l(e){return t(e)}function d(e){return r._balanced=!0,n(e)}}function nh(e,t,n){return r;function r(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),i}function i(t){return vc(t)?df(e,o)(t):o(t)}function o(t){return 41===t?l(t):sf(e,a,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return vc(t)?df(e,s)(t):l(t)}function u(e){return n(e)}function s(t){return 34===t||39===t||40===t?lf(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):l(t)}function c(t){return vc(t)?df(e,l)(t):l(t)}function l(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}function rh(e,t,n){var r=this;return i;function i(t){return cf.call(r,e,o,a,"reference","referenceMarker","referenceString")(t)}function o(e){return r.parser.defined.includes(ff(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}function ih(e,t,n){return r;function r(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),i}function i(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}var oh={name:"labelStartImage",resolveAll:Zf.resolveAll,tokenize:ah};function ah(e,t,n){var r=this;return i;function i(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),o}function o(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}var uh={name:"attention",resolveAll:sh,tokenize:ch};function sh(e,t){var n,r,i,o,a,u,s,l,d=-1;while(++d<e.length)if("enter"===e[d][0]&&"attentionSequence"===e[d][1].type&&e[d][1]._close){n=d;while(n--)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[d][1]).charCodeAt(0)){if((e[n][1]._close||e[d][1]._open)&&(e[d][1].end.offset-e[d][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[d][1].end.offset-e[d][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[d][1].end.offset-e[d][1].start.offset>1?2:1;var f=c({},e[n][1].end),h=c({},e[d][1].start);lh(f,-u),lh(h,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:c({},e[n][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:c({},e[d][1].start),end:h},i={type:u>1?"strongText":"emphasisText",start:c({},e[n][1].end),end:c({},e[d][1].start)},r={type:u>1?"strong":"emphasis",start:c({},o.start),end:c({},a.end)},e[n][1].end=c({},o.start),e[d][1].start=c({},a.end),s=[],e[n][1].end.offset-e[n][1].start.offset&&(s=Rc(s,[["enter",e[n][1],t],["exit",e[n][1],t]])),s=Rc(s,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),s=Rc(s,Bc(t.parser.constructs.insideSpan.null,e.slice(n+1,d),t)),s=Rc(s,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[d][1].end.offset-e[d][1].start.offset?(l=2,s=Rc(s,[["enter",e[d][1],t],["exit",e[d][1],t]])):l=0,Pc(e,n-1,d-n+3,s),d=n+s.length-l-2;break}}d=-1;while(++d<e.length)"attentionSequence"===e[d][1].type&&(e[d][1].type="data");return e}function ch(e,t){var n,r=this.parser.constructs.attentionMarkers.null,i=this.previous,o=Uc(i);return a;function a(t){return n=t,e.enter("attentionSequence"),u(t)}function u(a){if(a===n)return e.consume(a),u;var s=e.exit("attentionSequence"),c=Uc(a),l=!c||2===c&&o||r.includes(a),d=!o||2===o&&c||r.includes(i);return s._open=Boolean(42===n?l:l&&(o||!d)),s._close=Boolean(42===n?d:d&&(c||!l)),t(a)}}function lh(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var dh={name:"autolink",tokenize:fh};function fh(e,t,n){var r=0;return i;function i(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(t){return uc(t)?(e.consume(t),a):64===t?n(t):c(t)}function a(e){return 43===e||45===e||46===e||sc(e)?(r=1,u(e)):c(e)}function u(t){return 58===t?(e.consume(t),r=0,s):(43===t||45===t||46===t||sc(t))&&r++<32?(e.consume(t),u):(r=0,c(t))}function s(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||lc(r)?n(r):(e.consume(r),s)}function c(t){return 64===t?(e.consume(t),l):cc(t)?(e.consume(t),c):n(t)}function l(e){return sc(e)?d(e):n(e)}function d(n){return 46===n?(e.consume(n),r=0,l):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):f(n)}function f(t){if((45===t||sc(t))&&r++<63){var i=45===t?f:d;return e.consume(t),i}return n(t)}}var hh={name:"htmlText",tokenize:ph};function ph(e,t,n){var r,i,o,a=this;return u;function u(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s}function s(t){return 33===t?(e.consume(t),c):47===t?(e.consume(t),M):63===t?(e.consume(t),x):uc(t)?(e.consume(t),A):n(t)}function c(t){return 45===t?(e.consume(t),l):91===t?(e.consume(t),i=0,p):uc(t)?(e.consume(t),y):n(t)}function l(t){return 45===t?(e.consume(t),h):n(t)}function d(t){return null===t?n(t):45===t?(e.consume(t),f):pc(t)?(o=d,T(t)):(e.consume(t),d)}function f(t){return 45===t?(e.consume(t),h):d(t)}function h(e){return 62===e?j(e):45===e?f(e):d(e)}function p(t){var r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),i===r.length?v:p):n(t)}function v(t){return null===t?n(t):93===t?(e.consume(t),g):pc(t)?(o=v,T(t)):(e.consume(t),v)}function g(t){return 93===t?(e.consume(t),m):v(t)}function m(t){return 62===t?j(t):93===t?(e.consume(t),m):v(t)}function y(t){return null===t||62===t?j(t):pc(t)?(o=y,T(t)):(e.consume(t),y)}function x(t){return null===t?n(t):63===t?(e.consume(t),b):pc(t)?(o=x,T(t)):(e.consume(t),x)}function b(e){return 62===e?j(e):x(e)}function M(t){return uc(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||sc(t)?(e.consume(t),w):k(t)}function k(t){return pc(t)?(o=k,T(t)):gc(t)?(e.consume(t),k):j(t)}function A(t){return 45===t||sc(t)?(e.consume(t),A):47===t||62===t||vc(t)?_(t):n(t)}function _(t){return 47===t?(e.consume(t),j):58===t||95===t||uc(t)?(e.consume(t),I):pc(t)?(o=_,T(t)):gc(t)?(e.consume(t),_):j(t)}function I(t){return 45===t||46===t||58===t||95===t||sc(t)?(e.consume(t),I):S(t)}function S(t){return 61===t?(e.consume(t),N):pc(t)?(o=S,T(t)):gc(t)?(e.consume(t),S):_(t)}function N(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,E):pc(t)?(o=N,T(t)):gc(t)?(e.consume(t),N):(e.consume(t),D)}function E(t){return t===r?(e.consume(t),r=void 0,C):null===t?n(t):pc(t)?(o=E,T(t)):(e.consume(t),E)}function D(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||vc(t)?_(t):(e.consume(t),D)}function C(e){return 47===e||62===e||vc(e)?_(e):n(e)}function j(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function T(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),z}function z(t){return gc(t)?bc(e,O,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):O(t)}function O(t){return e.enter("htmlTextData"),o(t)}}var vh={name:"labelStartLink",resolveAll:Zf.resolveAll,tokenize:gh};function gh(e,t,n){var r=this;return i;function i(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),o}function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}var mh={name:"hardBreakEscape",tokenize:yh};function yh(e,t,n){return r;function r(t){return e.enter("hardBreakEscape"),e.consume(t),i}function i(r){return pc(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}var xh,bh,Mh={name:"codeText",previous:kh,resolve:wh,tokenize:Ah};function wh(e){var t,n,r=e.length-4,i=3;if(("lineEnding"===e[i][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type)){t=i;while(++t<r)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}}t=i-1,r++;while(++t<=r)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function kh(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}function Ah(e,t,n){var r,i,o=0;return a;function a(t){return e.enter("codeText"),e.enter("codeTextSequence"),u(t)}function u(t){return 96===t?(e.consume(t),o++,u):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):96===t?(i=e.enter("codeTextSequence"),r=0,l(t)):pc(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),c(t))}function c(t){return null===t||32===t||96===t||pc(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),c)}function l(n){return 96===n?(e.consume(n),r++,l):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",c(n))}}var _h=(xh={},(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)(xh,42,Zd),43,Zd),45,Zd),48,Zd),49,Zd),50,Zd),51,Zd),52,Zd),53,Zd),54,Zd),(0,u.A)((0,u.A)((0,u.A)((0,u.A)(xh,55,Zd),56,Zd),57,Zd),62,rf)),Ih=(0,u.A)({},91,hf),Sh=(0,u.A)((0,u.A)((0,u.A)({},-2,mf),-1,mf),32,mf),Nh=(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)({},35,Mf),42,Wd),45,[Af,Wd]),60,Ef),61,Af),95,Wd),96,Ff),126,Ff),Eh=(0,u.A)((0,u.A)({},38,Qf),92,Vf),Dh=(bh={},(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)(bh,-5,Wf),-4,Wf),-3,Wf),33,oh),38,Qf),42,uh),60,[dh,hh]),91,vh),92,[mh,Vf]),93,Zf),(0,u.A)((0,u.A)(bh,95,uh),96,Mh)),Ch={null:[uh,Bd]},jh={null:[42,95]},Th={null:[]};function zh(e,t,n){var r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},o=[],a=[],u=[],s={attempt:k(M),check:k(w),consume:y,enter:x,exit:b,interrupt:k(w,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:p,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:d},l=t.tokenize.call(c,s);return t.resolveAll&&o.push(t),c;function d(e){return a=Rc(a,e),g(),null!==a[a.length-1]?[]:(A(t,0),c.events=Bc(o,c.events,c),c.events)}function f(e,t){return Lh(h(e),t)}function h(e){return Oh(a,e)}function p(){var e=r,t=e._bufferIndex,n=e._index,i=e.line,o=e.column,a=e.offset;return{_bufferIndex:t,_index:n,line:i,column:o,offset:a}}function v(e){i[e.line]=e.column,I()}function g(){var e;while(r._index<a.length){var t=a[r._index];if("string"===typeof t){e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);while(r._index===e&&r._bufferIndex<t.length)m(t.charCodeAt(r._bufferIndex))}else m(t)}}function m(e){l=l(e)}function y(e){pc(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,I()):-1!==e&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=e}function x(e,t){var n=t||{};return n.type=e,n.start=p(),c.events.push(["enter",n,c]),u.push(n),n}function b(e){var t=u.pop();return t.end=p(),c.events.push(["exit",t,c]),t}function M(e,t){A(e,t.from)}function w(e,t){t.restore()}function k(e,t){return n;function n(n,r,i){var o,a,u,l;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):d(n);function d(e){return t;function t(t){var n=null!==t&&e[t],r=null!==t&&e.null,i=[].concat((0,Gn.A)(Array.isArray(n)?n:n?[n]:[]),(0,Gn.A)(Array.isArray(r)?r:r?[r]:[]));return f(i)(t)}}function f(e){return o=e,a=0,0===e.length?i:h(e[a])}function h(e){return n;function n(n){return l=_(),u=e,e.partial||(c.currentConstruct=e),e.name&&c.parser.constructs.disable.null.includes(e.name)?v(n):e.tokenize.call(t?Object.assign(Object.create(c),t):c,s,p,v)(n)}}function p(t){return e(u,l),r}function v(e){return l.restore(),++a<o.length?h(o[a]):i}}}function A(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&Pc(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function _(){var e=p(),t=c.previous,n=c.currentConstruct,i=c.events.length,o=Array.from(u);return{from:i,restore:a};function a(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=i,u=o,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Oh(e,t){var n,r=t.start._index,i=t.start._bufferIndex,o=t.end._index,a=t.end._bufferIndex;if(r===o)n=[e[r].slice(i,a)];else{if(n=e.slice(r,o),i>-1){var u=n[0];"string"===typeof u?n[0]=u.slice(i):n.shift()}a>0&&n.push(e[o].slice(0,a))}return n}function Lh(e,t){var n,r=-1,i=[];while(++r<e.length){var o=e[r],a=void 0;if("string"===typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&n)continue;a=" ";break;default:a=String.fromCharCode(o)}n=-2===o,i.push(a)}return i.join("")}function Fh(e){var t=e||{},n=kd([i].concat((0,Gn.A)(t.extensions||[]))),r={constructs:n,content:o(Id),defined:[],document:o(Nd),flow:o(Rd),lazy:{},string:o(Yd),text:o(Qd)};return r;function o(e){return t;function t(t){return zh(r,e,t)}}}var Ph=/[\0\t\n\r]/g;function Rh(){var e,t=1,n="",r=!0;return i;function i(i,o,a){var u,s,c,l,d,f=[];i=n+("string"===typeof i?i.toString():new TextDecoder(o||void 0).decode(i)),c=0,n="",r&&(65279===i.charCodeAt(0)&&c++,r=void 0);while(c<i.length){if(Ph.lastIndex=c,u=Ph.exec(i),l=u&&void 0!==u.index?u.index:i.length,d=i.charCodeAt(l),!u){n=i.slice(c);break}if(10===d&&c===l&&e)f.push(-3),e=void 0;else switch(e&&(f.push(-5),e=void 0),c<l&&(f.push(i.slice(c,l)),t+=l-c),d){case 0:f.push(65533),t++;break;case 9:s=4*Math.ceil(t/4),f.push(-2);while(t++<s)f.push(-1);break;case 10:f.push(-4),t=1;break;default:e=!0,t=1}c=l+1}return a&&(e&&f.push(-5),n&&f.push(n),f.push(null)),f}}function Uh(e,t){var n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}var Bh=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Yh(e){return e.replace(Bh,Qh)}function Qh(e,t,n){if(t)return t;var r=n.charCodeAt(0);if(35===r){var i=n.charCodeAt(1),o=120===i||88===i;return Uh(n.slice(o?2:1),o?16:10)}return Yf(n)||e}function Hh(e){return e&&"object"===(0,g.A)(e)?"position"in e||"type"in e?Gh(e.position):"start"in e||"end"in e?Gh(e):"line"in e||"column"in e?Vh(e):"":""}function Vh(e){return Wh(e&&e.line)+":"+Wh(e&&e.column)}function Gh(e){return Vh(e&&e.start)+"-"+Vh(e&&e.end)}function Wh(e){return e&&"number"===typeof e?e:1}var qh={}.hasOwnProperty;function Zh(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),Jh(n)(Md(Fh(n).document().write(Rh()(e,t,!0))))}function Jh(e){var t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(te),autolinkProtocol:_,autolinkEmail:_,atxHeading:o(K),blockQuote:o(G),characterEscape:_,characterReference:_,codeFenced:o(W),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(W,a),codeText:o(q,a),codeTextData:_,data:_,codeFlowValue:_,definition:o(Z),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(J),hardBreakEscape:o(X),hardBreakTrailing:o(X),htmlFlow:o($,a),htmlFlowData:_,htmlText:o($,a),htmlTextData:_,image:o(ee),label:a,link:o(te),listItem:o(re),listItemValue:f,listOrdered:o(ne,d),listUnordered:o(ne),paragraph:o(ie),reference:R,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(K),strong:o(oe),thematicBreak:o(ue)},exit:{atxHeading:s(),atxHeadingSequence:M,autolink:s(),autolinkEmail:V,autolinkProtocol:H,blockQuote:s(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:B,characterReferenceMarkerNumeric:B,characterReferenceValue:Y,characterReference:Q,codeFenced:s(g),codeFencedFence:v,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:I,codeIndented:s(m),codeText:s(C),codeTextData:I,data:I,definition:s(),definitionDestinationString:b,definitionLabelString:y,definitionTitleString:x,emphasis:s(),hardBreakEscape:s(N),hardBreakTrailing:s(N),htmlFlow:s(E),htmlFlowData:I,htmlText:s(D),htmlTextData:I,image:s(T),label:O,labelText:z,lineEnding:S,link:s(j),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:U,resourceDestinationString:L,resourceTitleString:F,resource:P,setextHeading:s(A),setextHeadingLineSequence:k,setextHeadingText:w,strong:s(),thematicBreak:s()}};Xh(t,(e||{}).mdastExtensions||[]);var n={};return r;function r(e){var r={type:"root",children:[]},o={stack:[r],tokenStack:[],config:t,enter:u,exit:c,buffer:a,resume:l,data:n},s=[],d=-1;while(++d<e.length)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])s.push(d);else{var f=s.pop();d=i(e,f,d)}d=-1;while(++d<e.length){var h=t[e[d][0]];qh.call(h,e[d][1].type)&&h[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},o),e[d][1])}if(o.tokenStack.length>0){var p=o.tokenStack[o.tokenStack.length-1],v=p[1]||ep;v.call(o,void 0,p[0])}r.position={start:Kh(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Kh(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;while(++d<t.transforms.length)r=t.transforms[d](r)||r;return r}function i(e,t,n){var r,i,o,a,u=t-1,s=-1,c=!1;while(++u<=n){var l=e[u];switch(l[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===l[0]?s++:s--,a=void 0;break;case"lineEndingBlank":"enter"===l[0]&&(!r||a||s||o||(o=u),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!s&&"enter"===l[0]&&"listItemPrefix"===l[1].type||-1===s&&"exit"===l[0]&&("listUnordered"===l[1].type||"listOrdered"===l[1].type)){if(r){var d=u;i=void 0;while(d--){var f=e[d];if("lineEnding"===f[1].type||"lineEndingBlank"===f[1].type){if("exit"===f[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),f[1].type="lineEnding",i=d}else if("linePrefix"!==f[1].type&&"blockQuotePrefix"!==f[1].type&&"blockQuotePrefixWhitespace"!==f[1].type&&"blockQuoteMarker"!==f[1].type&&"listItemIndent"!==f[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:l[1].end),e.splice(i||u,0,["exit",r,l[2]]),u++,n++}if("listItemPrefix"===l[1].type){var h={type:"listItem",_spread:!1,start:Object.assign({},l[1].start),end:void 0};r=h,e.splice(u,0,["enter",h,l[2]]),u++,n++,o=void 0,a=!0}}}return e[t][1]._spread=c,n}function o(e,t){return n;function n(n){u.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function u(e,t,n){var r=this.stack[this.stack.length-1],i=r.children;i.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:Kh(t.start),end:void 0}}function s(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){var n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Hh({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{var i=r[1]||ep;i.call(this,e,r[0])}n.position.end=Kh(e.end)}function l(){return hd(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(e){if(this.data.expectingFirstListItemValue){var t=this.stack[this.stack.length-2];t.start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function h(){var e=this.resume(),t=this.stack[this.stack.length-1];t.lang=e}function p(){var e=this.resume(),t=this.stack[this.stack.length-1];t.meta=e}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){var e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){var e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=ff(this.sliceSerialize(e)).toLowerCase()}function x(){var e=this.resume(),t=this.stack[this.stack.length-1];t.title=e}function b(){var e=this.resume(),t=this.stack[this.stack.length-1];t.url=e}function M(e){var t=this.stack[this.stack.length-1];if(!t.depth){var n=this.sliceSerialize(e).length;t.depth=n}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function k(e){var t=this.stack[this.stack.length-1];t.depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function _(e){var t=this.stack[this.stack.length-1],n=t.children,r=n[n.length-1];r&&"text"===r.type||(r=ae(),r.position={start:Kh(e.start),end:void 0},n.push(r)),this.stack.push(r)}function I(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Kh(e.end)}function S(e){var n=this.stack[this.stack.length-1];if(this.data.atHardBreak){var r=n.children[n.children.length-1];return r.position.end=Kh(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(_.call(this,e),I.call(this,e))}function N(){this.data.atHardBreak=!0}function E(){var e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}function D(){var e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}function C(){var e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}function j(){var e=this.stack[this.stack.length-1];if(this.data.inReference){var t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function T(){var e=this.stack[this.stack.length-1];if(this.data.inReference){var t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function z(e){var t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=Yh(t),n.identifier=ff(t).toLowerCase()}function O(){var e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){var r=e.children;n.children=r}else n.alt=t}function L(){var e=this.resume(),t=this.stack[this.stack.length-1];t.url=e}function F(){var e=this.resume(),t=this.stack[this.stack.length-1];t.title=e}function P(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function U(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=ff(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function B(e){this.data.characterReferenceType=e.type}function Y(e){var t,n=this.sliceSerialize(e),r=this.data.characterReferenceType;if(r)t=Uh(n,"characterReferenceMarkerNumeric"===r?10:16),this.data.characterReferenceType=void 0;else{var i=Yf(n);t=i}var o=this.stack[this.stack.length-1];o.value+=t}function Q(e){var t=this.stack.pop();t.position.end=Kh(e.end)}function H(e){I.call(this,e);var t=this.stack[this.stack.length-1];t.url=this.sliceSerialize(e)}function V(e){I.call(this,e);var t=this.stack[this.stack.length-1];t.url="mailto:"+this.sliceSerialize(e)}function G(){return{type:"blockquote",children:[]}}function W(){return{type:"code",lang:null,meta:null,value:""}}function q(){return{type:"inlineCode",value:""}}function Z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function J(){return{type:"emphasis",children:[]}}function K(){return{type:"heading",depth:0,children:[]}}function X(){return{type:"break"}}function $(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function oe(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function ue(){return{type:"thematicBreak"}}}function Kh(e){return{line:e.line,column:e.column,offset:e.offset}}function Xh(e,t){var n=-1;while(++n<t.length){var r=t[n];Array.isArray(r)?Xh(e,r):$h(e,r)}}function $h(e,t){var n;for(n in t)if(qh.call(t,n))switch(n){case"canContainEols":var r,i=t[n];if(i)(r=e[n]).push.apply(r,(0,Gn.A)(i));break;case"transforms":var o,a=t[n];if(a)(o=e[n]).push.apply(o,(0,Gn.A)(a));break;case"enter":case"exit":var u=t[n];u&&Object.assign(e[n],u);break}}function ep(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Hh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Hh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Hh({start:t.start,end:t.end})+") is still open")}function tp(){this.__data__=[],this.size=0}var np=tp;function rp(e,t){return e===t||e!==e&&t!==t}var ip=rp;function op(e,t){var n=e.length;while(n--)if(ip(e[n][0],t))return n;return-1}var ap=op,up=Array.prototype,sp=up.splice;function cp(e){var t=this.__data__,n=ap(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():sp.call(t,n,1),--this.size,!0}var lp=cp;function dp(e){var t=this.__data__,n=ap(t,e);return n<0?void 0:t[n][1]}var fp=dp;function hp(e){return ap(this.__data__,e)>-1}var pp=hp;function vp(e,t){var n=this.__data__,r=ap(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var gp=vp;function mp(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}mp.prototype.clear=np,mp.prototype["delete"]=lp,mp.prototype.get=fp,mp.prototype.has=pp,mp.prototype.set=gp;var yp=mp;function xp(){this.__data__=new yp,this.size=0}var bp=xp;function Mp(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var wp=Mp;function kp(e){return this.__data__.get(e)}var Ap=kp;function _p(e){return this.__data__.has(e)}var Ip=_p,Sp="object"==("undefined"===typeof global?"undefined":(0,g.A)(global))&&global&&global.Object===Object&&global,Np=Sp,Ep="object"==("undefined"===typeof self?"undefined":(0,g.A)(self))&&self&&self.Object===Object&&self,Dp=Np||Ep||Function("return this")(),Cp=Dp,jp=Cp.Symbol,Tp=jp,zp=Object.prototype,Op=zp.hasOwnProperty,Lp=zp.toString,Fp=Tp?Tp.toStringTag:void 0;function Pp(e){var t=Op.call(e,Fp),n=e[Fp];try{e[Fp]=void 0;var r=!0}catch(e){}var i=Lp.call(e);return r&&(t?e[Fp]=n:delete e[Fp]),i}var Rp=Pp,Up=Object.prototype,Bp=Up.toString;function Yp(e){return Bp.call(e)}var Qp=Yp,Hp="[object Null]",Vp="[object Undefined]",Gp=Tp?Tp.toStringTag:void 0;function Wp(e){return null==e?void 0===e?Vp:Hp:Gp&&Gp in Object(e)?Rp(e):Qp(e)}var qp=Wp;function Zp(e){var t=(0,g.A)(e);return null!=e&&("object"==t||"function"==t)}var Jp=Zp,Kp="[object AsyncFunction]",Xp="[object Function]",$p="[object GeneratorFunction]",ev="[object Proxy]";function tv(e){if(!Jp(e))return!1;var t=qp(e);return t==Xp||t==$p||t==Kp||t==ev}var nv=tv,rv=Cp["__core-js_shared__"],iv=rv,ov=function(){var e=/[^.]+$/.exec(iv&&iv.keys&&iv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function av(e){return!!ov&&ov in e}var uv=av,sv=Function.prototype,cv=sv.toString;function lv(e){if(null!=e){try{return cv.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var dv=lv,fv=/[\\^$.*+?()[\]{}|]/g,hv=/^\[object .+?Constructor\]$/,pv=Function.prototype,vv=Object.prototype,gv=pv.toString,mv=vv.hasOwnProperty,yv=RegExp("^"+gv.call(mv).replace(fv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xv(e){if(!Jp(e)||uv(e))return!1;var t=nv(e)?yv:hv;return t.test(dv(e))}var bv=xv;function Mv(e,t){return null==e?void 0:e[t]}var wv=Mv;function kv(e,t){var n=wv(e,t);return bv(n)?n:void 0}var Av=kv,_v=Av(Cp,"Map"),Iv=_v,Sv=Av(Object,"create"),Nv=Sv;function Ev(){this.__data__=Nv?Nv(null):{},this.size=0}var Dv=Ev;function Cv(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jv=Cv,Tv="__lodash_hash_undefined__",zv=Object.prototype,Ov=zv.hasOwnProperty;function Lv(e){var t=this.__data__;if(Nv){var n=t[e];return n===Tv?void 0:n}return Ov.call(t,e)?t[e]:void 0}var Fv=Lv,Pv=Object.prototype,Rv=Pv.hasOwnProperty;function Uv(e){var t=this.__data__;return Nv?void 0!==t[e]:Rv.call(t,e)}var Bv=Uv,Yv="__lodash_hash_undefined__";function Qv(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nv&&void 0===t?Yv:t,this}var Hv=Qv;function Vv(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Vv.prototype.clear=Dv,Vv.prototype["delete"]=jv,Vv.prototype.get=Fv,Vv.prototype.has=Bv,Vv.prototype.set=Hv;var Gv=Vv;function Wv(){this.size=0,this.__data__={hash:new Gv,map:new(Iv||yp),string:new Gv}}var qv=Wv;function Zv(e){var t=(0,g.A)(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var Jv=Zv;function Kv(e,t){var n=e.__data__;return Jv(t)?n["string"==typeof t?"string":"hash"]:n.map}var Xv=Kv;function $v(e){var t=Xv(this,e)["delete"](e);return this.size-=t?1:0,t}var eg=$v;function tg(e){return Xv(this,e).get(e)}var ng=tg;function rg(e){return Xv(this,e).has(e)}var ig=rg;function og(e,t){var n=Xv(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var ag=og;function ug(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}ug.prototype.clear=qv,ug.prototype["delete"]=eg,ug.prototype.get=ng,ug.prototype.has=ig,ug.prototype.set=ag;var sg=ug,cg=200;function lg(e,t){var n=this.__data__;if(n instanceof yp){var r=n.__data__;if(!Iv||r.length<cg-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new sg(r)}return n.set(e,t),this.size=n.size,this}var dg=lg;function fg(e){var t=this.__data__=new yp(e);this.size=t.size}fg.prototype.clear=bp,fg.prototype["delete"]=wp,fg.prototype.get=Ap,fg.prototype.has=Ip,fg.prototype.set=dg;var hg=fg;function pg(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}var vg=pg,gg=function(){try{var e=Av(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),mg=gg;function yg(e,t,n){"__proto__"==t&&mg?mg(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var xg=yg,bg=Object.prototype,Mg=bg.hasOwnProperty;function wg(e,t,n){var r=e[t];Mg.call(e,t)&&ip(r,n)&&(void 0!==n||t in e)||xg(e,t,n)}var kg=wg;function Ag(e,t,n,r){var i=!n;n||(n={});var o=-1,a=t.length;while(++o<a){var u=t[o],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),i?xg(n,u,s):kg(n,u,s)}return n}var _g=Ag;function Ig(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var Sg=Ig;function Ng(e){return null!=e&&"object"==(0,g.A)(e)}var Eg=Ng,Dg="[object Arguments]";function Cg(e){return Eg(e)&&qp(e)==Dg}var jg=Cg,Tg=Object.prototype,zg=Tg.hasOwnProperty,Og=Tg.propertyIsEnumerable,Lg=jg(function(){return arguments}())?jg:function(e){return Eg(e)&&zg.call(e,"callee")&&!Og.call(e,"callee")},Fg=Lg,Pg=Array.isArray,Rg=Pg;function Ug(){return!1}var Bg=Ug,Yg="object"==("undefined"===typeof exports?"undefined":(0,g.A)(exports))&&exports&&!exports.nodeType&&exports,Qg=Yg&&"object"==("undefined"===typeof module?"undefined":(0,g.A)(module))&&module&&!module.nodeType&&module,Hg=Qg&&Qg.exports===Yg,Vg=Hg?Cp.Buffer:void 0,Gg=Vg?Vg.isBuffer:void 0,Wg=Gg||Bg,qg=Wg,Zg=9007199254740991,Jg=/^(?:0|[1-9]\d*)$/;function Kg(e,t){var n=(0,g.A)(e);return t=null==t?Zg:t,!!t&&("number"==n||"symbol"!=n&&Jg.test(e))&&e>-1&&e%1==0&&e<t}var Xg=Kg,$g=9007199254740991;function em(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=$g}var tm=em,nm="[object Arguments]",rm="[object Array]",im="[object Boolean]",om="[object Date]",am="[object Error]",um="[object Function]",sm="[object Map]",cm="[object Number]",lm="[object Object]",dm="[object RegExp]",fm="[object Set]",hm="[object String]",pm="[object WeakMap]",vm="[object ArrayBuffer]",gm="[object DataView]",mm="[object Float32Array]",ym="[object Float64Array]",xm="[object Int8Array]",bm="[object Int16Array]",Mm="[object Int32Array]",wm="[object Uint8Array]",km="[object Uint8ClampedArray]",Am="[object Uint16Array]",_m="[object Uint32Array]",Im={};function Sm(e){return Eg(e)&&tm(e.length)&&!!Im[qp(e)]}Im[mm]=Im[ym]=Im[xm]=Im[bm]=Im[Mm]=Im[wm]=Im[km]=Im[Am]=Im[_m]=!0,Im[nm]=Im[rm]=Im[vm]=Im[im]=Im[gm]=Im[om]=Im[am]=Im[um]=Im[sm]=Im[cm]=Im[lm]=Im[dm]=Im[fm]=Im[hm]=Im[pm]=!1;var Nm=Sm;function Em(e){return function(t){return e(t)}}var Dm=Em,Cm="object"==("undefined"===typeof exports?"undefined":(0,g.A)(exports))&&exports&&!exports.nodeType&&exports,jm=Cm&&"object"==("undefined"===typeof module?"undefined":(0,g.A)(module))&&module&&!module.nodeType&&module,Tm=jm&&jm.exports===Cm,zm=Tm&&Np.process,Om=function(){try{var e=jm&&jm.require&&jm.require("util").types;return e||zm&&zm.binding&&zm.binding("util")}catch(e){}}(),Lm=Om,Fm=Lm&&Lm.isTypedArray,Pm=Fm?Dm(Fm):Nm,Rm=Pm,Um=Object.prototype,Bm=Um.hasOwnProperty;function Ym(e,t){var n=Rg(e),r=!n&&Fg(e),i=!n&&!r&&qg(e),o=!n&&!r&&!i&&Rm(e),a=n||r||i||o,u=a?Sg(e.length,String):[],s=u.length;for(var c in e)!t&&!Bm.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Xg(c,s))||u.push(c);return u}var Qm=Ym,Hm=Object.prototype;function Vm(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Hm;return e===n}var Gm=Vm;function Wm(e,t){return function(n){return e(t(n))}}var qm=Wm,Zm=qm(Object.keys,Object),Jm=Zm,Km=Object.prototype,Xm=Km.hasOwnProperty;function $m(e){if(!Gm(e))return Jm(e);var t=[];for(var n in Object(e))Xm.call(e,n)&&"constructor"!=n&&t.push(n);return t}var ey=$m;function ty(e){return null!=e&&tm(e.length)&&!nv(e)}var ny=ty;function ry(e){return ny(e)?Qm(e):ey(e)}var iy=ry;function oy(e,t){return e&&_g(t,iy(t),e)}var ay=oy;function uy(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var sy=uy,cy=Object.prototype,ly=cy.hasOwnProperty;function dy(e){if(!Jp(e))return sy(e);var t=Gm(e),n=[];for(var r in e)("constructor"!=r||!t&&ly.call(e,r))&&n.push(r);return n}var fy=dy;function hy(e){return ny(e)?Qm(e,!0):fy(e)}var py=hy;function vy(e,t){return e&&_g(t,py(t),e)}var gy=vy,my="object"==("undefined"===typeof exports?"undefined":(0,g.A)(exports))&&exports&&!exports.nodeType&&exports,yy=my&&"object"==("undefined"===typeof module?"undefined":(0,g.A)(module))&&module&&!module.nodeType&&module,xy=yy&&yy.exports===my,by=xy?Cp.Buffer:void 0,My=by?by.allocUnsafe:void 0;function wy(e,t){if(t)return e.slice();var n=e.length,r=My?My(n):new e.constructor(n);return e.copy(r),r}var ky=wy;function Ay(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var _y=Ay;function Iy(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var Sy=Iy;function Ny(){return[]}var Ey=Ny,Dy=Object.prototype,Cy=Dy.propertyIsEnumerable,jy=Object.getOwnPropertySymbols,Ty=jy?function(e){return null==e?[]:(e=Object(e),Sy(jy(e),(function(t){return Cy.call(e,t)})))}:Ey,zy=Ty;function Oy(e,t){return _g(e,zy(e),t)}var Ly=Oy;function Fy(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}var Py=Fy,Ry=qm(Object.getPrototypeOf,Object),Uy=Ry,By=Object.getOwnPropertySymbols,Yy=By?function(e){var t=[];while(e)Py(t,zy(e)),e=Uy(e);return t}:Ey,Qy=Yy;function Hy(e,t){return _g(e,Qy(e),t)}var Vy=Hy;function Gy(e,t,n){var r=t(e);return Rg(e)?r:Py(r,n(e))}var Wy=Gy;function qy(e){return Wy(e,iy,zy)}var Zy=qy;function Jy(e){return Wy(e,py,Qy)}var Ky=Jy,Xy=Av(Cp,"DataView"),$y=Xy,ex=Av(Cp,"Promise"),tx=ex,nx=Av(Cp,"Set"),rx=nx,ix=Av(Cp,"WeakMap"),ox=ix,ax="[object Map]",ux="[object Object]",sx="[object Promise]",cx="[object Set]",lx="[object WeakMap]",dx="[object DataView]",fx=dv($y),hx=dv(Iv),px=dv(tx),vx=dv(rx),gx=dv(ox),mx=qp;($y&&mx(new $y(new ArrayBuffer(1)))!=dx||Iv&&mx(new Iv)!=ax||tx&&mx(tx.resolve())!=sx||rx&&mx(new rx)!=cx||ox&&mx(new ox)!=lx)&&(mx=function(e){var t=qp(e),n=t==ux?e.constructor:void 0,r=n?dv(n):"";if(r)switch(r){case fx:return dx;case hx:return ax;case px:return sx;case vx:return cx;case gx:return lx}return t});var yx=mx,xx=Object.prototype,bx=xx.hasOwnProperty;function Mx(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&bx.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var wx=Mx,kx=Cp.Uint8Array,Ax=kx;function _x(e){var t=new e.constructor(e.byteLength);return new Ax(t).set(new Ax(e)),t}var Ix=_x;function Sx(e,t){var n=t?Ix(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Nx=Sx,Ex=/\w*$/;function Dx(e){var t=new e.constructor(e.source,Ex.exec(e));return t.lastIndex=e.lastIndex,t}var Cx=Dx,jx=Tp?Tp.prototype:void 0,Tx=jx?jx.valueOf:void 0;function zx(e){return Tx?Object(Tx.call(e)):{}}var Ox=zx;function Lx(e,t){var n=t?Ix(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Fx=Lx,Px="[object Boolean]",Rx="[object Date]",Ux="[object Map]",Bx="[object Number]",Yx="[object RegExp]",Qx="[object Set]",Hx="[object String]",Vx="[object Symbol]",Gx="[object ArrayBuffer]",Wx="[object DataView]",qx="[object Float32Array]",Zx="[object Float64Array]",Jx="[object Int8Array]",Kx="[object Int16Array]",Xx="[object Int32Array]",$x="[object Uint8Array]",eb="[object Uint8ClampedArray]",tb="[object Uint16Array]",nb="[object Uint32Array]";function rb(e,t,n){var r=e.constructor;switch(t){case Gx:return Ix(e);case Px:case Rx:return new r(+e);case Wx:return Nx(e,n);case qx:case Zx:case Jx:case Kx:case Xx:case $x:case eb:case tb:case nb:return Fx(e,n);case Ux:return new r;case Bx:case Hx:return new r(e);case Yx:return Cx(e);case Qx:return new r;case Vx:return Ox(e)}}var ib=rb,ob=Object.create,ab=function(){function e(){}return function(t){if(!Jp(t))return{};if(ob)return ob(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ub=ab;function sb(e){return"function"!=typeof e.constructor||Gm(e)?{}:ub(Uy(e))}var cb=sb,lb="[object Map]";function db(e){return Eg(e)&&yx(e)==lb}var fb=db,hb=Lm&&Lm.isMap,pb=hb?Dm(hb):fb,vb=pb,gb="[object Set]";function mb(e){return Eg(e)&&yx(e)==gb}var yb=mb,xb=Lm&&Lm.isSet,bb=xb?Dm(xb):yb,Mb=bb,wb=1,kb=2,Ab=4,_b="[object Arguments]",Ib="[object Array]",Sb="[object Boolean]",Nb="[object Date]",Eb="[object Error]",Db="[object Function]",Cb="[object GeneratorFunction]",jb="[object Map]",Tb="[object Number]",zb="[object Object]",Ob="[object RegExp]",Lb="[object Set]",Fb="[object String]",Pb="[object Symbol]",Rb="[object WeakMap]",Ub="[object ArrayBuffer]",Bb="[object DataView]",Yb="[object Float32Array]",Qb="[object Float64Array]",Hb="[object Int8Array]",Vb="[object Int16Array]",Gb="[object Int32Array]",Wb="[object Uint8Array]",qb="[object Uint8ClampedArray]",Zb="[object Uint16Array]",Jb="[object Uint32Array]",Kb={};function Xb(e,t,n,r,i,o){var a,u=t&wb,s=t&kb,c=t&Ab;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Jp(e))return e;var l=Rg(e);if(l){if(a=wx(e),!u)return _y(e,a)}else{var d=yx(e),f=d==Db||d==Cb;if(qg(e))return ky(e,u);if(d==zb||d==_b||f&&!i){if(a=s||f?{}:cb(e),!u)return s?Vy(e,gy(a,e)):Ly(e,ay(a,e))}else{if(!Kb[d])return i?e:{};a=ib(e,d,u)}}o||(o=new hg);var h=o.get(e);if(h)return h;o.set(e,a),Mb(e)?e.forEach((function(r){a.add(Xb(r,t,n,r,e,o))})):vb(e)&&e.forEach((function(r,i){a.set(i,Xb(r,t,n,i,e,o))}));var p=c?s?Ky:Zy:s?py:iy,v=l?void 0:p(e);return vg(v||e,(function(r,i){v&&(i=r,r=e[i]),kg(a,i,Xb(r,t,n,i,e,o))})),a}Kb[_b]=Kb[Ib]=Kb[Ub]=Kb[Bb]=Kb[Sb]=Kb[Nb]=Kb[Yb]=Kb[Qb]=Kb[Hb]=Kb[Vb]=Kb[Gb]=Kb[jb]=Kb[Tb]=Kb[zb]=Kb[Ob]=Kb[Lb]=Kb[Fb]=Kb[Pb]=Kb[Wb]=Kb[qb]=Kb[Zb]=Kb[Jb]=!0,Kb[Eb]=Kb[Db]=Kb[Rb]=!1;var $b=Xb,eM=1,tM=4;function nM(e){return $b(e,eM|tM)}var rM=nM,iM=n(994);function oM(){oM=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var o=RegExp(e,r);return t.set(o,i||t.get(e)),(0,iM.A)(o,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var o=0;void 0===e[i[o]]&&o+1<i.length;)o++;t[n]=e[i[o]]}return t}),Object.create(null))}return(0,P.A)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=r(n,this);var i=n.indices;i&&(i.groups=r(i,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var o=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){var n=o[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof i){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,g.A)(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,a)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},oM.apply(this,arguments)}var aM=[oM(/\[([^\]\n]+)$/,{text:1}),oM(/\[([^\]\n]+)\]$/,{text:1}),oM(/\[([^\]\n]+)\]\([^\)\n]*$/,{text:1})],uM=[/\[$/];function sM(e){rc(e,void 0,(function(e){if(!e)return[];if("text"===e.type){var t=[],n=nc(e.value,uM),r=nc(e.value,aM),i=r||n;if(i){var o;if(t.push({type:"text",value:e.value.slice(0,i.index)}),r)t.push({type:"link",title:null,url:"#",children:[{type:"text",value:(null===(o=r.groups)||void 0===o?void 0:o.text)||""}]});return t}}return[e]}))}var cM=[/!$/],lM=[oM(/!\[([^\]\n]*)$/,{text:1}),oM(/!\[([^\]\n]+)\]$/,{text:1}),oM(/!\[([^\]\n]+)\]\([^\)\n]*$/,{text:1}),oM(/!\[([^\]\n]+)\]\([^\)\n]*$/,{text:1})];function dM(e){rc(e,void 0,(function(e){if(!e)return[];if("text"===e.type){var t=[],n=nc(e.value,cM),r=nc(e.value,lM),i=r||n;if(i){var o;if(t.push({type:"text",value:e.value.slice(0,i.index)}),r)t.push({type:"image",url:"",alt:(null===(o=r.groups)||void 0===o?void 0:o.text)||"image"});return t}}return[e]}))}var fM=function(e){dM(e),sM(e)},hM={type:"indicator"};function pM(e){rc(e,void 0,(function(e){return e?"code"===(null===e||void 0===e?void 0:e.type)?(e.children=[{type:"text",value:e.value},hM],[e]):[e,hM]:[hM]}))}var vM=[Yc({singleTilde:!1}),jc(),Ic(),wc(),Xc()],gM=[Nl(),bl(),ml(),pl(),$l()],mM=function(e){var t,n,r,i=e.oldMarkdown,o=e.newMarkdown,a=e.lastAstRoot,u=e.isShowIndicator,s=(null===a||void 0===a||null===(t=a.children)||void 0===t||null===(t=t[(null===a||void 0===a||null===(n=a.children)||void 0===n?void 0:n.length)-2])||void 0===t||null===(t=t.position)||void 0===t?void 0:t.start.offset)||0;if(""===i||null===a||void 0===a||!a.position||(null===a||void 0===a?void 0:a.children.length)<2||s<20||!o.startsWith(i))r=Zh(o,{extensions:vM,mdastExtensions:gM});else{var c,l=o.slice(s),d=Zh(l,{extensions:vM,mdastExtensions:gM}).children;d.map((function(e){var t;null!==(t=e.position)&&void 0!==t&&t.start&&(e.position.start.offset=e.position.start.offset||0,e.position.start.offset+=s,e.position.end.offset=e.position.end.offset||0,e.position.end.offset+=s)})),(c=a.children).splice.apply(c,[-2,2].concat((0,Gn.A)(d))),r=a}var f=rM(r);fM(f);var h=rM(f);return u&&pM(h),[r,f,h]},yM=function(e){var t=e.markdown,n=e.onAstChange,r=e.isShowIndicator,i=void 0!==r&&r,o=e.theme,a=e.className,u=e.style,s=(0,ma.useRef)(""),c=(0,ma.useRef)(),l=(0,ma.useMemo)((function(){var e=mM({oldMarkdown:s.current,newMarkdown:t,lastAstRoot:c.current,isShowIndicator:i}),r=(0,T.A)(e,3),o=r[0],a=r[1],u=r[2];return c.current=o,s.current=t,null===n||void 0===n||n(a),u}),[t,i,n]);return(0,ya.jsx)(Xs,{className:a,style:u,root:l,theme:o})},xM=function(e){var t=e.theme,n=void 0===t?"light":t,r=e.markdown,i=e.isSmooth,o=e.isFinish,a=e.interval,u=void 0===a?50:a,s=e.onMarkdownEnd,c=e.onRenderMarkdownChange,l=e.onImageClick,d=e.onTaskChange,f=e.language,h=e.debug,p=e.selectable,v=void 0===p||p,g=e.className,m=e.style,y=e.imgClassName,x=e.imgStyle,b=e.taskDisabled,M=e.enableHtmlTags,k=void 0!==M&&M,A=e.enableCodeBy4Space,_=void 0!==A&&A,I=e.eventCallbacks,S=ec({isSmooth:i,interval:u,markdown:r,isFinish:o}),N=S.showMarkdown,E=S.isShowIndicator,D=S.showMoreByte,C=(0,ma.useMemo)((function(){return new Ia(f||w.ZH_CN)}),[]),j=(0,ma.useMemo)((function(){var e=new Y;return h&&e.seDebug(),e}),[]);ac({showMarkdown:N,markdown:r,isFinish:o,onMarkdownEnd:s,onRenderMarkdownChange:c});var T=oc({isSmooth:i,markdown:r,showMoreByte:D,showMarkdownIndex:N.length,enableHtmlTags:k}),z=T.onAstChange,O=$s({onTaskChange:d,logger:j}),L=O.onTaskChangeHandle;return(0,ya.jsx)(Oa,{markdown:r,onTaskChangeHandle:L,onImageClick:l,i18n:C,eventCallbacks:I,logger:j,selectable:v,taskDisabled:!o||b,enableHtmlTags:k,enableCodeBy4Space:_,imgClassName:y,imgStyle:x,children:(0,ya.jsx)(yM,{theme:n,markdown:N,isShowIndicator:E,onAstChange:z,className:g,style:m})})},bM=(0,ma.memo)(xM,(function(e,t){return Object.keys(e).length===Object.keys(t).length&&!Object.keys(e).find((function(n){return e[n]!==t[n]}))})),MM={bubble:"index-module__bubble___NMa7J","is-need-border":"index-module__is-need-border___UkdKI","can-click":"index-module__can-click___UkBHO",active:"index-module__active___vMdDg"},wM=function(e){var t=e.className,n=e.children,r=e.isNeedBorder,i=void 0===r||r,o=e.isActive,a=void 0!==o&&o,s=e.canClick,c=void 0!==s&&s,l=e.onClick;return(0,ya.jsx)(p.Ss,{className:h()(MM.bubble,t,(0,u.A)((0,u.A)((0,u.A)({},MM.active,a),MM["can-click"],c),MM["is-need-border"],i)),onClick:l,children:n})},kM={bubble:"index-module__bubble___k20ev","bubble-text":"index-module__bubble-text___abeDB",small:"index-module__small___Ew3uG",large:"index-module__large___hrnV6"},AM=["className","text","size","space","enter","selectable"],_M=function(e){var t=e.className,n=e.text,r=e.size,i=void 0===r?"medium":r,o=(e.space,e.enter),s=e.selectable,l=void 0===s||s,d=a(e,AM),f=(0,ma.useMemo)((function(){return o?n.split("\n"):[n]}),[n]);return(0,ya.jsx)(wM,c(c({},d),{},{className:h()(t,kM.bubble),children:null===f||void 0===f?void 0:f.map((function(e,t){return(0,ya.jsx)(p.EY,{className:h()(kM["bubble-text"],(0,u.A)({},kM[i||""],!0)),selectable:l,children:e},t)}))}))},IM={container:"index-module__container___ByL0s",large:"index-module__large___or0rV",svg:"index-module__svg___WBIm1",small:"index-module__small___uNLyv",text:"index-module__text___ANBoR","animation-rotate":"index-module__animation-rotate___Tj1wt"},SM=function(e){var t=e.className,n=e.text,r=e.textClassName,i=e.svgClassName,o=e.size;return(0,ya.jsxs)(p.Ss,{className:h()(IM.container,t,(0,u.A)({},IM[o||"medium"],!0)),children:[(0,ya.jsx)(ds,{className:h()(IM.svg,i)}),n?(0,ya.jsx)(p.EY,{className:h()(IM.text,r),children:n}):null]})},NM={container:"index-module__container___SmJoW",waiting:"index-module__waiting___T8467"},EM=function(){return(0,ya.jsx)(p.Ss,{className:NM.container})},DM=function(e){function t(e){var n;return(0,z.A)(this,t),n=(0,L.A)(this,t,[e]),(0,u.A)(n,"state",{hasError:!1}),n.state={hasError:!1},n}return(0,P.A)(t,e),(0,O.A)(t,[{key:"render",value:function(){return this.state.hasError?(0,ya.jsx)(ya.Fragment,{children:this.props.fallbackNode}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return Q.error("ErrorBoundary",e),{hasError:!0}}}])}(ma.Component),CM={link:"index-module__link___tsOM_"},jM=n(2340)["window"],TM=function(e){var t=e.className,n=e.src,r=e.children;return(0,ya.jsx)(p.EY,{className:h()(CM.link,t),onClick:function(){ae?jM.open(n):(0,I.navigateTo)({url:n})},children:r})},zM={button:"index-module__button___KxAYv"},OM=function(e){var t=e.className,n=e.children,r=e.onClick;return(0,ya.jsx)(p.Ss,{className:h()(zM.button,t),onClick:r,children:n})},LM={container:"index-module__container___Y28q4",content:"index-module__content___FxMEm",icon:"index-module__icon___WFfDs",success:"index-module__success___tyxFD",error:"index-module__error___KDidJ"},FM={success:bs,error:xs,none:null},PM=function(e){var t=e.children,n=e.onClose,r=e.className,i=e.icon,o=void 0===i?"none":i,a=e.isNeedClose,s=void 0===a||a,c=FM[o];return(0,ya.jsxs)(Mu,{verticalCenter:!0,horizontalCenter:!0,className:h()(LM.container,(0,u.A)({},LM[o],o),r),gap:12,children:[c?(0,ya.jsx)(c,{className:LM.icon}):null,(0,ya.jsx)(p.Ss,{className:LM.content,children:t}),s?(0,ya.jsx)(ys,{onClick:n}):null]})},RM=n(2340)["document"],UM=function(e){var t=e.onTouching,n=e.onOutside,r=e.onEnd,i=e.frameEventTarget,o=e.isPcMode,a=e.disabled,u=(0,ma.useRef)(null),s=(0,ma.useState)(!1),c=(0,T.A)(s,2),l=c[0],d=c[1],f=(0,ma.useState)(!1),h=(0,T.A)(f,2),p=h[0],v=h[1],g=(0,ma.useRef)(),m=(0,ma.useRef)(),x=Ca((function(e){v(e),null===n||void 0===n||n(e)})),b=Ca(function(){var e=ve(K().mark((function e(t){var n,r,i,o,a;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(d(!0),v(!1),!ae){e.next=7;break}r=null===(n=u.current)||void 0===n?void 0:n.getBoundingClientRect(),r&&(g.current=r),e.next=14;break;case 7:if(!t){e.next=14;break}return e.next=10,C("#".concat(t.currentTarget.id));case 10:i=e.sent,o=(0,T.A)(i,1),a=o[0],a&&(g.current=a);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=Ca((function(e){var t=e.clientY,n=g.current||{},r=n.top,i=!1;return void 0!==r&&t<r&&(i=!0),i})),w=Ca((function(e){var t=M(e);return x(t),t})),k=Ca((function(e){Q.debug("[useAudioRecord]onTouchStart",e),m.current||a||(m.current="touch",b(e))})),A=Ca((function(e){Q.debug("[useAudioRecord]onTouchMove",e),"touch"!==m.current||a||l&&w({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})})),_=Ca((function(){Q.debug("[useAudioRecord]onTouchEnd",m.current,l),"touch"!==m.current||a||l&&d(!1)})),I=Ca((function(e){Q.debug("[useAudioRecord]onTouchCancel",e),d(!1),v(!1)})),S=Ca((function(e){Q.debug("onMouseDown",e),null===e||void 0===e||e.stopPropagation(),m.current||a||(m.current="mouse",b())})),N=Ca((function(e){"mouse"!==m.current||a||l&&w({clientX:e.clientX,clientY:e.clientY})})),E=Ca((function(e){Q.info("onMouseDown 222",e,l),"mouse"!==m.current||a||l&&d(!1)})),D=Ca((function(e){if(Q.debug("[audio] onKeyDown",e),"Space"===e.code){if(m.current||a)return;m.current="keyboard",d(!0),v(!1)}})),j=Ca((function(e){if(Q.debug("[audio] onKeyUp",e),!a&&"Space"===e.code){if("keyboard"!==m.current)return;l&&d(!1)}})),z=Ca((function(e){ae?(u.current&&(u.current.removeEventListener("mousedown",S),RM.removeEventListener("mousemove",N),RM.removeEventListener("mouseup",E),o&&i&&(i.on(y.KeyDown,D),i.on(y.KeyUp,j))),e&&(u.current=e,u.current.addEventListener("mousedown",S),RM.addEventListener("mousemove",N),RM.addEventListener("mouseup",E),o&&i&&(i.on(y.KeyDown,D),i.on(y.KeyUp,j)))):u.current=e}));return(0,ma.useEffect)((function(){return function(){var e,t,n;ae&&(null===(e=u.current)||void 0===e||e.removeEventListener("mousedown",S),null===(t=RM)||void 0===t||t.removeEventListener("mousemove",N),null===(n=RM)||void 0===n||n.removeEventListener("mouseup",E),i&&(i.off(y.KeyDown,D),i.off(y.KeyDown,j)))}}),[]),Da((function(){Q.debug("[useAudioRecord]isTouching",l),l&&(null===t||void 0===t||t(m.current))}),[l]),Da((function(){null===n||void 0===n||n(p)}),[p]),Da((function(){Q.info("[useAudioRecord]onEnd",l),l||(m.current=void 0,null===r||void 0===r||r())}),[l]),Da((function(){l&&d(!1)}),[a]),{onInitRefForAudioRecord:z,onTouchStart:k,onTouchMove:A,onTouchEnd:_,onTouchCancel:I,isTouching:l,isOutside:p}},BM={container:"index-module__container___mSJvM"},YM=function(e){var t=e.className,n=e.onTouching,r=e.onEnd,i=e.onOutside,o=e.children,a=e.frameEventTarget,u=e.isPcMode,s=e.disabled,c=UM({onTouching:n,onOutside:i,onEnd:r,frameEventTarget:a,isPcMode:u,disabled:s}),l=c.onInitRefForAudioRecord,d=c.onTouchStart,f=c.onTouchMove,v=c.onTouchEnd,g=c.onTouchCancel;return(0,ya.jsx)(p.$n,{className:h()(BM.container,t,"coze-audio-input-button"),ref:l,onTouchStart:d,onTouchMove:f,onTouchEnd:v,onTouchCancel:g,children:o})},QM={container:"index-module__container___k10xK",bar:"index-module__bar___pgYde"},HM={large:41,medium:29,small:4},VM=function(e){var t=e.size,n=void 0===t?"medium":t,r=e.volumeNumber,i=void 0===r?0:r,o=e.type,a=void 0===o?"default":o,u=e.className,s=Math.max(Math.min(i,100),0),c=HM[n]||29,l=GM(c,s);return(0,ya.jsx)(Mu,{gap:3,verticalCenter:!0,horizontalCenter:!0,width100:!0,className:h()(QM.container,u),children:l.map((function(e,t){return(0,ya.jsx)(p.Ss,{className:h()(QM["audio-wave-".concat(t)],QM[a],QM.bar,QM[n]),style:{backgroundColor:qM(t,c,a),height:e}},"".concat(a,"_").concat(t))}))})};function GM(e,t){if(t<=0)return new Array(e).fill(12);var n=new Array(e).fill(0).map((function(n,r){return WM(r,e,t)})),r=Math.min.apply(Math,(0,Gn.A)(n)),i=Math.max.apply(Math,(0,Gn.A)(n)),o=i-r;return n.map((function(e){return 12+(e-r)/(i-r)*Math.min(12,o)}))}function WM(e,t,n){var r=e/t,i=20,o=2,a=-2,u=2;r<1/6?(o=1+3*r*6,a=.1+(Number(-.8)-.1)*r*6,u=.3+.3*r*6):r<2/6?(o=4+-2*(r-1/6)*6,a=.8*(r-1/6)*6-.8,u=.6+0*(r-1/6)*6):r<.5?(o=2+6*(r-2/6)*6,a=0+(Number(-1.6)-0)*(r-2/6)*6,u=.6+.6*(r-2/6)*6):r<4/6?(o=8+-6*(r-.5)*6,a=1.6*(r-.5)*6-1.6,u=1.2+-.6*(r-.5)*6):r<5/6?(o=2+2*(r-4/6)*6,a=0+(Number(-.8)-0)*(r-4/6)*6,u=.6+0*(r-4/6)*6):r<1&&(o=4+-3*(r-5/6)*6,a=.9*(r-5/6)*6-.8,u=.1+-.3*(r-5/6)*6);var s=o+n*(Math.random()*(u-a)+a)*(i-o);return s}function qM(e,t,n){var r="#FFF";switch(n){case"primary":var i=0,o=0,a=0,u=0,s=e/t;s<.2?(i=.2+.8*s/.2,o=83,a=71,u=255):s<.8?(i=1,o=Math.round(83+94*(s-.2)/.6),a=Math.round(71+-34*(s-.2)/.6),u=Math.round(255+-14*(s-.2)/.6)):(i=1-.8*(s-.8)/.2,o=177,a=37,u=241),r="rgba(".concat(o,", ").concat(a,", ").concat(u,", ").concat(i.toFixed(2),")");break;case"warning":r="#FF0030";break;default:var c=0,l=e/t;c=l<.2?.2+.8*l/.2:l<.8?1-(1-.9)*(l-.2)/.6:.9-.7*(l-.8)/.2,r="rgba(255, 255, 255, ".concat(c.toFixed(2),")");break}return r}var ZM={audioPlay:"index-module__audioPlay___i1gjg",playing:"index-module__playing___LtMyo","icons-blue":"index-module__icons-blue___GYHuJ",light:"index-module__light___hL8vL","icons-white":"index-module__icons-white___vZL5y","gray-bold":"index-module__gray-bold___AL2yX"},JM=function(e){var t=e.isPlaying,n=e.onClick,r=e.theme,i=void 0===r?"dark":r;return(0,ya.jsx)(p.Ss,{className:h()(ZM.audioPlay,(0,u.A)((0,u.A)({},ZM.playing,t),ZM[i],!0)),onClick:n})},KM={tooltip:"index-module__tooltip___qm5BV",content:"index-module__content___jZ79F",top:"index-module__top___iM7mu",click:"index-module__click___XsSUd",show:"index-module__show___NwjF3",hover:"index-module__hover___XwAk2"},XM=n(2340)["document"],$M=1e3,ew=new(S().Events),tw="click_tooltip",nw=function(e){var t=e.children,n=e.content,r=e.type,i=void 0===r?"hover":r,o=e.isActive,a=e.direction,s=void 0===a?"bottom":a,c=(0,ma.useState)(!1),l=(0,T.A)(c,2),d=l[0],f=l[1],v=(0,ma.useMemo)((function(){return"tooltip_".concat(E(),"_").concat($M++)}),[]);return(0,ma.useEffect)((function(){var e=function(){f(!1)},t=function(e){var t=e.id;t!==v&&f(!1)};return ae&&XM.addEventListener("click",e),ew.on(tw,t),S().eventCenter.on(y.FrameClick,e),function(){ae&&XM.removeEventListener("click",e),ew.off(tw,t),S().eventCenter.off(y.FrameClick,e)}}),[]),(0,ya.jsxs)(p.Ss,{id:v,className:h()(KM.tooltip,(0,u.A)((0,u.A)((0,u.A)({},KM.hover,"hover"===i&&o),KM.click,"hover"!==i&&o),KM[s],!!KM[s])),onLongPress:function(){o&&(f(!0),ew.trigger(tw,{id:v}))},onClick:function(e){o&&(e.stopPropagation(),f(!0),ew.trigger(tw,{id:v}))},children:[t,o?(0,ya.jsx)(p.Ss,{className:h()(KM.content,(0,u.A)({},KM.show,d)),children:n}):null]})},rw={container:"index-module__container___dtoSg",border:"index-module__border___dIkvN","square-hover-btn":"index-module__square-hover-btn___Vc9BG",hover:"index-module__hover___wD0kZ",bold:"index-module__bold___KTh20",large:"index-module__large___auahl",small:"index-module__small___sZDJG"},iw=function(e){var t=e.type,n=void 0===t?"circle-btn":t,r=e.children,i=e.onClick,o=e.className,a=e.border,s=e.hoverTheme,c=void 0===s?"hover":s,l=e.size,d=void 0===l?"medium":l,f=e.bgColor;return(0,ya.jsx)(zs,{onClick:function(){null===i||void 0===i||i()},className:h()(rw.container,o,rw[n],rw[d],rw[c],(0,u.A)((0,u.A)({},rw.border,"none"!==a),rw.bold,"bold"===f)),children:r})},ow=function(){var e=(0,ma.useState)(0),t=(0,T.A)(e,2),n=t[0],r=t[1],i=(0,ma.useRef)(void 0),o=(0,ma.useRef)(null),a=Ca((function(e){r(ae?0-Math.abs(e):Math.abs(e))})),u=Ca((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i.current&&clearTimeout(i.current),t<=0?a(e):i.current=setTimeout((function(){a(e)}),t)})),s=Ca((function(){0!==n?u(0):(u(1),u(0,200))})),c=Ca((function(e){o.current=e}));return(0,ma.useEffect)((function(){return function(){i.current&&clearTimeout(i.current)}}),[]),Q.debug("useScrollTop",{scrollTop:n}),{scrollTop:n,scrollToTop:a,delayToSetScroll:u,scrollToAnchorBottom:s,onInitScrollEl:c,refScrollEl:o}},aw=function(e){var t=e.scrollToAnchorBottom,n=e.onCollectScrollInfoInSafari,r=e.checkArrowDownVisible,i=e.onScrollToLower,o=e.reCheckToLower,a=e.lowerThreshold,u=e.refScrollEl,s=(0,ma.useRef)(1),c=(0,ma.useRef)(0),l=Math.max(null!==a&&void 0!==a?a:100,10),d=Ca((function(e){s.current=Math.abs(e),ae&&e>0&&(null===t||void 0===t||t())})),f=Ca((function(e){c.current&&(clearTimeout(c.current),c.current=0),null===i||void 0===i||i(e),c.current=setTimeout((function(){c.current=0,null===o||void 0===o||o()}),1500)})),h=Ca((function(e){var t=e.detail.scrollTop;null===d||void 0===d||d(t),null===n||void 0===n||n(),null===r||void 0===r||r(t),p()&&(null===f||void 0===f||f(e))})),p=Ca((function(){var e,t,n=Number(null===(e=u.current)||void 0===e?void 0:e.offsetHeight),r=Number(null===(t=u.current)||void 0===t?void 0:t.scrollHeight);return r>0&&n>0&&s.current>0&&r-s.current-n<l}));return{refScrollNow:s,onScrollToLowerHandle:ae?void 0:f,lowerThreshold:l,refScrollEl:u,onScrollHandle:h}},uw=function(e){var t=e.refAnchorBottom,n=e.refScrollEl,r=(0,ma.useMemo)((function(){var e=S().getSystemInfoSync(),t=e.platform;return le&&!["ios","android"].includes(t.toLowerCase())}),[]),i=(0,ma.useState)(),o=(0,T.A)(i,2),a=o[0],u=o[1],s=(0,ma.useRef)([]);Q.info("useSafariAnchorHack isNeedHack: ",r);var c=Ca((function(e){u(e)})),l=Ca((function(){var e,t=null===a||void 0===a?void 0:a.getElementsByClassName("chat-group-for-query");if(t&&0!==t.length){var r=t[t.length-1],i={groupId:r.getAttribute("data-group-id"),height:r.offsetHeight||0,scrollTop:(null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.scrollTop)||0};if(null!==i&&void 0!==i&&i.groupId&&null!==i&&void 0!==i&&i.height)return i}})),d=Ca((function(){if(r&&null!==t&&void 0!==t&&t.current){var e=l();if(e){var n=s.current.filter((function(t){return t.groupId!==e.groupId}));n.unshift(e),n.splice(5),s.current=n}}}));return(0,ma.useEffect)((function(){if(r)try{if(a){var e=a.offsetHeight,i=new ResizeObserver((function(){var r,i=e,o=a.offsetHeight;if((e=o,null!==t&&void 0!==t&&t.current)&&(o!==i&&0!==(null===n||void 0===n||null===(r=n.current)||void 0===r?void 0:r.scrollTop))){var u,c=l(),d=s.current.find((function(e){return e.groupId===(null===c||void 0===c?void 0:c.groupId)}));if(!d)return;var f=Math.abs(Math.abs(c.height-d.height)-Math.abs(c.scrollTop-d.scrollTop));if(f<5)return;null===n||void 0===n||null===(u=n.current)||void 0===u||u.scrollBy(0,i-o)}}));return i.observe(a),function(){i.disconnect()}}}catch(e){Q.error("useSafariAnchorHack useEffect err: ",e)}}),[a]),{onInitViewEl:c,onCollectScrollInfo:d}},sw=function(e){var t=(0,ma.useState)(!1),n=(0,T.A)(t,2),r=n[0],i=n[1],o=(0,ma.useCallback)((function(t){e&&(Math.abs(t)>500?i(!0):i(!1))}),[e]);return{arrowDownVisible:r,setArrowDownVisible:i,checkArrowDownVisible:o}},cw={container:"index-module__container___jHsxj","arrow-down":"index-module__arrow-down___d4CCK","arrow-down--show":"index-module__arrow-down--show___F5DAN",scroll:"index-module__scroll___oz4rR","scroll-web":"index-module__scroll-web___nSbZo",children:"index-module__children___CyGrD"},lw=["id","children","isLoadMore","checkArrowDownVisible","lowerThreshold","onScrollToLower"],dw=["className","isNeedHelper","children"],fw=(0,ma.memo)(p.BM),hw=(0,ma.memo)((0,ma.forwardRef)((function(e,t){var n=e.id,r=e.children,i=e.isLoadMore,o=e.checkArrowDownVisible,s=e.lowerThreshold,l=e.onScrollToLower,d=a(e,lw),f=ow(),v=f.scrollTop,g=f.delayToSetScroll,m=f.scrollToAnchorBottom,y=f.onInitScrollEl,x=f.refScrollEl,b=(0,ma.useRef)(!1),M=uw({refAnchorBottom:b,refScrollEl:x}),w=M.onInitViewEl,k=M.onCollectScrollInfo,A=Ca((function(){I.current>100&&g(I.current-.5)})),_=aw({refScrollEl:x,scrollToAnchorBottom:m,onCollectScrollInfoInSafari:k,checkArrowDownVisible:o,onScrollToLower:l,lowerThreshold:s,reCheckToLower:A}),I=_.refScrollNow,S=_.onScrollToLowerHandle,N=_.lowerThreshold,E=_.onScrollHandle;(0,ma.useLayoutEffect)((function(){i&&g(I.current+2)}),[i]),(0,ma.useImperativeHandle)(t,(function(){return{scrollToBottom:function(){Q.debug("ScrollView, scrollToBottom",{scrollTop:v}),m()},scrollToAnchorBottom:function(){Q.debug("ScrollView, scrollToAnchorBottom",{scrollTop:v}),b.current=!0,m()},removeAnchorBottom:function(){Q.debug("ScrollView, removeAnchorBottom",{currentTop:I.current,scrollTop:v}),b.current=!1,0===I.current&&0===v&&g(1,50)}}}),[v]);var D=(0,ma.useMemo)((function(){return(0,ya.jsx)(p.Ss,{className:h()(cw.children),ref:w,children:r})}),[r]);return(0,ya.jsx)(fw,c(c({},d),{},{id:n,ref:y,scrollTop:v,lowerThreshold:N,onScrollToLower:S,reverse:!1,showScrollbar:!1,enhanced:!0,className:h()(cw.scroll,(0,u.A)({},cw["scroll-web"],ae)),onScroll:E,children:D}))}))),pw=(0,ma.forwardRef)((function(e,t){var n=e.className,r=e.isNeedHelper,i=e.children,o=a(e,dw),s=sw(r),l=s.arrowDownVisible,d=s.checkArrowDownVisible,f=s.setArrowDownVisible,v=(0,ma.useRef)(null);return(0,ma.useImperativeHandle)(t,(function(){return{scrollToBottom:function(){var e;null===(e=v.current)||void 0===e||e.scrollToBottom()},scrollToAnchorBottom:function(){var e;null===(e=v.current)||void 0===e||e.scrollToAnchorBottom()},removeAnchorBottom:function(){var e;null===(e=v.current)||void 0===e||e.removeAnchorBottom()}}}),[]),(0,ya.jsxs)(p.Ss,{className:h()(cw.container,n),children:[(0,ya.jsx)(hw,c(c({},o),{},{checkArrowDownVisible:d,ref:v,children:i})),(0,ya.jsx)(iw,{type:"circle-btn",size:"large",className:h()(cw["arrow-down"],(0,u.A)({},cw["arrow-down--show"],l)),onClick:function(){var e;(Q.debug("ScrollView, arrowDownVisible, onClick",v.current),v.current)&&(null===v||void 0===v||null===(e=v.current)||void 0===e||e.scrollToBottom(),f(!1))},children:(0,ya.jsx)(ws,{})})]})})),vw=["children"],gw=(0,ma.createContext)({chat:null,auth:null,user:null,children:null,setting:null}),mw=function(e){var t=e.children,n=a(e,vw);return(0,ya.jsx)(gw.Provider,{value:n,children:t})},yw=function(){return Ea(gw)},xw=n(6521),bw=ma.useDebugValue,Mw=xw.useSyncExternalStoreWithSelector,ww=function(e){return e};function kw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ww,n=arguments.length>2?arguments[2]:void 0,r=Mw(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return bw(r),r}function Aw(e,t){if(Object.is(e,t))return!0;if("object"!==(0,g.A)(e)||null===e||"object"!==(0,g.A)(t)||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;var n,r=$(e);try{for(r.s();!(n=r.n()).done;){var i=(0,T.A)(n.value,2),o=i[0],a=i[1];if(!Object.is(a,t.get(o)))return!1}}catch(e){r.e(e)}finally{r.f()}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var u,s=$(e);try{for(s.s();!(u=s.n()).done;){var c=u.value;if(!t.has(c))return!1}}catch(e){s.e(e)}finally{s.f()}return!0}var l=Object.keys(e);if(l.length!==Object.keys(t).length)return!1;for(var d=0,f=l;d<f.length;d++){var h=f[d];if(!Object.prototype.hasOwnProperty.call(t,h)||!Object.is(e[h],t[h]))return!1}return!0}var _w=function(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(!Object.is(i,t)){var o=t;t=(null!=r?r:"object"!==(0,g.A)(i)||null===i)?i:Object.assign({},t,i),n.forEach((function(e){return e(t,o)}))}},i=function(){return t},o=function(){return c},a=function(e){return n.add(e),function(){return n.delete(e)}},u=function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()},s={setState:r,getState:i,getInitialState:o,subscribe:a,destroy:u},c=t=e(r,i,s);return s},Iw=function(e){return e?_w(e):_w},Sw=ma.useDebugValue,Nw=xw.useSyncExternalStoreWithSelector,Ew=!1,Dw=function(e){return e};function Cw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dw,n=arguments.length>2?arguments[2]:void 0;n&&!Ew&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ew=!0);var r=Nw(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Sw(r),r}var jw=function(e){"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");var t="function"===typeof e?Iw(e):e,n=function(e,n){return Cw(t,e,n)};return Object.assign(n,t),n},Tw=function(e){return e?jw(e):jw},zw=function(){var e=yw(),t=_k((function(e){return{setChatError:e.setError,setChatInfo:e.setChatInfo,setChatIsLoading:e.setIsLoading,setCustomChatInfo:e.setCustomChatInfo,isLoadingChatInfo:e.isLoading,error:e.error}})),n=t.setChatError,r=t.setChatInfo,i=t.setChatIsLoading,o=t.error,a=Ik((function(e){return e.setConversationDetail})),u=Ak((function(e){return e.chatService})),s=(0,ma.useState)(0),c=(0,T.A)(s,2),l=c[0],d=c[1];return(0,ma.useEffect)((function(){if(Ow(e)){var t=!1;return n(null),i(!0),ve(K().mark((function e(){var i,o,s,c,l;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([u.getAppInfo(),Lw(u)]);case 3:i=e.sent,o=(0,T.A)(i,2),s=o[0],c=o[1],t||(a(c,c.messages),r(s)),e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](0),Q.error("get chat info error",e.t0),l=Ro(e.t0),n(l);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))(),function(){t=!0}}n(new Po(-1,"params error"))}),[l,u]),{retryChatInit:function(){o&&d(l+1)}}};function Ow(e){var t,n,r,i,o,a,u,s;return null!==e&&void 0!==e&&null!==(t=e.setting)&&void 0!==t&&t.apiBaseUrl?(null!==e&&void 0!==e&&null!==(n=e.setting)&&void 0!==n&&n.cdnBaseUrlPath||Q.warn("Setting's cdnBaseUrlPath is not provided; The chat will show a crash image"),null!==e&&void 0!==e&&null!==(r=e.chat)&&void 0!==r&&r.appId?null!==e&&void 0!==e&&null!==(i=e.auth)&&void 0!==i&&i.token?(null!==e&&void 0!==e&&null!==(o=e.auth)&&void 0!==o&&o.onRefreshToken||Q.warn("onRefreshToken is not provided; The chat will not be able to refresh the token"),null!==e&&void 0!==e&&null!==(a=e.user)&&void 0!==a&&a.id&&null!==e&&void 0!==e&&null!==(u=e.user)&&void 0!==u&&u.name&&null!==e&&void 0!==e&&null!==(s=e.user)&&void 0!==s&&s.avatar||Q.warn("User's property (id, name, avatar) is empty; The chat will show a default user"),!0):(Q.error("Token  must be provided"),!1):(Q.error("Chat's appId must be provided"),!1)):(Q.error("Setting's apiBaseUrl must be provided"),!1)}function Lw(e){return Fw.apply(this,arguments)}function Fw(){return Fw=ve(K().mark((function e(t){var n,r,i,o,a;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="",r="",e.prev=2,e.next=5,t.getOrCreateConversationId();case 5:i=e.sent,n=i.conversationId,r=i.sectionId,e.next=15;break;case 10:throw e.prev=10,e.t0=e["catch"](2),Q.error("Get Message Error",e.t0),o=Ro(e.t0),new Po(o.code||Uo.Custom_Conversation_Create_Error,o.msg||"Conversation Create Error");case 15:return e.prev=15,e.next=18,t.getMessageList({conversationId:n});case 18:return a=e.sent,e.abrupt("return",c({id:n,sectionId:r},a));case 22:throw e.prev=22,e.t1=e["catch"](15),new Po(Uo.Custom_GetMessageList_Error,"Get MessageList Error");case 25:case"end":return e.stop()}}),e,null,[[2,10],[15,22]])}))),Fw.apply(this,arguments)}var Pw=["messages","error"],Rw=100,Uw=function(){var e=(0,ma.useRef)(!1),t=(0,ma.useRef)(Date.now()),n=Ik((function(e){return{conversationId:e.id,unshiftMessageList:e.unshiftMessageList,prevError:e.prevError,prevHasMore:e.prevHasMore,prevCursorId:e.prevCursorId,setPrevInfo:e.setPrevInfo,setPrevError:e.setPrevError}})),r=n.conversationId,i=n.unshiftMessageList,o=n.prevError,u=n.prevHasMore,s=n.prevCursorId,c=n.setPrevInfo,l=n.setPrevError,d=Ak((function(e){return e.chatService})),f=(0,ma.useCallback)(ve(K().mark((function n(){var o,u,f,h;return K().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.current&&r){n.next=2;break}return n.abrupt("return");case 2:if(Q.debug("onScrollToUpper currentTime",{currentTime:t.current,time:Date.now()-t.current}),!(Date.now()-t.current<1500)){n.next=5;break}return n.abrupt("return");case 5:return e.current=!0,n.next=8,d.getMessageList({conversationId:r||"",prevCursorId:s});case 8:o=n.sent,u=o.messages,f=o.error,h=a(o,Pw),i(r,u),f?l(f):c(h.prevHasMore||!1,h.prevCursorId||""),t.current=Date.now(),e.current=!1;case 16:case"end":return n.stop()}}),n)}))),[s,d,r,i]);return{prevError:o,isNeedPrevLoadMore:u,upperThreshold:Rw,onScrollToUpper:u?f:void 0}},Bw=function(){var e=Ik((function(e){return{setNewConversationId:e.setNewConversationId,setSectionId:e.setSectionId}})),t=e.setNewConversationId,n=e.setSectionId,r=Ek(),i=_k((function(e){return e.id})),o=Sk((function(e){return{setIsDeleting:e.setIsDeleting,getOpDisabledState:e.getOpDisabledState}})),a=o.getOpDisabledState,u=o.setIsDeleting,s=Ck((function(e){return e.event})),c=Ak((function(e){return e.chatService})),l=(0,ma.useCallback)(ve(K().mark((function e(){var i,o,l,d,f;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=a(),o=i.clearMessage,!o){e.next=3;break}return e.abrupt("return");case 3:return u(!0),e.prev=4,e.next=7,c.createNewConversation();case 7:l=e.sent,d=l.conversationId,f=l.sectionId,t(d),n(f),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),Vo({content:r.t("clearMessageFailed"),icon:"error"},s);case 17:u(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])}))),[i,s]);return{clearMessage:l}},Yw=function(){function e(t){var n=t.conversationId,r=t.botId,i=t.chatService,o=t.userId,a=t.connectorId,s=t.sectionId,c=t.chatInfo,l=t.i18n;(0,z.A)(this,e),(0,u.A)(this,"botId",void 0),(0,u.A)(this,"userId",void 0),(0,u.A)(this,"conversationId",void 0),(0,u.A)(this,"sectionId",void 0),(0,u.A)(this,"timeoutId",void 0),(0,u.A)(this,"chatId",void 0),(0,u.A)(this,"connectorId",void 0),(0,u.A)(this,"isAbort",void 0),(0,u.A)(this,"chatService",void 0),(0,u.A)(this,"event",void 0),(0,u.A)(this,"messageSended",void 0),(0,u.A)(this,"messageList",void 0),(0,u.A)(this,"chatInfo",void 0),(0,u.A)(this,"i18n",void 0),this.botId=r,this.conversationId=n,this.chatInfo=c,this.isAbort=!1,this.chatService=i,this.event=new I.Events,this.messageList=[],this.userId=o,this.chatId="",this.connectorId=a,this.sectionId=s,this.i18n=l,this.messageSended={id:"",role:Vi.User,conversation_id:this.conversationId,section_id:this.sectionId,bot_id:this.botId,chat_id:"",localId:E(),meta_data:{},content:"",content_type:"text",created_at:Date.now(),updated_at:Date.now(),type:"question"}}return(0,O.A)(e,[{key:"sendMessage",value:function(e,t){throw new Error("Un implement sendMessage")}},{key:"createAnswerTextMessage",value:function(e){return{id:"",role:Vi.User,conversation_id:this.conversationId,section_id:this.sectionId,bot_id:this.botId,chat_id:this.messageSended.chat_id,localId:E(),meta_data:{},content:e,content_type:"text",created_at:Date.now(),updated_at:Date.now(),type:"answer"}}},{key:"on",value:function(e,t){this.event.on(e,t)}},{key:"off",value:function(e,t){this.event.off(e,t)}},{key:"emit",value:function(e,t){e===b.ReceiveComplete?this.close(t):this.event.trigger(e,t)}},{key:"close",value:function(e){if(this._clearTimeout(),this.isAbort)return!1;var t=e||{messages:this.messageList,status:"complete"};return this.isAbort=!0,this.event.trigger(b.ReceiveComplete,t),this.event.trigger(b.Close,t),this.event.off(),!0}},{key:"break",value:function(){this.close()}},{key:"sendStartMessage",value:function(e){this.packMessage(e),this.sendProcessEvent()}},{key:"packMessage",value:function(e){this.messageSended=c(c({},this.messageSended),{content:e.content,content_type:e.content_type,isAudioTranslatingToText:e.isAudioTranslatingToText}),this.messageList=[this.messageSended]}},{key:"sendBreakEvent",value:function(){this.emit(b.ReceiveComplete,{status:"break",messages:this.messageList})}},{key:"sendProcessEvent",value:function(){Q.debug("[dev] in_process",this.messageList[this.messageList.length-1].content),this.emit(b.ReceiveMessage,{status:"in_process",messages:this.messageList})}},{key:"sendRequireActionEvent",value:function(e){this.emit(b.RequireAction,{status:"action",messages:this.messageList,event:e})}},{key:"sendCompleteEvent",value:function(){this.emit(b.ReceiveComplete,{status:"complete",messages:this.messageList})}},{key:"sendErrorEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Po(-1,"\u5bf9\u8bdd\u5931\u8d25");this.emit(b.ReceiveComplete,{status:"error",messages:this.messageList,error:e})}},{key:"_checkTimeout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21e4;this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){Q.error("send message timeout"),e.sendErrorEvent(new Po(-1,"timeout"))}),t)}},{key:"_clearTimeout",value:function(){this.timeoutId&&clearTimeout(this.timeoutId)}}])}(),Qw=function(e){function t(){return(0,z.A)(this,t),(0,L.A)(this,t,arguments)}return(0,P.A)(t,e),(0,O.A)(t,[{key:"sendTextMessage",value:function(e,t){var n={role:Vi.User,content:e,content_type:"text"};this.sendStartMessage(n),this.sendMessage(n,t)}},{key:"sendFileMessage",value:function(){var e=ve(K().mark((function e(t,n){var r,i,o,a=this;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.map((function(e){return a.packFileObject(e)})).filter((function(e){return!!e})),i={role:Vi.User,content:r,content_type:"object_string"},this.sendStartMessage(i),e.next=5,this.uploadFile(t);case 5:if(o=e.sent,o){e.next=9;break}return this.sendErrorEvent(new Po(-1,this.i18n.t("sendMessageUploadFailed"))),e.abrupt("return");case 9:this.messageSended.content=JSON.stringify(o),i.content=JSON.stringify(o.map((function(e){return{type:e.type,file_id:e.file_id}}))),this.sendMessage(i,n);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"sendAudioMessage",value:function(){var e=ve(K().mark((function e(t,n){var r,i,o,a,u;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Q.info("sendAudioMessage audio",t),r={role:Vi.User,content:"",content_type:"text"},this.sendStartMessage(c(c({},r),{},{content:"",isAudioTranslatingToText:!0})),e.prev=3,e.next=6,this.translateAudioToText(t);case 6:i=e.sent,Q.debug("sendAudioMessage content",i),r.content=i,this.sendStartMessage(c(c({},r),{},{isAudioTranslatingToText:!1})),this.sendMessage(r,n),e.next=22;break;case 13:return e.prev=13,e.t0=e["catch"](3),Q.error("sendAudioMessage",{error:e.t0}),a=Ro(e.t0),u=null===a||void 0===a||null===(o=a.getErrorMessageByI18n)||void 0===o?void 0:o.call(a,this.i18n,{},this.i18n.t("sendMessageTranslationAudioFailed")),this.messageSended.isAudioTranslatingToText=!1,this.messageSended.content=u,this.sendErrorEvent(a),e.abrupt("return");case 22:case"end":return e.stop()}}),e,this,[[3,13]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"translateAudioToText",value:function(){var e=ve(K().mark((function e(t){var n;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.chatService.translation({file:{filePath:t.tempFilePath,fileName:t.fileName}});case 2:if(n=e.sent,n.text){e.next=5;break}throw new Po(Uo.Audio_Translation_NoContent,this.i18n.t("sendMessageTranslationAudioNone"));case 5:return e.abrupt("return",n.text);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"uploadFile",value:function(){var e=ve(K().mark((function e(t){var n,r,i=this;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],r=!1,e.prev=2,e.next=5,Promise.all(t.map(function(){var e=ve(K().mark((function e(t){var r,o;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=i.packFileObject(t),!r){e.next=7;break}return e.next=4,i.chatService.upload({file:t.file});case 4:o=e.sent,r.file_id=o.id,n.push(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](2),r=!0;case 10:return e.abrupt("return",r?null:n);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getObjectStringType",value:function(e){return e===x.IMAGE?"image":"file"}},{key:"packFileObject",value:function(e){var t=this.getObjectStringType(e.type);switch(t){case"image":return{type:"image",file_url:e.tempFilePath,file_info:e};case"file":return{type:"file",name:e.file.name,size:e.file.size,file_url:e.tempFilePath,file_info:e};default:return null}}},{key:"sendRawMessage",value:function(){var e=ve(K().mark((function e(t,n){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.messageSended.rawMessage=t,e.t0=t.type,e.next=e.t0===M.TEXT?4:e.t0===M.FILE?7:e.t0===M.AUDIO?10:13;break;case 4:return e.next=6,this.sendTextMessage(t.data,n);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,this.sendFileMessage(t.data,n);case 9:return e.abrupt("return",e.sent);case 10:return e.next=12,this.sendAudioMessage(t.data,n);case 12:return e.abrupt("return",e.sent);case 13:throw new Po(-1,"unknown message type");case 14:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}])}(Yw),Hw=["4033","4028","4027","4013"],Vw=function(e){function t(){var e;(0,z.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=(0,L.A)(this,t,[].concat(r)),(0,u.A)(e,"chatStream",void 0),e}return(0,P.A)(t,e),(0,O.A)(t,[{key:"sendMessage",value:function(){var e=ve(K().mark((function e(t,n){var r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,Q.debug("asyncChat start sendMessage: ",t),this._checkTimeout(),e.next=5,this.chatService.asyncChat({bot_id:this.botId,user_id:this.userId,additional_messages:[].concat((0,Gn.A)(n||[]),[t]),conversation_id:this.conversationId,connector_id:this.connectorId,suggestPromoteInfo:null===(r=this.chatInfo)||void 0===r?void 0:r.suggestPromoteInfo},{headers:{"Accept-Language":this.i18n.language===w.ZH_CN?"zh":"en"}});case 5:i=e.sent,Q.debug("asyncChat sendMessage stream: ",i),this.chatStream=i,this.pollAnswer(),e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](0),Q.error("asyncChat sendMessage error",e.t0),this.sendErrorEvent(new Po(-1,this.i18n.t("sendFailed"))),this.close();case 16:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"pollAnswer",value:function(){var e=ve(K().mark((function e(){var t,n,r,i,o,a,u,s,l,d,f,h,p,v,g,y,x,b,M,w,k;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.chatStream){e.next=4;break}return Q.error("asyncChat pollAnswer","chatStream is undefined"),this.sendErrorEvent(new Po(-1,this.i18n.t("sendFailed"))),e.abrupt("return");case 4:Q.debug("asyncChat pollAnswer awaiting start"),t=[],n=null,this._checkTimeout(),e.prev=8,r=!1,i=!1,e.prev=11,a=ge(this.chatStream);case 13:return e.next=15,a.next();case 15:if(!(r=!(u=e.sent).done)){e.next=75;break}if(s=u.value,Q.debug("asyncChat pollAnswer awaiting start2",s),this._checkTimeout(),this.isAbort){e.next=71;break}l=s.event,d=s.data,e.t0=l,e.next=e.t0===Hi.CONVERSATION_CHAT_CREATED?24:e.t0===Hi.CONVERSATION_MESSAGE_DELTA?33:e.t0===Hi.CONVERSATION_MESSAGE_COMPLETED?41:e.t0===Hi.CONVERSATION_CHAT_REQUIRES_ACTION?55:e.t0===Hi.ERROR?58:e.t0===Hi.CONVERSATION_CHAT_FAILED?62:e.t0===Hi.DONE?65:68;break;case 24:return f=m(s.data),h=f||{},p=h.id,v=h.section_id,this.messageSended.chat_id=p||"",this.messageSended.section_id=v,this.messageSended.extData={executeId:null===d||void 0===d?void 0:d.execute_id},this.messageSended=c({},this.messageSended),this.messageList=[this.messageSended].concat((0,Gn.A)(t||[])),this.sendProcessEvent(),e.abrupt("break",69);case 33:if(g=m(d),g){e.next=36;break}return e.abrupt("break",69);case 36:return n?(n.content=n.content||"",n.content+=g.content||"",n.content&&n.reasoning_content||(n.reasoning_content=n.reasoning_content||"",n.reasoning_content+=g.reasoning_content||"")):n=g,n.isComplete=!1,this.messageList=[this.messageSended].concat((0,Gn.A)(t||[]),[n]),this.sendProcessEvent(),e.abrupt("break",69);case 41:if(y=m(d),!n){e.next=48;break}n.isComplete=!0,t.push(n),n=null,e.next=52;break;case 48:if(y){e.next=50;break}return e.abrupt("break",69);case 50:y.isComplete=!0,t.push(y);case 52:return this.messageList=[this.messageSended].concat((0,Gn.A)(t||[])),this.sendProcessEvent(),e.abrupt("break",69);case 55:return x=m(d),this.sendRequireActionEvent(x),e.abrupt("break",69);case 58:return b=m(d),this.chatService.handleErrorCode(b.code||-1),this.sendHandledErrorEvent(b.code,b.msg,t),e.abrupt("return");case 62:return k=m(d),this.sendHandledErrorEvent((null===(M=k.last_error)||void 0===M?void 0:M.code)||-1,(null===(w=k.last_error)||void 0===w?void 0:w.msg)||"",t),e.abrupt("return");case 65:return this.messageList=[this.messageSended].concat((0,Gn.A)(t||[])),this.sendCompleteEvent(),e.abrupt("return");case 68:return e.abrupt("break",69);case 69:e.next=72;break;case 71:return e.abrupt("return");case 72:r=!1,e.next=13;break;case 75:e.next=81;break;case 77:e.prev=77,e.t1=e["catch"](11),i=!0,o=e.t1;case 81:if(e.prev=81,e.prev=82,!r||null==a.return){e.next=86;break}return e.next=86,a.return();case 86:if(e.prev=86,!i){e.next=89;break}throw o;case 89:return e.finish(86);case 90:return e.finish(81);case 91:e.next=98;break;case 93:return e.prev=93,e.t2=e["catch"](8),Q.error("asyncChat pollAnswer error",e.t2),this.sendErrorEvent(new Po(-1,this.i18n.t("sendFailed"))),e.abrupt("return");case 98:case"end":return e.stop()}}),e,this,[[8,93],[11,77,81,91],[82,,86,90]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"sendHandledErrorEvent",value:function(e,t,n){Hw.includes(e.toString())&&t?(this.messageList=[this.messageSended].concat((0,Gn.A)(n||[])),this.messageList.push(this.createAnswerTextMessage(t)),this.sendCompleteEvent()):this.sendErrorEvent(new Po(e||-1,t||this.i18n.t("sendFailed")))}}])}(Qw),Gw=ae||se||ue,Ww=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gw;if(!t)throw Q.error("not support sync send message"),new Error("not support sync send message");return new Vw(e)},qw=function(){var e=Ik((function(e){return{setSendMessageService:e.setSendMessageService,conversationId:e.id,sectionId:e.sectionId,popLastErrorChatGroup:e.popLastErrorChatGroup}})),t=e.setSendMessageService,n=e.conversationId,r=e.sectionId,i=e.popLastErrorChatGroup,o=Ek(),a=Nk((function(e){return e.info})),u=_k((function(e){return e.id})),s=Sk((function(e){return{setIsDeleting:e.setIsDeleting,getOpDisabledState:e.getOpDisabledState}})),c=s.getOpDisabledState,l=s.setIsDeleting,d=_k((function(e){return e.info})),f=jk((function(e){return e.setTaskList})),h=Ak((function(e){return{connectorId:e.connectorId,chatService:e.chatService}})),p=h.connectorId,v=h.chatService,g=Ck((function(e){return e.event})),m=Dk((function(e){var t;return null===(t=e.eventCallbacks)||void 0===t||null===(t=t.message)||void 0===t?void 0:t.onRequiresAction})),y=Dk((function(e){var t;return null===(t=e.ui)||void 0===t||null===(t=t.chatSlot)||void 0===t||null===(t=t.input)||void 0===t?void 0:t.checkCanSendMessage})),x=Ca(function(){var e=ve(K().mark((function e(i,s){var h,x,M;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(h=c(),x=h.clearMessage,!x){e.next=3;break}return e.abrupt("return");case 3:if(u&&n){e.next=5;break}return e.abrupt("return");case 5:if(!y){e.next=11;break}return e.next=8,y(i);case 8:if(e.t0=e.sent,!1!==e.t0){e.next=11;break}return e.abrupt("return",!1);case 11:f({taskList:[]}),l(!0),M=Ww({botId:u,chatService:v,conversationId:n,userId:(null===a||void 0===a?void 0:a.id)||"",connectorId:p,sectionId:r,chatInfo:d||void 0,i18n:o}),M.on(b.RequireAction,(function(e){null===m||void 0===m||m({extra:{requireAction:e.event}})})),M.on(b.Close,(function(){l(!1)})),M.on(b.ReceiveComplete,(function(e){var t;e.error&&Vo({content:(null===(t=e.error)||void 0===t?void 0:t.getErrorMessageByI18n(o,{}))||o.t("sendFailed"),icon:"error",duration:2e3},g)})),t(M),M.sendRawMessage(i,s);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),w=(0,ma.useCallback)(function(){var e=ve(K().mark((function e(t){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({type:M.TEXT,data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x]),k=(0,ma.useCallback)(function(){var e=ve(K().mark((function e(t){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({type:M.FILE,data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x]),A=(0,ma.useCallback)(function(){var e=ve(K().mark((function e(t){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({type:M.AUDIO,data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x]),_=(0,ma.useCallback)(ve(K().mark((function e(){var t,n,r;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i(),null===n||void 0===n||null===(t=n.query)||void 0===t||!t.rawMessage){e.next=5;break}return e.next=4,x(null===n||void 0===n||null===(r=n.query)||void 0===r?void 0:r.rawMessage);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),[x]);return{sendMessage:x,sendTextMessage:w,sendFileMessage:k,sendAudioMessage:A,reSendLastErrorMessage:_}},Zw=function(e){var t,n,r=_k((function(e){return{chatInfo:e.info}})),i=r.chatInfo,o=Ik((function(e){return{conversationId:e.id}})),a=o.conversationId,u=Nk((function(e){return{userInfo:e.info}})),s=u.userInfo,c=(0,ma.useCallback)((function(t,n){return{id:"",conversation_id:a||"",section_id:e||"",bot_id:(null===i||void 0===i?void 0:i.appId)||"",chat_id:"",role:Vi.Assistant,type:t,localId:E(),meta_data:{},content_type:"text",created_at:0,updated_at:0,content:n}}),[a,e,i]),l=(0,ma.useMemo)((function(){return E()}),[]),d=(0,ma.useMemo)((function(){var e,t;return[c("answer",((null===i||void 0===i||null===(e=i.onboarding_info)||void 0===e?void 0:e.prologue)||"").replaceAll("{{user_name}}",(null===s||void 0===s?void 0:s.name)||""))].concat((0,Gn.A)(((null===i||void 0===i||null===(t=i.onboarding_info)||void 0===t?void 0:t.suggested_questions)||[]).map((function(e){return c("follow_up",e)}))))}),[i,a,c,s]),f=(0,ma.useMemo)((function(){return{id:l,chatId:"",respMessages:d,sectionId:e,isPrologue:!0}}),[d,l,e]);return null!==i&&void 0!==i&&null!==(t=i.onboarding_info)&&void 0!==t&&t.prologue&&"\n"!==(null===i||void 0===i||null===(n=i.onboarding_info)||void 0===n?void 0:n.prologue)?f:null},Jw=function(){var e=Ik((function(e){return{conversationId:e.id,setSectionId:e.setSectionId}})),t=e.conversationId,n=e.setSectionId,r=Sk((function(e){return{setIsClearingContext:e.setIsClearingContext,getOpDisabledState:e.getOpDisabledState}})),i=r.getOpDisabledState,o=r.setIsClearingContext,a=Ck((function(e){return e.event})),u=Ck((function(e){return e.event})),s=Ak((function(e){return e.chatService})),c=Ek(),l=(0,ma.useCallback)(ve(K().mark((function e(){var r,l,d,f;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=i(),l=r.clearContext,t){e.next=4;break}return Q.error("clearContext, conversationId is empty"),e.abrupt("return");case 4:if(!l){e.next=6;break}return e.abrupt("return");case 6:return o(!0),u.trigger(y.ChatSlotScrollToAnchorBottom),e.prev=8,e.next=11,s.createNewSection(t);case 11:d=e.sent,f=d.sectionId,n(f),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](8),Vo({content:c.t("clearContextFailed"),icon:"error"},a);case 19:u.trigger(y.ChatSlotRemoveAnchorBottom),o(!1);case 21:case"end":return e.stop()}}),e,null,[[8,16]])}))),[t,a]);return{clearContext:l}},Kw=20,Xw=function(){function e(t){var n=t.apiClient,r=t.connectorId,i=t.appId,o=t.chatType;(0,z.A)(this,e),(0,u.A)(this,"apiClient",void 0),(0,u.A)(this,"connectorId",void 0),(0,u.A)(this,"appId",void 0),(0,u.A)(this,"chatType",void 0),this.apiClient=n,this.connectorId=r||"999",this.appId=i,this.chatType=o}return(0,O.A)(e,[{key:"createNewConversation",value:function(){var e=ve(K().mark((function e(){var t,n,r,i;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.conversations.create({bot_id:this.appId,connector_id:this.connectorId});case 2:return t=e.sent,n=t.id,r=t.last_section_id,i=void 0===r?"":r,e.abrupt("return",{conversationId:n,sectionId:i});case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createNewSection",value:function(){var e=ve(K().mark((function e(t){var n,r;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.conversations.clear(t||"");case 2:return n=e.sent,r=n.id,e.abrupt("return",{sectionId:r});case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAppInfo",value:function(){var e=ve(K().mark((function e(){var t,n;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiClient.bots.retrieve({bot_id:this.appId,connector_id:this.connectorId});case 3:return t=e.sent,e.abrupt("return",c({appId:this.appId,type:this.chatType},t));case 7:throw e.prev=7,e.t0=e["catch"](0),n=e.t0,new Po(n.code||-1,n.message);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getOrCreateConversationId",value:function(){var e=ve(K().mark((function e(){var t,n,r,i,o,a;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.get("/v1/conversations",{bot_id:this.appId,connector_id:this.connectorId,page_num:1,page_size:1});case 2:if(n=e.sent,r=n.data,i=(null===r||void 0===r||null===(t=r.conversations)||void 0===t?void 0:t[0])||{},o=i.id,a=i.last_section_id,o){e.next=9;break}return e.next=8,this.createNewConversation();case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",{conversationId:o,sectionId:a});case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMessageList",value:function(){var e=ve(K().mark((function e(t){var n,r,i,o,a,u;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u=function(e){var t=e.first_id,n=e.last_id,r=e.has_more,i=e.data;return{prevCursorId:n,nextCursorId:t,prevHasMore:r,nextHasMore:!1,messages:i.reverse()}},n=t.conversationId,r=t.prevCursorId,i=t.limit,o=void 0===i?Kw:i,e.prev=2,e.next=5,this.apiClient.conversations.messages.list(n,{after_id:r||void 0,limit:o});case 5:return a=e.sent,e.abrupt("return",u(a));case 9:return e.prev=9,e.t0=e["catch"](2),Q.error("Get Message Error",e.t0),e.abrupt("return",{prevCursorId:void 0,nextCursorId:void 0,prevHasMore:!1,nextHasMore:!1,messages:[],error:new Po(-1,"Get Message Error")});case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"asyncChat",value:function(e,t){return this.apiClient.chat.stream(e,t)}},{key:"upload",value:function(e,t){return this.apiClient.files.upload(e,t)}},{key:"translation",value:function(){var e=ve(K().mark((function e(t,n){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.audio.transcriptions(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"audioSpeech",value:function(){var e=ve(K().mark((function e(t){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.audio.speech.create(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleErrorCode",value:function(){var e=ve(K().mark((function e(t){var n;return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.apiClient,!n.isAuthErrorCode(t)){e.next=5;break}return e.next=4,n.refreshToken(n.token);case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}])}(),$w=function(){var e=Ak((function(e){return{chatService:e.chatService}})),t=e.chatService,n=Hk(),r=(0,ma.useCallback)((function(e){return t.audioSpeech({input:e,voice_id:n||"",response_format:"wav",sampling_rate:8e3})}),[t,n]);return{audioSpeech:r}},ek=function(e){var t=e.auth,n=e.setting,r=e.chat,i=t.token,o=t.onRefreshToken,a=t.connectorId,u=void 0===a?"999":a,s=n||{},l=s.apiBaseUrl,d=s.requestHeader,f=void 0===d?{}:d,h=s.onGetCustomChatService,p=new Ho({token:i,allowPersonalAccessTokenInBrowser:!0,baseURL:l,axiosOptions:{headers:c({},f)},debug:Q.isDebug(),onRefreshToken:o}),v={apiClient:p,connectorId:u,appId:r.appId,chatType:r.type},g=(null===h||void 0===h?void 0:h(v))||new Xw(v);return Tw()((function(e,t){return{connectorId:u,apiClient:p,chatService:g,getSetting:function(){return n}}}))},tk=function(e){return Object.fromEntries(Object.entries({name:e.name,description:e.description,icon_url:e.icon_url,onboarding_info:e.onboarding_info,bgInfo:e.bgInfo,voiceInfo:e.voiceInfo,suggestPromoteInfo:e.suggestPromoteInfo}).filter((function(e){var t=(0,T.A)(e,2),n=(t[0],t[1]);return!!n})))},nk=function(e,t){var n,r,i,o,a,u,s,l,d,f=(null===(n=t.onboarding_info)||void 0===n||null===(n=n.suggested_questions)||void 0===n?void 0:n.filter((function(e){return!!e})))||[];return c(c(c({},e),t),{},{onboarding_info:{display_all_suggestions:null!==(r=null===(i=t.onboarding_info)||void 0===i?void 0:i.display_all_suggestions)&&void 0!==r?r:null===(o=e.onboarding_info)||void 0===o?void 0:o.display_all_suggestions,prologue:null!==(a=t.onboarding_info)&&void 0!==a&&a.prologue?null===(u=t.onboarding_info)||void 0===u?void 0:u.prologue:null===(s=e.onboarding_info)||void 0===s?void 0:s.prologue,suggested_questions:null===(l=null!==f&&void 0!==f&&f.length?f:null===(d=e.onboarding_info)||void 0===d?void 0:d.suggested_questions)||void 0===l?void 0:l.filter((function(e){return!!e}))}})},rk=function(e){var t,n=e.chat,r=tk(n);return Tw()((function(e){return{id:n.appId,type:n.type,info:null,isLoading:!0,error:null,setIsLoading:function(t){e({isLoading:t,error:null})},setChatInfo:function(n){t=n,Q.debug("setChatInfo",{initInfo:n,customChatInfo:r}),e({error:null,isLoading:!1,info:nk(t,r)})},setCustomChatInfo:function(n){r=tk(n),t&&(Q.debug("setCustomChatInfo",{oldInfo:t,customChatInfo:r}),e({info:nk(t,r)}))},setError:function(t){e({isLoading:!1,error:t})}}}))},ik=function(){var e=yw(),t=(0,ma.useMemo)((function(){return rk({chat:e.chat})}),[]);return Da((function(){Q.debug("useCreateChatInfoStore update chat props: ",e.chat),t.getState().setCustomChatInfo(e.chat)}),[e.chat]),t},ok=function(e,t){var n=[];return e.map((function(e){var r=E(),i=e.chat_id,o=e.type;if(n.length>0){var a=n[n.length-1],u=a.chatId;if("question"!==o&&(t||u&&u===i))return void a.respMessages.push(e)}"question"!==o?n.push({id:r,chatId:i,respMessages:[e],sectionId:e.section_id}):n.push({id:r,chatId:i,query:e,respMessages:[],sectionId:e.section_id})})),n},ak=function(e,t){var n=[],r=e[e.length-1],i=t[0];return null!==i&&void 0!==i&&i.query||!i||(null===r||void 0===r?void 0:r.chatId)!==(null===i||void 0===i?void 0:i.chatId)&&null!==r&&void 0!==r&&r.chatId||(r.chatId=null===i||void 0===i?void 0:i.chatId,t.shift(),r.respMessages=[].concat((0,Gn.A)(r.respMessages),(0,Gn.A)(i.respMessages)),e[e.length-1]=c({},r)),n=[].concat((0,Gn.A)(e),(0,Gn.A)(t)),n},uk={id:"",sectionId:"",chatMessageGroups:[],prevCursorId:"",prevHasMore:!1,prevError:void 0,nextCursorId:"",nextHasMore:!1,nextError:void 0,sendMessageService:void 0,inProcessChatMessageGroup:void 0,isUnshiftingMessageFlag:!1},sk=function(e){var t=e.eventCallbacks,n=null===t||void 0===t?void 0:t.message;return Tw()((function(e,t){var r=function(){e(c({},uk)),t().closeSendMessage()};return c(c({},uk),{},{setEventCallbacksAboutMessage:function(e){n=e},setConversationDetail:function(t,n){r(),e(c(c({},t),{},{chatMessageGroups:ok(n)}))},setNewConversationId:function(t){r(),e({id:t})},setSectionId:function(t){e({sectionId:t})},pushMessageList:function(n){var r=t().chatMessageGroups,i=ok(n);e({chatMessageGroups:ak(r,i)})},unshiftMessageList:function(n,r){var i,o,a=t(),u=a.chatMessageGroups,s=t().id;if(n!==s)return null;!u[0]||null!==u&&void 0!==u&&null!==(i=u[0])&&void 0!==i&&i.query||(o=u.shift());var c=ak(ok(r),o?[o]:[]);e({isUnshiftingMessageFlag:!0,chatMessageGroups:[].concat((0,Gn.A)(c),(0,Gn.A)(u))})},setPrevInfo:function(t,n){e({prevError:void 0,prevHasMore:t,prevCursorId:n})},setNextInfo:function(t,n){e({nextError:void 0,nextHasMore:t,nextCursorId:n})},isShowOnBoarding:function(){var e=t(),n=e.chatMessageGroups,r=e.inProcessChatMessageGroup;return 0===n.length&&!r},clearUnshiftingMessageFlg:function(t){e({scrollTop:t,isUnshiftingMessageFlag:!1})},setPrevError:function(t){e({prevError:t})},setNextError:function(t){e({nextError:t})},setSendMessageService:function(r){e({sendMessageService:r});var i=E();r.on(b.ReceiveMessage,(function(t){var n=ok(t.messages)[0];Q.debug("[dev] ReceiveMessage",t.messages[t.messages.length-1].content),n.id=i,n.isAWaiting=!0,e({inProcessChatMessageGroup:n})})),r.on(b.ReceiveComplete,(function(r){var o,a,u=r.messages,s=r.error;e({inProcessChatMessageGroup:void 0});var l=t().chatMessageGroups,d=r.messages;1===u.length&&s&&(d=[c(c({},u[0]),{},{error:s})]);var f=ok(d,!0)[0];f.id=i,f.sectionId,f.sectionId?t().setSectionId(f.sectionId||""):f.sectionId=t().sectionId,null===(o=n)||void 0===o||null===(a=o.afterMessageReceivedFinish)||void 0===a||a.call(o,{extra:{processChatMessageGroup:f}}),e({chatMessageGroups:ak(l,[f])})})),r.on(b.Close,(function(){e({inProcessChatMessageGroup:void 0,sendMessageService:void 0})}))},closeSendMessage:function(){var e=t().sendMessageService;null===e||void 0===e||e.close()},popLastErrorChatGroup:function(){var n,r,i=t(),o=i.chatMessageGroups;if(null!==(n=o[o.length-1])&&void 0!==n&&null!==(n=n.query)&&void 0!==n&&n.error&&null!==(r=o[o.length-1])&&void 0!==r&&null!==(r=r.query)&&void 0!==r&&r.rawMessage){var a=o.pop();return e({chatMessageGroups:o}),a||null}return null}})}))},ck=function(){var e,t=yw(),n=(0,ma.useMemo)((function(){return sk(t)}),[]);return Da((function(){var e;n.getState().setEventCallbacksAboutMessage(null===t||void 0===t||null===(e=t.eventCallbacks)||void 0===e?void 0:e.message)}),[null===t||void 0===t||null===(e=t.eventCallbacks)||void 0===e?void 0:e.message]),n},lk=function(e){var t=e.isReadonly;return Tw()((function(e,n){var r=function(e){return function(){var t=e.apply(void 0,arguments);return n().setOpDisabledState(),t}};return{isReadonly:t||!1,isDeleting:!1,isSendingMsg:!1,isClearingContext:!1,isAudioRecording:!1,disableState:{clearMessage:t||!1,clearContext:t||!1,input:t||!1},setIsReadonly:r((function(t){e({isReadonly:t})})),setIsAudioRecording:r((function(t){e({isAudioRecording:t})})),setIsDeleting:r((function(t){e({isDeleting:t})})),setIsSendingMsg:r((function(t){e({isSendingMsg:t})})),setIsClearingContext:r((function(t){e({isClearingContext:t})})),setOpDisabledState:function(){e({disableState:n().getOpDisabledState()})},getOpDisabledState:function(){var e=n(),t=e.isDeleting,r=e.isSendingMsg,i=e.isClearingContext,o=e.isReadonly,a=t||r||i;return{clearMessage:o||a,input:o||a,clearContext:o||a}}}}))},dk=function(){var e,t=yw(),n=(0,ma.useMemo)((function(){var e;return lk({isReadonly:null===(e=t.ui)||void 0===e?void 0:e.isReadonly})}),[]);return Da((function(){var e;n.getState().setIsReadonly(!(null===(e=t.ui)||void 0===e||!e.isReadonly))}),[null===(e=t.ui)||void 0===e?void 0:e.isReadonly]),n},fk=function(e){var t=e.user,n={id:(null===t||void 0===t?void 0:t.id)||E()};return Tw()((function(e){return{info:c(c({},n),t),setUserInfo:function(t){e({info:c(c({},n),t||{})})}}}))},hk=function(){var e=yw(),t=(0,ma.useMemo)((function(){return fk({user:null===e||void 0===e?void 0:e.user})}),[]);return Da((function(){t.getState().setUserInfo(e.user),Q.debug("useCreateUserInfoStore in userUpdateEffect",e.user)}),[e]),t},pk=function(e){return Q.debug("createChatPropsStore",e),Tw()((function(t){return c(c({},e),{},{setChatProps:function(e){t(c({},e))}})}))},vk=function(){var e=yw(),t=(0,ma.useMemo)((function(){return pk(e)}),[]);return Da((function(){t.getState().setChatProps(e),Q.debug("useCreateChatPropsStore props Change",e)}),[e]),t},gk=function(){return Tw()((function(e,t){return{event:new I.Events,getEvent:function(){return t().event}}}))},mk=function(){var e=(0,ma.useMemo)((function(){return gk()}),[]);return(0,ma.useEffect)((function(){return function(){e.getState().event.off()}}),[]),e},yk=function(){return Tw()((function(e){return{taskList:[],setInputValue:function(e){Q.error("setInputValue is not implemented",e)},initSetInputValueFunc:function(t){e({setInputValue:t})},setTaskList:function(t){e({taskList:(null===t||void 0===t?void 0:t.taskList)||[]})}}}))},xk=function(){var e=(0,ma.useMemo)((function(){return yk()}),[]);return e},bk=function(e){return e[e["ApiClientStore"]=0]="ApiClientStore",e[e["ChatInfoStore"]=1]="ChatInfoStore",e[e["ConversationStore"]=2]="ConversationStore",e[e["ChatStatusStore"]=3]="ChatStatusStore",e[e["UserInfoStore"]=4]="UserInfoStore",e[e["I18n"]=5]="I18n",e[e["ChatPropsStore"]=6]="ChatPropsStore",e[e["UiEvent"]=7]="UiEvent",e[e["ChatInputStore"]=8]="ChatInputStore",e}(bk||{}),Mk=(0,ma.createContext)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)({},bk.ApiClientStore,null),bk.ChatInfoStore,null),bk.ConversationStore,null),bk.ChatStatusStore,null),bk.UserInfoStore,null),bk.I18n,null),bk.ChatPropsStore,null),bk.UiEvent,null),bk.ChatInputStore,null)),wk=(Mk.Provider,function(e){var t=e.children,n=yw(),r=n.auth,i=n.chat,o=n.setting;Q.setLoglevel(null===o||void 0===o?void 0:o.logLevel);var a=(0,ma.useMemo)((function(){return ek({auth:r,setting:o,chat:i})}),[]),s=ik(),c=ck(),l=dk(),d=hk(),f=vk(),h=mk(),p=xk(),v=(0,ma.useMemo)((function(){return(null===o||void 0===o?void 0:o.i18n)||new Ia((null===o||void 0===o?void 0:o.language)||w.ZH_CN)}),[]),g=(0,ma.useMemo)((function(){return(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)({},bk.ApiClientStore,a),bk.ChatInfoStore,s),bk.ConversationStore,c),bk.ChatStatusStore,l),bk.UserInfoStore,d),bk.I18n,v),bk.ChatPropsStore,f),bk.UiEvent,h),bk.ChatInputStore,p)}),[]);return Q.debug("ChatFramework props:",n),(0,ya.jsx)(Mk.Provider,{value:g,children:t})}),kk=function(){return Ea(Mk)},Ak=function(e){var t=kk();return kw(t[bk.ApiClientStore],e,Aw)},_k=function(e){var t=kk();return kw(t[bk.ChatInfoStore],e,Aw)},Ik=function(e){var t=kk();return kw(t[bk.ConversationStore],e,Aw)},Sk=function(e){var t=kk();return kw(t[bk.ChatStatusStore],e,Aw)},Nk=function(e){var t=kk();return kw(t[bk.UserInfoStore],e,Aw)},Ek=function(){var e=kk();return e[bk.I18n]},Dk=function(e){var t=kk();return kw(t[bk.ChatPropsStore],e,Aw)},Ck=function(e){var t=kk();return kw(t[bk.UiEvent],e,Aw)},jk=function(e){var t=kk();return kw(t[bk.ChatInputStore],e,Aw)},Tk=["children"],zk=function(e){var t=e.children,n=a(e,Tk);return(0,ya.jsx)(mw,c(c({},n),{},{children:(0,ya.jsx)(wk,{children:t})}))},Ok=function(){var e=Dk((function(e){return e.chat.bgInfo})),t=_k((function(e){var t;return null===(t=e.info)||void 0===t?void 0:t.bgInfo})),n=e||t;return n},Lk=function(){var e=Ok(),t=null!==e&&void 0!==e&&e.pc&&null!==e&&void 0!==e&&e.mobile?"bg-theme":"light";return t},Fk=function(){var e=Dk((function(e){var t;return null===(t=e.ui)||void 0===t?void 0:t.layout}));return"mobile"===e?"mobile":"pc"},Pk=function(){return"mobile"===Fk()},Rk=function(){var e=Dk((function(e){var t,n;return Q.debug("ChatSlot useChatPropsStore...",null===(t=e.ui)||void 0===t||null===(t=t.chatSlot)||void 0===t||null===(t=t.base)||void 0===t?void 0:t.maxWidth),null===(n=e.ui)||void 0===n||null===(n=n.chatSlot)||void 0===n||null===(n=n.base)||void 0===n?void 0:n.maxWidth}));if(e){var t=Number(e);if(t)return Math.max(300,t)}},Uk=function(e){return e["Text"]="text",e["Voice"]="voice",e}({}),Bk=function(){var e=_k((function(e){var t;return null===(t=e.info)||void 0===t?void 0:t.voiceInfo}));return e},Yk=function(){var e=Dk((function(e){var t;return null===(t=e.ui)||void 0===t||null===(t=t.chatSlot)||void 0===t||null===(t=t.input)||void 0===t?void 0:t.isNeedAudio}));return e||!1},Qk=function(){var e=_k((function(e){var t;return null===(t=e.info)||void 0===t||null===(t=t.inputMode)||void 0===t?void 0:t.default})),t=Yk();return 2===e&&t?Uk.Voice:Uk.Text},Hk=function(){for(var e,t=_k((function(e){var t;return null===(t=e.info)||void 0===t?void 0:t.voiceInfo})),n=Ek(),r=n.language===w.ZH_CN?["zh","en"]:["en","zh"],i=0;i<r.length;i++){var o,a;if(null!==t&&void 0!==t&&null!==(o=t.voiceConfigMap)&&void 0!==o&&null!==(o=o[r[i]])&&void 0!==o&&o.voice_id)e=null===t||void 0===t||null===(a=t.voiceConfigMap)||void 0===a||null===(a=a[r[i]])||void 0===a?void 0:a.voice_id}return Q.debug("useVoiceId voiceInfo:",t,e),e},Vk=function(){var e=Bk(),t=Hk();return Q.debug("useIsNeedAudioInput info:",{voiceId:t,isNeedTextToAudio:t&&!(null===e||void 0===e||!e.isTextToVoiceEnable)||!1}),t&&!(null===e||void 0===e||!e.isTextToVoiceEnable)||!1},Gk={text:"index-module__text___PgILC",retry:"index-module__retry___LJ9KD"},Wk=function(e){var t=e.errorText;return(0,ya.jsxs)(Mu,{gap:4,horizontalCenter:!0,children:[(0,ya.jsx)(gs,{}),(0,ya.jsx)(p.EY,{className:Gk.text,children:t})]})},qk=function(e){var t=e.onClick,n=e.retryText;return(0,ya.jsx)(p.EY,{onClick:t,className:Gk.retry,children:n})},Zk={"image-error":"index-module__image-error___WfR7_"},Jk=function(e){var t=(0,ma.useState)(e.src),n=(0,T.A)(t,2),r=n[0],i=n[1];return Da((function(){i(e.src)}),[e.src]),(0,ya.jsx)(p._V,c(c({onError:function(){Q.error("CImage onError",e.src),i("")}},e),{},{src:r,className:h()(e.className,(0,u.A)({},Zk["image-error"],!r))}))},Kk={suggestion:"index-module__suggestion___jB3n6","suggestion-list":"index-module__suggestion-list___TVqVz"},Xk=function(e){var t=e.suggestions,n=e.onClickSuggestion,r=e.isVertical,i=void 0===r||r,o=e.isDisplayAll,a=void 0!==o&&o;return(0,ya.jsx)(Mu,{gap:8,vertical:i,className:h()(Kk["suggestion-list"]),children:t.slice(0,a?t.length:3).map((function(e,t){return(0,ya.jsx)(_M,{className:Kk.suggestion,text:e,canClick:!1,selectable:!1,onClick:function(){null===n||void 0===n||n(e)}},t)}))})},$k={markdown:"index-module__markdown___QDXQh",reason:"index-module__reason____DntH"},eA=function(e){var t=e.content,n=e.isComplete,r=void 0===n||n,i=e.onImageClick,o=e.onLinkClick,a=e.taskDisabled,u=e.onTaskChange,s=e.className,c=(0,ma.useState)(!r),l=(0,T.A)(c,2),d=l[0],f=l[1],h=Ek(),p=Ca((function(){!1!==d&&f(!1)}));Da((function(){p()}),[r]);var v=(0,ma.useMemo)((function(){return{onLinkClick:o?function(e,t){null===o||void 0===o||o(null===t||void 0===t?void 0:t.url)}:void 0}}),[o]);return(0,ya.jsx)(bM,{className:s,markdown:t,isSmooth:d,isFinish:r,onMarkdownEnd:p,theme:"light",onImageClick:i,onTaskChange:u,taskDisabled:a,language:h.language,eventCallbacks:v,debug:Q.isDebug()})},tA=function(e){var t=e.reasoningContent,n=e.content,r=e.isComplete,i=void 0===r||r,o=e.className,a=e.onImageClick,u=e.onLinkClick,s=e.taskDisabled,c=e.onTaskChange,l=(0,ma.useMemo)((function(){return t?t.trim().replace(/^/gm,"> "):""}),[t]);return(0,ya.jsxs)(wM,{isNeedBorder:!1,className:h()($k.markdown,o),children:[l?(0,ya.jsx)(eA,{onImageClick:a,onLinkClick:u,taskDisabled:!0,className:$k.reason,isComplete:i||!!n,content:l}):null,!l||n?(0,ya.jsx)(eA,{isComplete:i,onImageClick:a,onLinkClick:u,onTaskChange:c,taskDisabled:s,content:n}):null]})},nA={container:"index-module__container___B89_T","vertical-center":"index-module__vertical-center___WsKLz","app-avatar":"index-module__app-avatar___QfDDx","info-container":"index-module__info-container___frTpR","chat-name":"index-module__chat-name___B7ksu","chat-desc":"index-module__chat-desc___OpI0e",prologue:"index-module__prologue___OU8J6"},rA=function(e){var t,n,r,i,o=e.chat,a=e.user,s=e.onClickSuggestion,c=e.onImageClick,l=Dk((function(e){var t;return null===(t=e.setting)||void 0===t?void 0:t.cdnBaseUrlPath})),d=(0,ma.useMemo)((function(){var e,t=((null===o||void 0===o||null===(e=o.onboarding_info)||void 0===e?void 0:e.prologue)||"").replaceAll("{{user_name}}",(null===a||void 0===a?void 0:a.name)||"");return"\n"!==t?t:""}),[null===o||void 0===o||null===(t=o.onboarding_info)||void 0===t?void 0:t.prologue]),f=!d&&!(null!==o&&void 0!==o&&null!==(n=o.onboarding_info)&&void 0!==n&&null!==(n=n.suggested_questions)&&void 0!==n&&n.length),v=Pk();return Q.debug("OnBoarding props",d,o),(0,ya.jsxs)(p.Ss,{className:h()(nA.container,(0,u.A)({},nA["vertical-center"],f)),children:[(0,ya.jsxs)(p.Ss,{className:nA["info-container"],children:[(0,ya.jsx)(Jk,{src:(null===o||void 0===o?void 0:o.icon_url)||ga(l,"assets/imgs/coze-logo.png"),className:nA["app-avatar"],mode:"aspectFill"}),(0,ya.jsx)(p.EY,{className:nA["chat-name"],overflow:"ellipsis",numberOfLines:1,maxLines:1,children:(null===o||void 0===o?void 0:o.name)||""}),(0,ya.jsx)(DM,{fallbackNode:(0,ya.jsx)(ya.Fragment,{}),children:d?(0,ya.jsx)(tA,{content:d,isComplete:!0,className:nA.prologue,onImageClick:c}):null})]}),(0,ya.jsx)(Xk,{suggestions:(null===o||void 0===o||null===(r=o.onboarding_info)||void 0===r?void 0:r.suggested_questions)||[],onClickSuggestion:s,isDisplayAll:null===o||void 0===o||null===(i=o.onboarding_info)||void 0===i?void 0:i.display_all_suggestions,isVertical:v})]})},iA={container:"index-module__container___wPi7Z",input:"index-module__input___RqbAW"},oA=n(2340)["URL"],aA=function(e){var t=e.children,n=e.accept,r=e.onChooseFile,i=e.frameEventTarget,o=(0,ma.useRef)(null),a=function(e){var t=e.target.files;if(r&&t&&t.length>0){var n,i=[],o=$(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=_(a);i.push({from:"H5_Input_Chooser",type:u,size:a.size,file:a,tempFilePath:oA.createObjectURL(a)})}}catch(e){o.e(e)}finally{o.f()}null===r||void 0===r||r(i)}e.target.value=""};return(0,ya.jsxs)(p.Ss,{className:iA.container,children:[ae&&(0,ya.jsx)("input",{type:"file",multiple:!1,accept:n,autoComplete:"off",tabIndex:-1,className:iA.input,onChange:a,ref:o}),(0,ya.jsx)(p.Ss,{onClick:function(){var e,t;if(ae)o.current&&(null===(e=o.current)||void 0===e||null===(t=e.click)||void 0===t||t.call(e));else try{S().chooseMedia({count:1,mediaType:["image"],sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){Q.debug("chooseMedia success:",e);var t=e.tempFiles.map((function(e){return{from:"Taro_Image_Chooser",type:"image"===e.fileType||"image"===e.mediaType?x.IMAGE:x.VIDEO,size:e.size,tempFilePath:e.tempFilePath,file:{filePath:e.tempFilePath}}}));null===r||void 0===r||r(t)},fail:function(e){Q.error("chooseMedia fail:",e),e.errMsg.includes("cancel")||Vo({content:"\u9009\u62e9\u6587\u4ef6\u5931\u8d25: ".concat(e.errMsg),icon:"error"},i)}})}catch(e){Q.error("chooseMedia error:",e)}},children:t})]})},uA={"file-btn":"index-module__file-btn___k_cy5"},sA=".doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf,.numbers,.csv,.jpg,.jpg2,.jpeg,.png,.gif,.webp,.heic,.heif,.bmp,.pcd,.tiff,.wav,.mp3,.flac,.m4a,.aac,.ogg,.wma,.midi,.mp4,.avi,.mov,.3gp,.3gpp,.flv,.webm,.wmv,.rmvb,.m4v,.mkv,.rar,.zip,.7z,.gz,.gzip,.bz2,.cpp,.py,.java,.c,image/*",cA=function(e){var t=e.onSendFileMessage,n=e.frameEventTarget,r=e.disabled;return(0,ya.jsx)(ku,{disabled:r,children:(0,ya.jsx)(aA,{accept:sA,onChooseFile:function(e){null===t||void 0===t||t(e)},frameEventTarget:n,children:(0,ya.jsx)(iw,{hoverTheme:"hover",type:"circle-btn",border:"none",children:(0,ya.jsx)(vs,{className:uA["file-btn"]})})})})},lA={"input-padding-container":"index-module__input-padding-container___Bbhmi","input-container":"index-module__input-container___RsQeD",input:"index-module__input___rkkoF",placeholder:"index-module__placeholder___I3qGL"},dA=n(2340)["document"],fA=["onSendTextMessage","onInputChange","placeholder"],hA=function(e){var t=e.onSendTextMessage,n=e.onInputChange,r=e.placeholder,i=a(e,fA),o=i.id,u=void 0===o?"":o,s=Ca((function(e){if(n(e),ae){var t=f();t&&(t.style.height="0px",t.style.height="inherit")}})),l=pA({inputId:u,onSendTextMessage:t,handleInputChange:s}),d=l.onInputInit,f=l.getInputElInWeb;return(0,ya.jsx)(p.Ss,{className:lA["input-padding-container"],children:(0,ya.jsx)(p.Ss,{className:lA["input-container"],children:(0,ya.jsx)(p.TM,c({className:lA.input,maxlength:-1,ref:d,showConfirmBar:!0,controlled:!0,cursorSpacing:20,autoHeight:!0,placeholder:r,placeholderClass:lA.placeholder,disableDefaultPadding:!0,onConfirm:function(){ce&&t()},onInput:function(e){Q.debug("onInputKeyDown: onInput ",e.detail.value),s(e.detail.value)}},i))})})},pA=function(e){var t=e.inputId,n=e.onSendTextMessage,r=e.handleInputChange,i=(0,ma.useRef)(),o=(0,ma.useRef)(!1),a=Ca((function(){var e;return ae?null===(e=dA.getElementById(t))||void 0===e?void 0:e.querySelector("textarea"):void 0})),u=Ca((function(e){if(!o.current&&"Enter"===e.code)if(e.ctrlKey||e.metaKey||e.altKey){var t=e.target,i=null===t||void 0===t?void 0:t.selectionStart,a=null===t||void 0===t?void 0:t.selectionEnd,u=null===t||void 0===t?void 0:t.value;if(void 0!==i&&void 0!==a&&void 0!==u){e.preventDefault(),e.stopPropagation();var s=u.substring(0,i),c=u.substring(a);t.value="".concat(s,"\n").concat(c),t.selectionStart=i+1,t.selectionEnd=i+1,r(t.value)}}else e.shiftKey||(e.stopPropagation(),e.preventDefault(),n())})),s=Ca((function(){o.current=!0})),c=Ca((function(){o.current=!1})),l=Ca((function(){if(ae){var e=a();i.current=e,null===e||void 0===e||e.removeEventListener("compositionstart",s),null===e||void 0===e||e.removeEventListener("compositionend",c),null===e||void 0===e||e.removeEventListener("keydown",u),null===e||void 0===e||e.addEventListener("keydown",u),null===e||void 0===e||e.addEventListener("compositionstart",s),null===e||void 0===e||e.addEventListener("compositionend",c)}}));return(0,ma.useEffect)((function(){if(ae)return function(){var e,t,n;null===(e=i.current)||void 0===e||e.removeEventListener("compositionstart",s),null===(t=i.current)||void 0===t||t.removeEventListener("compositionend",c),null===(n=i.current)||void 0===n||n.removeEventListener("keydown",u),i.current=void 0}}),[]),{onInputInit:l,getInputElInWeb:a}},vA=function(e){var t=e.circleDiameter,n=void 0===t?4:t,r=e.circleColor,i=void 0===r?"currentColor":r,o=e.boxHeight,a=void 0===o?16:o,u=e.boxWidth,s=void 0===u?26:u,c=e.className;return(0,ya.jsx)(zs,{width:s,height:a,className:c,children:(0,ya.jsx)(p.Ss,{style:{width:n,height:n,backgroundColor:i,borderRadius:n}})})},gA={"task-message-container":"index-module__task-message-container___M9NGi",content:"index-module__content___T9j1r"},mA=function(e){var t=e.taskMessage,n=t||{},r=n.isShow,i=n.options,o=void 0===i?[]:i,a=Ek();return r?(0,ya.jsx)(p.Ss,{className:gA["task-message-container"],children:(0,ya.jsxs)(p.Ss,{className:gA.content,children:[(0,ya.jsx)(p.Ss,{children:a.t("taskMessageMyChoice")}),(0,ya.jsx)(p.Ss,{children:o.map((function(e,t){return(0,ya.jsxs)(Mu,{children:[(0,ya.jsx)(vA,{boxHeight:20,boxWidth:20}),(0,ya.jsx)(p.EY,{children:e})]},t)}))})]})}):null},yA={"send-btn":"index-module__send-btn___SL66C"},xA=function(e){var t=e.disabled,n=e.onClick;return(0,ya.jsx)(ku,{disabled:t,children:(0,ya.jsx)(iw,{hoverTheme:"hover",onClick:n,type:"circle-btn",border:"none",children:(0,ya.jsx)(ps,{className:yA["send-btn"],theme:"dark"})})})},bA={"keyboard-icon":"index-module__keyboard-icon___LXr74","microphone-icon":"index-module__microphone-icon___Fw_1e"},MA=function(e){var t=e.inputDisabled,n=e.onSendBtnClick,r=e.hasTextToSend,i=e.inputType,o=e.isNeedAudio,a=e.onKeyboardClick,u=e.onMicrophoneClick,s=e.focused;Q.debug("SendSwitchBtn",o);var c=o&&i===Uk.Voice,l=!o||i===Uk.Text&&!!r,d=o&&i===Uk.Text&&!r;return(0,ya.jsxs)(ya.Fragment,{children:[c?(0,ya.jsx)(iw,{onClick:a,hoverTheme:"hover",type:"circle-btn",border:"none",children:(0,ya.jsx)(As,{className:bA["keyboard-icon"]})}):null,d?(0,ya.jsx)(iw,{onClick:u,hoverTheme:"hover",type:"circle-btn",border:"none",children:(0,ya.jsx)(_s,{className:bA["microphone-icon"]})}):null,l?(0,ya.jsx)(xA,{disabled:t||!r,onClick:n,focused:s}):null]})},wA=n(2340)["document"],kA=function(e,t){var n=Ek(),r=e.defaultValue,i=e.onSendTextMessage,o=e.disabled,a=t.inputId,u=t.taskMessage,s=(0,ma.useState)(!1),c=(0,T.A)(s,2),l=c[0],d=c[1],f=(0,ma.useState)(r),h=(0,T.A)(f,2),p=h[0],v=h[1],g=(0,ma.useMemo)((function(){var e;if(null!==u&&void 0!==u&&u.isShow&&(null===u||void 0===u||null===(e=u.options)||void 0===e?void 0:e.length)>0){var t=null===u||void 0===u?void 0:u.options.map((function(e){return e.trim()})).join("; ");return"".concat(n.t("taskMessageMyChoice")).concat(t,"\n").concat(p||"")}return p}),[u,p]),m=Ca((function(){var e;(d(!1),ae)&&(null===(e=wA.getElementById(a))||void 0===e||null===(e=e.querySelector("textarea"))||void 0===e||e.blur())})),y=Ca((function(e){v(""),e&&m(),setTimeout((function(){v(""),e&&m()}),50)}));Da((function(){void 0!==r&&v(r)}),[r]);var x=Ca(ve(K().mark((function e(){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Q.debug("useTextInputHandle onSendTextMessage:",{inputValue:p,toSendInputValue:g,disabled:o}),!g||o){e.next=8;break}return e.next=4,null===i||void 0===i?void 0:i(g);case 4:if(e.t0=e.sent,!1!==e.t0){e.next=7;break}return e.abrupt("return");case 7:y(!ae);case 8:case"end":return e.stop()}}),e)}))));return{focused:l,clearInput:y,setFocused:d,inputValue:p,setInputValue:v,toSendInputValue:g,onSendTextMessage:x}},AA=function(e,t){var n=!1,r=t.inputType,i=t.setInputType,o=t.isRecording,a=e.taskList,u=e.isNeedTaskMessage,s=void 0!==u&&u,c=(0,ma.useMemo)((function(){var e=[];return null===a||void 0===a||a.map((function(t){e.push.apply(e,(0,Gn.A)(t.taskValue||[]))})),e.filter((function(e){return!!e}))}),[a]);return c.length>0&&r===Uk.Text&&s&&(n=!0),Da((function(){!o&&r!==Uk.Text&&s&&(null===i||void 0===i||i(Uk.Text))}),[a]),{isShowTaskMessage:n,taskOptions:c}},_A=function(e,t){var n=AA(e,t),r=n.isShowTaskMessage,i=n.taskOptions,o=r;return{taskMessage:{isShow:r,options:i},isShowMultiModeMessage:o}},IA=ue,SA=function(e){var t=e.onKeyBoardHeightChange,n=Ca((function(e){IA&&(null===t||void 0===t||t(e))}));return(0,I.useDidHide)((function(){null===n||void 0===n||n(0)})),(0,ma.useEffect)((function(){var e;IA&&(null===S()||void 0===S()||null===(e=S().onKeyboardHeightChange)||void 0===e||e.call(S(),(function(e){0!==e.height?null===n||void 0===n||n(e.height):null===n||void 0===n||n(0)})))}),[]),{onKeyBoardHeightChange:n}},NA=function(e,t){var n=e.onAudioRecording,r=e.frameEventTarget,i=t.inputType,o=(0,ma.useState)(!1),a=(0,T.A)(o,2),u=a[0],s=a[1],c=i===Uk.Voice&&u,l=(0,ma.useState)(!1),d=(0,T.A)(l,2),f=d[0],h=d[1],p=Ca((function(e){h(e),null===n||void 0===n||n(e)}));return(0,ma.useEffect)((function(){if(Q.debug("useAudioMessageHandle listen focus and blur",{isWeb:ae,frameEventTarget:r}),ae&&r){var e=function(){Q.debug("useAudioMessageHandle focus in"),s(!0)},t=function(){Q.debug("useAudioMessageHandle blur in"),s(!1)};return r.on(y.FrameFocus,e),r.on(y.FrameBlur,t),r.trigger(y.TriggerFocus),function(){r.off(y.FrameFocus,e),r.off(y.FrameBlur,t)}}}),[]),{isRecording:f,isRealAudioInputFocusing:c,onRecording:p}},EA={container:"index-module__container___SfRYH",title:"index-module__title___kZRIq",desc:"index-module__desc___UNFu0",img:"index-module__img___z3iqh","btn-container":"index-module__btn-container___RgDEt",btn:"index-module__btn___ibo4u"},DA=function(e){var t=e.hideModal,n=Ek(),r=Dk((function(e){var t;return null===(t=e.setting)||void 0===t?void 0:t.cdnBaseUrlPath}));return(0,ya.jsxs)(p.Ss,{className:EA.container,children:[(0,ya.jsxs)(Mu,{gap:4,verticalCenter:!0,children:[(0,ya.jsx)(p.EY,{className:EA.title,children:n.t("permissionMkfTitle")}),(0,ya.jsx)(ks,{})]}),(0,ya.jsx)(p.EY,{className:EA.desc,children:n.t("permissionMkfDesc")}),(0,ya.jsx)(p._V,{preview:"false",mode:"widthFix",className:EA.img,src:ga(r,"assets/imgs/mkf-deny.png")}),(0,ya.jsx)(p.Ss,{className:EA["btn-container"],children:(0,ya.jsx)(OM,{onClick:t,className:EA.btn,children:n.t("permissionMkfBtnIKnown")})})]})},CA={container:"index-module__container___kgGPm",text:"index-module__text___PED4_",focused:"index-module__focused___KIJ2K",touching:"index-module__touching___OarQg",outside:"index-module__outside___n2r5q",audio:"index-module__audio___cG9YB",primary:"index-module__primary___Amf4k","tips-container":"index-module__tips-container___FiYRN","left-duration":"index-module__left-duration___o_A5i","outside-tips":"index-module__outside-tips___DyUTp","tips-text":"index-module__tips-text___Nc334"},jA=50,TA=function(e){var t=e.isTouching,n=e.isOutside,r=e.leftDuration,i=e.triggerType,o=Ek(),a="",s="touching-tips";return t&&(s="touching-tips",a="keyboard"===i?o.t("audioInputTooltipSend"):o.t("audioInputTooltipTouching")),r&&r<=10&&(s="time-limit-tips",a=o.t("audioInputTooltipTick",{duration:(0,ya.jsxs)(p.EY,{className:CA["left-duration"],children:[r," \u02dd"]})})),t&&n&&(s="outside-tips",a=o.t("audioInputTooltipCancel")),a?(0,ya.jsxs)(Mu,{verticalCenter:!0,horizontalCenter:!0,gap:4,className:h()(CA["tips-container"],(0,u.A)({},CA[s],!0)),children:["outside-tips"===s?(0,ya.jsx)(Ss,{}):null,(0,ya.jsx)(p.EY,{className:CA["tips-text"],overflow:"ellipsis",numberOfLines:1,maxLines:1,children:a})]}):null},zA=function(e){var t=e.onSendAudioMessage,n=e.type,r=void 0===n?"primary":n,i=e.frameEventTarget,o=e.isPcMode,a=e.disabled,s=e.focused,c=e.onAudioRecording,l=(0,ma.useState)(!1),d=(0,T.A)(l,2),f=d[0],v=d[1],g=(0,ma.useState)(!1),m=(0,T.A)(g,2),y=m[0],x=m[1],b=(0,ma.useRef)(!1),M=(0,ma.useRef)(),w=(0,ma.useState)(),k=(0,T.A)(w,2),A=k[0],_=k[1],I=(0,ma.useState)(0),N=(0,T.A)(I,2),E=N[0],D=N[1],C=(0,ma.useState)(50),j=(0,T.A)(C,2),z=j[0],O=j[1],L=(0,ma.useRef)(),F=Ek();b.current=y,Q.debug("AudioInput start",b.current),Da((function(){null===c||void 0===c||c(f)}),[f]);var P=(0,ma.useCallback)((function(e){_(e),v(!0),M.current&&M.current.destroy(),da.stopNow();var n=!1;M.current=ua(),Q.debug("onMouseDown onTouching"),L.current=function(){clearTimeout(a),b.current&&(n=!0),v(!1),x(!1)},M.current.on(Wo.STOP,(function(e){var r,o;Q.debug("AudioInput stop triggered",e,b.current),n||b.current||!e.duration||(e.duration<1e3?Vo({content:F.t("audioInputErrorUnDetectContent"),icon:"error"},i):null===t||void 0===t||t(e)),null===(r=L.current)||void 0===r||r.call(L),null===(o=M.current)||void 0===o||o.destroy()})),M.current.on(Wo.PAUSE,(function(){var e;n=!0,null===(e=M.current)||void 0===e||e.stop(),D(0)})),M.current.on(Wo.INTERRUPT,(function(){var e;n=!0,null===(e=M.current)||void 0===e||e.stop()})),M.current.on(Wo.ERROR,(function(e){var t,r;n=!0,Q.error("AudioInput onError",e,e.code),e.code===Uo.Audio_Permission_Denied?ha({isNeedMask:!0,renderModal:function(e){return(0,ya.jsx)(DA,{hideModal:e})}},i):Vo({content:F.t("audioInputErrorRecord"),icon:"error"},i),null===(t=L.current)||void 0===t||t.call(L),null===(r=M.current)||void 0===r||r.destroy()})),M.current.on(Wo.VOLUME,(function(e){Q.debug("AudioInput_volume",e),D(e.volume)})),Q.debug("AudioInput register Event End"),M.current.start({numberOfChannels:1});var r=Date.now(),o=!1,a=0;function u(){a=setTimeout((function(){var e=Math.ceil((Date.now()-r)/1e3);if(Q.debug("AudioInput duration",e),e>jA-10){var t,n;if(O(jA-e),e>=jA)return null===(t=M.current)||void 0===t||t.stop(),void(null===(n=L.current)||void 0===n||n.call(L));if(!o){try{S().vibrateLong()}catch(e){Q.error("AudioInput vibrateLong error",e)}o=!0}}u()}),500)}u(),O(jA),v(!0)}),[]);(0,ma.useEffect)((function(){return function(){var e;null===(e=M.current)||void 0===e||e.destroy()}}),[]);var R="default"===r?"default":y?"warning":"primary",U=s||!o,B=a?F.t("audioInputDisabledText"):U?o?F.t("audioInputPcText"):F.t("audioInputMobileText"):o?F.t("unFocusInputText"):F.t("audioInputMobileText");return(0,ya.jsxs)(p.Ss,{className:h()(CA.container,(0,u.A)((0,u.A)((0,u.A)((0,u.A)({},CA.touching,f&&!a),CA.outside,y&&!a),CA[r],!0),CA.focused,U&&!a)),children:[(0,ya.jsx)(TA,{isTouching:f,isOutside:y,leftDuration:z,triggerType:A}),(0,ya.jsxs)(YM,{onTouching:P,onOutside:function(e){Q.debug("AudioInput OutSide touch",e),x(e)},onEnd:function(){var e,t;Q.debug("AudioInput recording onEnd"),null===(e=M.current)||void 0===e||e.stop(),null===(t=L.current)||void 0===t||t.call(L)},frameEventTarget:i,isPcMode:o,className:CA.audio,disabled:a,children:[(0,ya.jsx)(p.EY,{overflow:"ellipsis",numberOfLines:1,maxLines:1,userSelect:!1,className:CA.text,children:B}),f?(0,ya.jsx)(VM,{type:R,size:"medium",volumeNumber:5*E,className:CA.wave}):null]})]})},OA={container:"index-module__container___HvNwi",audio:"index-module__audio___dcTsP","chat-input-container":"index-module__chat-input-container___QQSpe","chat-input-content":"index-module__chat-input-content___oGXAs","op-container":"index-module__op-container___u5ZYg",divider:"index-module__divider___SuwSM",focused:"index-module__focused___HdeNo","audio-recording":"index-module__audio-recording___MzNdP","multi-mode-message":"index-module__multi-mode-message___kr9gm"},LA=n(2340)["document"],FA=1e3,PA=(0,ma.forwardRef)((function(e,t){var n=e.isNeedUpload,r=e.disabled,i=void 0!==r&&r,o=e.inputAdjustDefault,a=void 0===o||o,s=e.onSendFileMessage,c=e.onSendAudioMessage,l=e.isNeedAudio,d=void 0!==l&&l,f=e.placeholder,v=void 0===f?"Send Message":f,g=e.frameEventTarget,m=e.isPcMode,y=e.defaultInputType,x=void 0===y?Uk.Text:y,b=(0,ma.useMemo)((function(){return"chat-input-".concat(E(),"-").concat(FA++)}),[]),M=(0,ma.useState)(x),w=(0,T.A)(M,2),k=w[0],A=w[1],_=NA(e,{inputType:k}),I=_.onRecording,S=_.isRecording,N=_.isRealAudioInputFocusing,D=_A(e,{inputType:k,setInputType:A,isRecording:S}),C=D.taskMessage,j=D.isShowMultiModeMessage,z=kA(e,{inputId:b,taskMessage:C}),O=z.inputValue,L=z.setInputValue,F=z.focused,P=z.setFocused,R=z.toSendInputValue,U=z.onSendTextMessage,B=SA(e),Y=B.onKeyBoardHeightChange;return(0,ma.useImperativeHandle)(t,(function(){return{setInputValue:L}}),[]),Q.debug("ChatInput focused",{focused:F,inputType:k}),(0,ya.jsx)(ku,{className:OA.container,children:(0,ya.jsxs)(p.Ss,{className:h()(OA["chat-input-container"],(0,u.A)((0,u.A)((0,u.A)({},OA.focused,F||N),OA["audio-recording"],S),OA["multi-mode-message"],j)),children:[j?(0,ya.jsx)(ya.Fragment,{children:(0,ya.jsx)(mA,{taskMessage:C})}):null,(0,ya.jsxs)(Mu,{className:OA["chat-input-content"],children:[k===Uk.Voice?(0,ya.jsx)(zA,{onSendAudioMessage:c,type:m?"primary":"default",frameEventTarget:g,isPcMode:m,disabled:i,focused:F||N,onAudioRecording:I}):(0,ya.jsx)(hA,{id:b,focus:F,placeholder:v,adjustPosition:a,value:O,onSendTextMessage:U,onInputChange:function(e){L(e)},onFocus:function(e){null===Y||void 0===Y||Y(e.detail.height),P(!0)},onBlur:function(){null===Y||void 0===Y||Y(0),Q.debug("ChatInput onBlur"),P(!1)}}),(0,ya.jsxs)(Mu,{verticalCenter:!0,horizontalCenter:!0,className:OA["op-container"],children:[n?(0,ya.jsxs)(ya.Fragment,{children:[(0,ya.jsx)(cA,{onSendFileMessage:s,frameEventTarget:g,disabled:i}),(0,ya.jsx)(p.Ss,{className:OA.divider})]}):null,(0,ya.jsx)(MA,{inputDisabled:i,hasTextToSend:!!R,inputType:k,isNeedAudio:d,focused:F,onSendBtnClick:function(){U()},onKeyboardClick:function(){P(!1),A(Uk.Text),setTimeout((function(){var e;(P(!0),ae)&&(null===(e=LA.getElementById(b))||void 0===e||null===(e=e.querySelector("textarea"))||void 0===e||e.focus())}),100)},onMicrophoneClick:function(){A(Uk.Voice),P(!1)}})]})]})]})})})),RA={text:"index-module__text___Q_UAb","question-text":"index-module__question-text___RR04n"},UA=function(e){var t=e.content,n=e.isLoadingText;return(0,ya.jsx)(ya.Fragment,{children:n?(0,ya.jsx)(wM,{className:h()(RA["question-text"],RA.text),isNeedBorder:!1,children:(0,ya.jsx)(EM,{})}):(0,ya.jsx)(_M,{text:t,enter:!0,space:!0,className:h()(RA["question-text"],RA.text),isNeedBorder:!1})})},BA={image:"index-module__image___QJzjz"},YA=function(e){var t=e.url,n=e.onImageClick,r=(0,ma.useState)(),i=(0,T.A)(r,2),o=i[0],a=i[1];return(0,ya.jsx)(p.Ss,{children:(0,ya.jsx)(p._V,{src:t,mode:"widthFix",className:BA.image,style:{width:o},onClick:function(){n?null===n||void 0===n||n({url:t}):(0,I.previewImage)({urls:[t],current:t,enableShowPhotoDownload:!0})},onLoad:function(e){ae||a(e.detail.width||200)}})})},QA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAABGdBTUEAALGPC/xhBQAAALRQTFRFxcXKxcXMysrKycnMxsbMxcXOysrPyMjPxcXNxsbPxsbOxsbMxsbPxcXMxsbNxsbNx8fNxcXNx8fPxcXNxsbPxsbLxsbNxsbMv7/PxMTNx8fOx8fLx8fPxcXLxsbNxsbOxcXNx8fPz8/PxsbNAAAAx8fPy8vRzc3U2dne1tbb0NDWy8vSysrR0dHXx8fOzMzS3Nzg2dnd29vfzc3T29vg1NTZ19fc2trfycnPzs7V3d3hxsbNMdct9wAAACV0Uk5TMLAwUM/PMI+QUM+Qb5CvkGBgQICPcO9QEHC/QH+AcL/vIBDfAAS5/6EAAAJySURBVFjD1ZjZltowDIbdbfayDRACJMQ2nXY67BBi7Pd/r3qAchLHUuwMveh/SXQ+ZNmSLZEpLHYT3jY4V1r8YXIbdhDbKQEp4SRRpiZt6gfSFAVo0nYHsXGiEPExdQJVYE4oB1CHKwfx+woQ6ypHdRkGolw5i1MY1EmUh/oBBHpSnortoLHy1tgGelI1FJdBgaqlkQmiST1QnxZBjKua4qwA6qra6uZB97DdW5pJuU63VWE6gcCFib08KxP44gh6gmY7edHqBbJ6/gsCM0zkOJoE+dRnZxDoUCYL2mMuESRCW2loibikQW3oj1ITlCKZokFD6PPaBGXgjfAOouABkSWBpkyD2tcAxRoErszcNCl/KXhtZAqfffdg630jHRi0NEE/YdsbEiKJvXfctPcgkTvkq9jkOTuBmDbJEKs1sxxpN8MsP5GvaNUSl53bC7xQkqoau031Ac/SZVXFJepK+r9Ai+2hoLcFBoKCvZjvy0m7PgjfXdvupFXZwW7/jTSsv88lqLk9/e0pcpCIfttTJETPs02rH9ak/ezrkN2lERkkleXDlO1+s5faDQ5a2Utt6FL1q+6AlgYNrgGi9gvSG3S8IC1r8wa1jqDyvm08Qfz8Gnn23P5X0z46g0ouCdSl0m1ybG+OT7+SS+IVxpRvgejyhhzwj9RGnnvVjj4CCvIP9u/1OY+Fl//gWi1E7aYmoWabVTNMX8qNX68Op2drRSN/TmRvjnv1/THa9cAr4sno3w8Q9HlyPpmPrGLIErgNWUYO86OoEpVEzGkQRXGUDQPO2FrgY3cSM79hHbWwEoiCgY75FzeHD6fxIW80Y8IQ2z+l8y842LtdxwAAAABJRU5ErkJggg==",HA={avatar:"index-module__avatar____dBFO",medium:"index-module__medium___Q0NpQ",large:"index-module__large___bUcFb"},VA=function(e){var t=e.className,n=e.src,r=e.size,i=void 0===r?"medium":r,o=(0,ma.useState)(!1),a=(0,T.A)(o,2),s=a[0],c=a[1];return(0,ma.useEffect)((function(){c(!1)}),[n]),(0,ya.jsx)(Jk,{src:s?QA:n,className:h()(HA.avatar,t,(0,u.A)({},HA[i||""],!0)),onError:function(){return!s&&c(!0)},mode:"aspectFill"})},GA={content:"index-module__content____XWPE",txt:"index-module__txt___weWYQ"},WA=function(e){var t,n=e.children,r=e.senderInfo,i=e.className,o=e.messageWrapperConf,a=e.isQuery,u=e.chatGroup,s=(0,ma.useMemo)((function(){var e,t;return null===o||void 0===o||null===(e=o.senderName)||void 0===e||null===(t=e.renderRightSlot)||void 0===t?void 0:t.call(e,{isQuery:a,chatGroup:u})}),[a,u,null===o||void 0===o||null===(t=o.senderName)||void 0===t?void 0:t.renderRightSlot]);return(0,ya.jsxs)(Mu,{gap:12,className:i,children:[(0,ya.jsx)(p.Ss,{children:(0,ya.jsx)(VA,{src:(null===r||void 0===r?void 0:r.avatar)||QA,size:"medium"})}),(0,ya.jsxs)(Mu,{vertical:!0,flex1:!0,gap:5,className:GA.content,children:[null!==r&&void 0!==r&&r.name||s?(0,ya.jsxs)(Mu,{className:GA["sender-name-container"],width100:!0,verticalCenter:!0,gap:8,children:[null!==r&&void 0!==r&&r.name?(0,ya.jsx)(p.EY,{numberOfLines:1,overflow:"ellipsis",maxLines:1,className:GA.txt,children:null===r||void 0===r?void 0:r.name}):null,s]}):null,n]})]})},qA=function(e){if("card"===e.content_type){var t,n=m(e.content),r=null===n||void 0===n||null===(t=n.x_properties)||void 0===t?void 0:t.workflow_card_info;if(r){var i=m(r);if("QUESTION"===(null===i||void 0===i?void 0:i.card_type)&&null!==i&&void 0!==i&&i.question_card_data)return i;if("INPUT"===(null===i||void 0===i?void 0:i.card_type)&&null!==i&&void 0!==i&&i.input_card_data)return i}}},ZA={container:"index-module__container___jGe6V",svg:"index-module__svg___l4vUi",txt:"index-module__txt___AbU7P",size:"index-module__size___HJ25m",file:"index-module__file___TV_F2"},JA=function(e){return e<1024?"".concat(e,"B"):e<1048576?"".concat((e/1024).toFixed(2),"KB"):"".concat((e/1048576).toFixed(2),"MB")},KA=function(e){var t=e.filename,n=e.size,r=(0,ma.useMemo)((function(){return A(t)}),[t]);return(0,ya.jsx)(p.Ss,{className:ZA.file,children:(0,ya.jsxs)(wM,{className:ZA.container,children:[(0,ya.jsx)(Es,{type:r,className:ZA.svg}),(0,ya.jsxs)(Mu,{vertical:!0,gap:0,flex1:!0,children:[(0,ya.jsx)(p.EY,{className:ZA.txt,maxLines:1,numberOfLines:1,overflow:"ellipsis",children:t}),(0,ya.jsx)(p.EY,{className:ZA.size,maxLines:1,numberOfLines:1,overflow:"ellipsis",children:JA(n)})]})]})})},XA={"input-node":"index-module__input-node___GuU9B",btn:"index-module__btn___Lmvxu","input-node-input":"index-module__input-node-input___emNKV",disabled:"index-module__disabled___ZlRQZ","switch-node":"index-module__switch-node___gO_mh","switch-node-text":"index-module__switch-node-text___h4yug","switch-node-switch-item":"index-module__switch-node-switch-item___Lp8kV"},$A=function(e){var t,n=e.data,r=e.sendTextMessage,i=e.disabled,o=(0,ma.useState)({}),a=(0,T.A)(o,2),s=a[0],l=a[1],d=(0,ma.useState)(!1),f=(0,T.A)(d,2),v=f[0],g=f[1],m=i||v,y=Ek();return(0,ya.jsxs)(Mu,{className:h()(XA["input-node"],(0,u.A)({},XA.disabled,m)),gap:12,vertical:!0,children:[null===n||void 0===n||null===(t=n.input_card_data)||void 0===t?void 0:t.map((function(e,t){return(0,ya.jsxs)(Mu,{gap:6,vertical:!0,children:[(0,ya.jsx)(p.EY,{className:XA["input-node-text"],overflow:"ellipsis",numberOfLines:1,children:null===e||void 0===e?void 0:e.name}),(0,ya.jsx)(p.pd,{className:XA["input-node-input"],maxlength:-1,disabled:i||v,placeholder:y.t("chatflowNodeInputPlaceholder"),onInput:function(t){l(c(c({},s),{},(0,u.A)({},e.name,t.detail.value||"")))}})]},t)})),(0,ya.jsx)(OM,{className:XA.btn,onClick:function(){var e;m||(g(!0),null===r||void 0===r||r((null===n||void 0===n||null===(e=n.input_card_data)||void 0===e?void 0:e.map((function(e){return"".concat(e.name,":").concat(s[e.name]||"")})).join("\n"))||""))},children:y.t("submit")})]})},e_=function(e){var t,n,r=e.data,i=e.disabled,o=e.sendTextMessage,a=(0,ma.useState)(!1),s=(0,T.A)(a,2),c=s[0],l=s[1],d=i||c;return(0,ya.jsxs)(p.Ss,{className:h()(XA["switch-node"],(0,u.A)({},XA.disabled,d)),children:[(0,ya.jsx)(p.EY,{className:XA["switch-node-text"],children:null===r||void 0===r||null===(t=r.question_card_data)||void 0===t?void 0:t.Title}),(0,ya.jsx)(Mu,{vertical:!0,gap:6,children:null===r||void 0===r||null===(n=r.question_card_data)||void 0===n||null===(n=n.Options)||void 0===n?void 0:n.map((function(e,t){return(0,ya.jsx)(p.Ss,{className:XA["switch-node-switch-item"],onClick:function(){i||(l(!0),null===o||void 0===o||o(e.name))},children:(0,ya.jsx)(p.EY,{className:XA["switch-node-switch-item-text"],children:e.name})},t)}))})]})},t_=function(e){var t=e.message,n=e.sendTextMessage,r=e.disabled,i=(0,ma.useMemo)((function(){return qA(t)}),[t]);return i?(0,ya.jsxs)(ya.Fragment,{children:["INPUT"===i.card_type?(0,ya.jsx)($A,{data:i,sendTextMessage:n,disabled:r}):null,"QUESTION"===i.card_type?(0,ya.jsx)(e_,{data:i,sendTextMessage:n,disabled:r}):null]}):null},n_=function(e){return m(e,[])},r_=function(e){var t=e.message,n=e.isAWaiting,r=Ek();return(0,ya.jsxs)(DM,{fallbackNode:n?(0,ya.jsx)(ya.Fragment,{}):(0,ya.jsx)(UA,{content:r.t("noAnswer")}),children:["text"===t.content_type?(0,ya.jsx)(i_,c({},e)):null,"object_string"===t.content_type?(0,ya.jsx)(o_,c({},e)):null,"card"===t.content_type?(0,ya.jsx)(a_,c({},e)):null]})},i_=function(e){var t=e.message,n=e.isAWaiting,r=e.onImageClick,i=e.onLinkClick,o=e.onTaskChange,a=e.messageUiConfigMap,u=e.isLastMessage,s=(null===a||void 0===a?void 0:a.text)||{},c=s.renderMessage;return"text"!==t.content_type?null:(0,ya.jsx)(ya.Fragment,{children:(null===c||void 0===c?void 0:c(e))||(0,ya.jsx)(ya.Fragment,{children:"question"===t.type?(0,ya.jsx)(UA,{content:t.content,isLoadingText:t.isAudioTranslatingToText}):(0,ya.jsx)(tA,{reasoningContent:t.reasoning_content,content:t.content,isComplete:!n||t.isComplete,onImageClick:r,onLinkClick:i,onTaskChange:o,taskDisabled:!u})})})},o_=function(e){var t,n=e.message,r=e.onImageClick,i=e.messageUiConfigMap,o=e.onTaskChange,a=e.onLinkClick,u=e.isLastMessage,s=Ek(),c=(null===i||void 0===i?void 0:i.text)||{},l=c.renderMessage;return"object_string"!==n.content_type?null:(0,ya.jsx)(ya.Fragment,{children:(null===l||void 0===l?void 0:l(e))||(null===(t=n_(n.content))||void 0===t?void 0:t.map((function(e,t){switch(e.type){case"text":return(0,ya.jsx)(ya.Fragment,{children:"question"===n.type?(0,ya.jsx)(UA,{content:e.text,isLoadingText:n.isAudioTranslatingToText}):(0,ya.jsx)(tA,{content:e.text,isComplete:!0,onLinkClick:a,onImageClick:r,onTaskChange:o,taskDisabled:!u})});case"file":return(0,ya.jsx)(KA,{filename:e.name||"",size:e.size||0},"".concat(e.type,"_").concat(t));case"image":return(0,ya.jsx)(YA,{url:e.file_url,onImageClick:r},"".concat(e.type,"_").concat(t));default:return(0,ya.jsx)(UA,{content:s.t("messageTypeUnSupport")},"".concat(e.type,"_").concat(t))}})))})},a_=function(e){var t=e.message,n=e.messageUiConfigMap,r=e.sendTextMessage,i=e.isLastMessage,o=e.isReadOnly,a=(null===n||void 0===n?void 0:n.card)||{},u=a.renderMessage,s=(null===n||void 0===n?void 0:n.chatflow_node)||{},c=s.renderMessage,l=qA(t),d=Boolean(l);return"card"!==t.content_type?null:(0,ya.jsx)(ya.Fragment,{children:d?(null===c||void 0===c?void 0:c(e))||(0,ya.jsx)(t_,{message:t,sendTextMessage:r,disabled:!i||o}):(null===u||void 0===u?void 0:u(e))||null})},u_={waiting:"index-module__waiting___XMj3z"},s_=function(){return(0,ya.jsx)(wM,{isNeedBorder:!1,className:u_.waiting,children:(0,ya.jsx)(EM,{})})},c_=function(e,t){var n,r,i,o=qA(e),a=o?"chatflow_node":e.content_type;return"answer"===e.type&&(null!==t&&void 0!==t&&null!==(n=t[a])&&void 0!==n&&n.isSupportMessage?null===t||void 0===t||null===(r=t[a])||void 0===r||null===(i=r.isSupportMessage)||void 0===i?void 0:i.call(r,e):!(!e.content&&!e.reasoning_content)&&!!["object_string","text","chatflow_node"].includes(a))},l_=n(2340)["document"],d_=function(e){var t=Ck((function(e){return e.event})),n=Dk((function(e){var t;return null===(t=e.ui)||void 0===t||null===(t=t.chatSlot)||void 0===t||null===(t=t.base)||void 0===t?void 0:t.isFrameAutoFocus})),r=(0,ma.useRef)(!0);r.current=null===n||void 0===n||n,(0,ma.useEffect)((function(){if(ae&&e){var n=l_.getElementById(e),i=!1;if(n){var o=function(n){Q.debug("Frame Target keydown"),t.trigger(y.KeyDown,{chatFrameId:e,code:n.code})},a=function(n){Q.debug("Frame Target keyup",n),t.trigger(y.KeyUp,{chatFrameId:e,code:n.code})},u=function(){Q.debug("Frame Target focus"),i=!0,t.trigger(y.FrameFocus,{chatFrameId:e})},s=function(){Q.debug("Frame Target  blur"),i=!1,t.trigger(y.FrameBlur,{chatFrameId:e})},c=function(){!1!==r.current&&(n.focus(),i&&(null===u||void 0===u||u()))};return n.addEventListener("keydown",o),n.addEventListener("keyup",a),n.addEventListener("focus",u),n.addEventListener("blur",s),t.on(y.TriggerFocus,c),n.setAttribute("tabindex","-1"),!1!==r.current&&setTimeout((function(){n.focus()}),1e3),function(){n.removeEventListener("keydown",o),n.removeEventListener("keyup",a),n.removeEventListener("focus",u),n.removeEventListener("blur",s),t.off(y.TriggerFocus,c)}}}}),[e])},f_={"chat-toast":"index-module__chat-toast___jgmow",container:"index-module__container___v220l"},h_=function(){var e=(0,ma.useState)(),t=(0,T.A)(e,2),n=t[0],r=t[1],i=Ck((function(e){return e.event}));return(0,ma.useEffect)((function(){i.on(y.ChatToastShow,(function(e){r(e)}))}),[i]),(0,ma.useEffect)((function(){var e=setTimeout((function(){r(void 0)}),Math.max(Math.min(1e4,(null===n||void 0===n?void 0:n.duration)||6e3),3e3));return function(){clearTimeout(e)}}),[n]),n&&n.content?(0,ya.jsx)(p.Ss,{className:f_["chat-toast"],children:(0,ya.jsx)(PM,{className:f_.container,icon:n.icon,isNeedClose:!1,children:n.content})}):null},p_={"scroll-container":"index-module__scroll-container___gau2D",loading:"index-module__loading___fiUx7"},v_=function(e){var t=e.onScrollToUpper,n=Ek(),r=Ik((function(e){return{prevError:e.prevError,prevHasMore:e.prevHasMore}})),i=r.prevError,o=r.prevHasMore,a=o;return(0,ya.jsx)(ya.Fragment,{children:i?(0,ya.jsx)(Wk,{errorText:n.t("messageListRetry",{retry:(0,ya.jsx)(qk,{retryText:n.t("retryBtn"),onClick:function(){null===t||void 0===t||t()}})})}):a?(0,ya.jsx)(SM,{text:n.t("messageListLoading"),className:p_.loading,size:"small"}):null})},g_=function(e){var t=e.children,n=(0,ma.useRef)(null),r=Uw(),i=r.upperThreshold,o=r.onScrollToUpper,a=Ik((function(e){return{isUnshiftingMessageFlag:e.isUnshiftingMessageFlag,clearUnshiftingMessageFlg:e.clearUnshiftingMessageFlg}})),u=a.isUnshiftingMessageFlag,s=a.clearUnshiftingMessageFlg,c=Ik((function(e){return!!e.inProcessChatMessageGroup})),l=Ck((function(e){return e.event}));(0,ma.useEffect)((function(){u&&s()}),[u]);var d=(0,ma.useMemo)((function(){return(0,ya.jsxs)(ya.Fragment,{children:[(0,ya.jsx)(v_,{onScrollToUpper:o}),t]})}),[t,o]);return(0,ma.useEffect)((function(){l.on(y.ChatSlotToBottom,(function(){var e;null===(e=n.current)||void 0===e||e.scrollToBottom()})),l.on(y.ChatSlotScrollToAnchorBottom,(function(){var e;null===(e=n.current)||void 0===e||e.scrollToAnchorBottom()})),l.on(y.ChatSlotRemoveAnchorBottom,(function(){var e;null===(e=n.current)||void 0===e||e.removeAnchorBottom()}))}),[]),Da((function(){var e,t;c?null===(e=n.current)||void 0===e||e.scrollToAnchorBottom():null===(t=n.current)||void 0===t||t.removeAnchorBottom()}),[c]),Q.debug("ScrollView props isUnshiftingMessageFlag",{isUnshiftingMessageFlag:u}),(0,ya.jsx)(pw,{ref:n,className:h()(p_["scroll-container"]),scrollY:!0,isLoadMore:u,lowerThreshold:i,onScrollToLower:o,isNeedHelper:!0,children:d})},m_=function(e){var t=(0,ma.useState)(0),n=(0,T.A)(t,2),r=n[0],i=n[1],o=Dk((function(e){var t;return null===(t=e.ui)||void 0===t?void 0:t.isMiniCustomHeader})),a=!0!==o,u=(0,ma.useCallback)(function(){var t=ve(K().mark((function t(n){var r,o,u,s,c,l,d;return K().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=2;break}return t.abrupt("return");case 2:if(0!==n){t.next=5;break}return i(0),t.abrupt("return");case 5:return t.next=7,j();case 7:return r=t.sent,o=(0,T.A)(r,1),u=o[0],t.next=12,C("#".concat(e));case 12:s=t.sent,c=(0,T.A)(s,1),l=c[0],d=u.height-l.bottom,n>d&&i(n-d);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return Q.info("Chat Input's inputAdjust value:",{inputAdjustDefault:a,isMiniCustomHeader:o}),{changeInputLocation:u,bottomOffset:r,inputAdjustDefault:a}},y_=function(e){var t=e.type,n=void 0===t?"circle-btn":t,r=e.svgTheme,i=Bw(),o=i.clearMessage,a=Sk((function(e){return e.disableState})),u=a.clearMessage,s=Ik((function(e){return{sectionId:e.sectionId,chatMessageGroups:e.chatMessageGroups}})),c=s.chatMessageGroups,l=c.length>0;return(0,ya.jsx)(ku,{disabled:u||!l,children:(0,ya.jsx)(iw,{onClick:o,type:n,hoverTheme:"light"===r?"none":"hover",bgColor:"bold",children:(0,ya.jsx)(fs,{theme:r})})})},x_=function(e){var t=e.type,n=void 0===t?"circle-btn":t,r=e.svgTheme,i=Jw(),o=i.clearContext,a=Sk((function(e){return e.disableState})),u=a.clearContext,s=Ik((function(e){return{sectionId:e.sectionId,chatMessageGroups:e.chatMessageGroups}})),c=s.sectionId,l=s.chatMessageGroups,d=(0,ma.useMemo)((function(){var e,t;if(0===l.length)return!1;if(c&&null!==(e=l[l.length-1])&&void 0!==e&&e.sectionId&&c!==(null===(t=l[l.length-1])||void 0===t?void 0:t.sectionId))return!1;return!0}),[c,l]);return(0,ya.jsx)(ku,{disabled:u||!d,children:(0,ya.jsx)(iw,{onClick:o,type:n,hoverTheme:"light"===r?"none":"hover",bgColor:"bold",children:(0,ya.jsx)(hs,{theme:r})})})},b_=function(e){var t,n,r=Dk((function(e){return e.ui})),i=Object.assign({isNeed:!0,position:"inputLeft",SlotComponent:x_},(null===r||void 0===r||null===(t=r.chatSlot)||void 0===t?void 0:t.clearContext)||{}),o=Lk(),a=Object.assign({isNeed:!0,position:"headerRight",SlotComponent:y_},(null===r||void 0===r||null===(n=r.chatSlot)||void 0===n?void 0:n.clearMessage)||{});return Q.debug("useCommandSlot",{clearContextConfig:i,clearMessageConfig:a,position:e,ui:r}),[i,a].filter((function(t){return t.isNeed&&t.position===e})).map((function(e){var t=e.position,n=e.SlotComponent;return"headerRight"===t?(0,ya.jsx)(n,{type:"square-hover-btn",svgTheme:"bg-theme"===o?"light":"dark"}):(0,ya.jsx)(n,{svgTheme:"dark"})}))},M_={container:"index-module__container___gVDAl","slot-container":"index-module__slot-container___JGyfP","command-container":"index-module__command-container___tTP9h","recording-audio":"index-module__recording-audio___y6wVx","input-container":"index-module__input-container___Q3qBp"},w_=1,k_=function(){var e,t,n=Ek(),r=(0,ma.useRef)(null),i=qw(),o=i.sendTextMessage,a=i.sendFileMessage,s=i.sendAudioMessage,c=Sk((function(e){return e.disableState})),l=c.input,d=Dk((function(e){return e.ui})),f=Sk((function(e){return e.setIsAudioRecording})),v=Sk((function(e){return e.isAudioRecording})),g=jk((function(e){return e.taskList})),m=Yk(),y=Qk(),x=null===d||void 0===d||null===(e=d.chatSlot)||void 0===e?void 0:e.input,b=null===d||void 0===d||null===(t=d.chatSlot)||void 0===t?void 0:t.uploadBtn,M=null===x||void 0===x?void 0:x.renderChatInputTopSlot,w=(0,ma.useMemo)((function(){return"chatInput_".concat(E(),"_").concat(w_++)}),[]),k=m_(w),A=k.changeInputLocation,_=k.bottomOffset,I=k.inputAdjustDefault,S=Ck((function(e){return e.event})),N=b_("inputLeft"),D=Pk(),C=Ca((function(e){f(e)})),j=jk((function(e){return e.initSetInputValueFunc}));return(0,ma.useEffect)((function(){j((function(e){var t;null===(t=r.current)||void 0===t||t.setInputValue(e)}))}),[]),Q.info("ChatInput input info",{isNeedAudio:m,inputType:y}),Q.debug("ChatInput configInfo:",x,g),!1===(null===x||void 0===x?void 0:x.isNeed)?null:(0,ya.jsxs)(p.Ss,{className:h()(M_.container,(0,u.A)({},M_["recording-audio"],v)),id:w,style:{bottom:"".concat(_,"px")},onTouchStart:function(e){e.stopPropagation()},children:[(0,ya.jsx)(p.Ss,{className:M_["slot-container"],children:null===M||void 0===M?void 0:M()}),(0,ya.jsxs)(Mu,{gap:0,verticalCenter:!0,width100:!0,style:{overflow:"visible",paddingTop:10},children:[N.length?(0,ya.jsx)(Mu,{gap:12,verticalCenter:!0,style:{overflow:"visible",width:v?0:46*N.length},className:M_["command-container"],children:N.map((function(e,t){return(0,ya.jsx)(ma.Fragment,{children:e},t)}))}):null,(0,ya.jsx)(p.Ss,{className:M_["input-container"],style:{maxWidth:v?"100%":"calc(100% - ".concat(46*N.length,"px)")},children:(0,ya.jsx)(PA,{ref:r,isNeedUpload:!1!==(null===b||void 0===b?void 0:b.isNeed),isNeedTaskMessage:null===x||void 0===x?void 0:x.isNeedTaskMessage,disabled:l,defaultValue:null===x||void 0===x?void 0:x.defaultText,defaultInputType:y,taskList:g,isNeedAudio:m||!1,placeholder:(null===x||void 0===x?void 0:x.placeholder)||n.t("chatInputPlaceholder"),onSendTextMessage:o,onSendFileMessage:a,onSendAudioMessage:s,onKeyBoardHeightChange:A,inputAdjustDefault:I,frameEventTarget:S,isPcMode:!D,onAudioRecording:C})})]})]})},A_=function(e){var t=e.messages,n=qw(),r=n.sendTextMessage;return(0,ya.jsx)(Xk,{suggestions:t.map((function(e){return e.content})),onClickSuggestion:r})},__={container:"index-module__container___zZqQg",text:"index-module__text___nVCNS"},I_=function(e){var t=e.text,n=e.isShowText,r=e.svgTheme,i=e.isNeedHover,o=e.className,a=Ck((function(e){return e.event})),u=Ek();return(0,ya.jsx)(ku,{className:h()(__.container,o),children:(0,ya.jsxs)(Mu,{width100:!0,onClick:function(e){e.stopPropagation(),S().eventCenter.trigger(y.FrameClick),va({data:t,success:function(e){e&&Vo({content:u.t("copySuccess"),icon:"success"},a)},fail:function(){Vo({content:u.t("copyFailed"),icon:"error"},a)}})},gap:8,children:[(0,ya.jsx)(iw,{size:"small",type:"square-hover-btn",hoverTheme:i?"hover":"none",children:(0,ya.jsx)(Is,{theme:r})}),n?(0,ya.jsx)(p.EY,{className:__.text,numberOfLines:1,maxLines:1,overflow:"ellipsis",children:u.t("copyText")}):null]})})},S_={container:"index-module__container___kPXif",text:"index-module__text___B2GCf"},N_=function(e){var t=e.isPlaying,n=e.isLoading,r=e.svgTheme;return n?(0,ya.jsx)(SM,{size:"small"}):(0,ya.jsx)(JM,{isPlaying:t,theme:r})},E_=function(e){var t=e.text,n=e.isShowText,r=e.svgTheme,i=e.isNeedHover,o=e.className,a=(0,ma.useState)(!1),u=(0,T.A)(a,2),s=u[0],c=u[1],l=(0,ma.useState)(!1),d=(0,T.A)(l,2),f=d[0],v=d[1],g=(0,ma.useRef)(null),m=$w(),y=m.audioSpeech,x=(0,ma.useRef)(!1),b=Ek(),M=Ck((function(e){return e.event})),w=Sk((function(e){return e.isAudioRecording}));x.current=s;var k=Ca((function(){Vo({content:b.t("playVoiceFail"),icon:"error"},M)}));return(0,ma.useEffect)((function(){if(s)return ve(K().mark((function e(){return K().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),g.current||(g.current=new da),g.current.on(ca.STOP,(function(e){Q.debug("CommandAudio Stop Audio Play",e),e.isError&&k(),c(!1)})),e.next=6,g.current.playText(t,y);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),k(),c(!1);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))(),function(){var e;null===(e=g.current)||void 0===e||e.stop(),v(!1),c(!1)}}),[s]),t?(0,ya.jsx)(ku,{disabled:w,className:h()(S_.container,o),children:(0,ya.jsxs)(Mu,{className:S_.container,width100:!0,onClick:function(){c(!s)},gap:8,children:[(0,ya.jsx)(iw,{size:"small",type:"square-hover-btn",hoverTheme:i?"hover":"none",children:(0,ya.jsx)(N_,{isLoading:f,isPlaying:s,svgTheme:r})}),n?(0,ya.jsx)(p.EY,{className:S_.text,numberOfLines:1,maxLines:1,overflow:"ellipsis",children:b.t("playVoice")}):null]})}):null},D_={"pc-content":"index-module__pc-content___tx1dk","mobile-content":"index-module__mobile-content___bCd_S"},C_=function(e){var t=e.children,n=e.message,r=e.isActive,i=Pk(),o=i?(0,ya.jsx)(T_,{message:n}):(0,ya.jsx)(j_,{message:n}),a=i?"top":"bottom";return(0,ya.jsx)(nw,{content:o,type:i?"longtap":"hover",isActive:"text"===n.content_type&&r&&""!==n.content,direction:a,children:t})},j_=function(e){var t=e.message,n=Vk();return(0,ya.jsxs)(Mu,{className:D_["pc-content"],gap:4,children:[n?(0,ya.jsx)(z_,{width:24,children:(0,ya.jsx)(E_,{text:t.content,svgTheme:"gray-bold",isNeedHover:!0})}):null,(0,ya.jsx)(z_,{width:24,children:(0,ya.jsx)(I_,{text:t.content,svgTheme:"gray-bold",isNeedHover:!0})})]})},T_=function(e){var t=e.message,n=Vk();return(0,ya.jsxs)(Mu,{className:D_["mobile-content"],vertical:!0,children:[n?(0,ya.jsx)(z_,{width:100,children:(0,ya.jsx)(E_,{text:t.content,svgTheme:"gray-bold",isShowText:!0,isNeedHover:!0})}):null,(0,ya.jsx)(z_,{width:100,children:(0,ya.jsx)(I_,{text:t.content,svgTheme:"gray-bold",isShowText:!0,isNeedHover:!0})})]})},z_=function(e){var t=e.children,n=e.width;return(0,ya.jsx)(p.Ss,{style:{width:n||24,height:24},children:t})},O_={resp:"index-module__resp___rLn4z",answer:"index-module__answer___u1DiN","resp-container":"index-module__resp-container___KZdMS"},L_=function(e){var t=e.messages,n=e.isAWaiting,r=e.isShowSuggestion,i=e.isLastMessage,o=e.chatGroup,a=_k((function(e){return e.info})),u=Dk((function(e){var t;return null===(t=e.setting)||void 0===t?void 0:t.cdnBaseUrlPath})),s=Dk((function(e){var t;return null===(t=e.ui)||void 0===t||null===(t=t.chatSlot)||void 0===t?void 0:t.message})),c=Dk((function(e){var t;return null===(t=e.ui)||void 0===t||null===(t=t.chatSlot)||void 0===t?void 0:t.messageWrapper})),l=(0,ma.useMemo)((function(){return t.filter((function(e){return c_(e,s)}))}),[t]),d=(0,ma.useMemo)((function(){return t.filter((function(e){return"follow_up"===e.type&&e.content})).slice(0,3)}),[t]);return n||0!==l.length||0!==d.length?(0,ya.jsx)(WA,{className:O_["resp-container"],senderInfo:{name:(null===a||void 0===a?void 0:a.name)||"",avatar:(null===a||void 0===a?void 0:a.icon_url)||ga(u,"assets/imgs/coze-logo.png"),id:(null===a||void 0===a?void 0:a.appId)||""},chatGroup:o,isQuery:!1,messageWrapperConf:c,children:(0,ya.jsx)(F_,{isAWaiting:n,isShowSuggestion:r,followUpMessages:d,answerMessages:l,isLastMessage:i})}):null},F_=function(e){var t=e.answerMessages,n=e.followUpMessages,r=e.isAWaiting,i=e.isShowSuggestion,o=e.isLastMessage,a=Vk(),u=Dk((function(e){var t;return null===(t=e.eventCallbacks)||void 0===t?void 0:t.onImageClick})),s=Dk((function(e){var t;return null===(t=e.eventCallbacks)||void 0===t?void 0:t.onLinkClick})),c=jk((function(e){return e.setTaskList})),l=Dk((function(e){var t;return null===(t=e.ui)||void 0===t||null===(t=t.chatSlot)||void 0===t?void 0:t.message})),d=Ek(),f=Lk(),h=Dk((function(e){var t;return null===(t=e.ui)||void 0===t?void 0:t.isReadonly})),p=qw(),v=p.sendTextMessage,g=Ca((function(e){c(e),Q.debug("RespMessageListContent Task Select",e)})),m="light"===f?"dark":"light",y=t.filter((function(e){return"text"===e.content_type})).map((function(e){return e.content})).join(""),x=r&&!t.some((function(e){return!e.isComplete}));return r&&0===t.length&&0===n.length?(0,ya.jsx)(s_,{}):(0,ya.jsxs)(Mu,{className:O_.resp,vertical:!0,gap:8,children:[t.length>0?(0,ya.jsxs)(ya.Fragment,{children:[(0,ya.jsx)(Mu,{vertical:!0,className:O_.answer,gap:8,children:t.map((function(e,i){return(0,ya.jsx)(C_,{message:e,isActive:!o&&!h,children:(0,ya.jsx)(r_,{message:e,onImageClick:u,onLinkClick:s,sendTextMessage:v,i18n:d,isLastMessage:o,isReadOnly:h,isAWaiting:0===n.length&&t.length-1===i&&r&&!e.isComplete,onTaskChange:g,messageUiConfigMap:l})},e.id||"noId_".concat(i))}))}),o&&!r&&y?(0,ya.jsxs)(Mu,{gap:4,verticalCenter:!0,children:[a?(0,ya.jsx)(E_,{text:y,svgTheme:m,isNeedHover:"dark"===m}):null,(0,ya.jsx)(I_,{text:y,svgTheme:m,isNeedHover:"dark"===m})]}):null]}):null,n.length>0&&i?(0,ya.jsx)(A_,{messages:n}):null,x?(0,ya.jsx)(s_,{}):null]})},P_={"query-message":"index-module__query-message___mYIv4","state-slot":"index-module__state-slot___q4UZG",disable:"index-module__disable___FmMZJ","query-container":"index-module__query-container___VoPoo"},R_=(0,ma.memo)((function(e){var t=e.message,n=e.isAWaiting,r=void 0!==n&&n,i=e.hasRespMessage,o=e.isLastMessage,a=void 0!==o&&o,s=e.chatGroup,c=Nk((function(e){return e.info})),l=qw(),d=l.reSendLastErrorMessage,f=t.error&&!i,v=!f&&r&&!t.chat_id,g=qw(),m=g.sendTextMessage,y=Dk((function(e){var t;return null===(t=e.eventCallbacks)||void 0===t?void 0:t.onImageClick})),x=Dk((function(e){var t;return null===(t=e.ui)||void 0===t||null===(t=t.chatSlot)||void 0===t?void 0:t.messageWrapper}));return(0,ya.jsx)(WA,{senderInfo:c||void 0,className:P_["query-container"],isQuery:!0,chatGroup:s,messageWrapperConf:x,children:(0,ya.jsxs)(p.Ss,{className:P_["query-message"],children:[(0,ya.jsx)(C_,{message:t,isActive:!t.isAudioTranslatingToText,children:(0,ya.jsx)(r_,{message:t,onImageClick:y,sendTextMessage:m})}),v?(0,ya.jsx)(SM,{className:P_["state-slot"],size:"small"}):null,f?(0,ya.jsx)(ms,{className:h()(P_["state-slot"],(0,u.A)({},P_.disable,!a)),onClick:function(){return a&&(null===d||void 0===d?void 0:d())}}):null]})})})),U_={"chat-group":"index-module__chat-group___6SLY7"},B_=(0,ma.memo)((function(e){var t,n=e.chatGroup,r=e.isProcessing,i=void 0!==r&&r,o=e.isLastMessage,a=void 0!==o&&o,u=e.isShowSuggestion,s=void 0!==u&&u;return(0,ya.jsxs)(Mu,{vertical:!0,gap:16,className:h()(U_["chat-group"],"chat-group-for-query"),"data-groupId":n.id,children:[n.query?(0,ya.jsx)(R_,{message:n.query,isAWaiting:i||!1,hasRespMessage:!!n.respMessages.length,isLastMessage:a,chatGroup:n}):null,(0,ya.jsx)(L_,{messages:n.respMessages,isLastMessage:a,isAWaiting:i&&!(null===(t=n.query)||void 0===t||!t.chat_id),isShowSuggestion:s,chatGroup:n})]})})),Y_={"divide-container":"index-module__divide-container___YHN6_","divide-line":"index-module__divide-line___bC4dm"},Q_=function(e){var t=e.chatMessageGroupNow,n=e.chatMessageGroupNext,r=Ik((function(e){return{hasInProcessChatMessageGroup:!!e.inProcessChatMessageGroup,sectionId:e.sectionId}})),i=r.hasInProcessChatMessageGroup,o=r.sectionId,a=(0,ma.useMemo)((function(){if(n){if(n.sectionId!==t.sectionId)return!0}else if(t.sectionId!==o)return!0;return!1}),[t,n,o]),u=(0,ma.useMemo)((function(){return!(!a||i||n)}),[a,i,n,o]),s=(null===n||void 0===n?void 0:n.sectionId)||o;return a?(0,ya.jsx)(H_,{isShowDivide:a,isShowSuggestion:u,nextSectionId:s}):null},H_=function(e){var t=e.isShowDivide,n=e.isShowSuggestion,r=e.nextSectionId,i=Zw(r),o=Ek();return(0,ya.jsxs)(p.Ss,{children:[t?(0,ya.jsxs)(Mu,{gap:20,className:Y_["divide-container"],verticalCenter:!0,horizontalCenter:!0,children:[(0,ya.jsx)(p.Ss,{className:Y_["divide-line"]}),(0,ya.jsx)(p.EY,{children:o.t("clearContextDivide")}),(0,ya.jsx)(p.Ss,{className:Y_["divide-line"]})]}):null,i?(0,ya.jsx)(B_,{chatGroup:i,isShowSuggestion:n}):null]})},V_=function(){var e=Ik((function(e){return{isShowOnBoarding:e.isShowOnBoarding,chatMessageGroups:e.chatMessageGroups,inProcessChatMessageGroup:e.inProcessChatMessageGroup,prevHasMore:e.prevHasMore}})),t=e.isShowOnBoarding,n=e.prevHasMore;return t()||n?null:(0,ya.jsx)(H_,{isShowDivide:!1,isShowSuggestion:!1})},G_={container:"index-module__container___Dizhf","chat-group":"index-module__chat-group___wh61L",mobile:"index-module__mobile___S2mXb",selectable:"index-module__selectable___ym4dT"},W_=function(e){var t=e.chatMessageGroups,n=e.className,r=Ik((function(e){return{hasInProcessChatMessageGroup:!!e.inProcessChatMessageGroup,sectionId:e.sectionId}})),i=r.hasInProcessChatMessageGroup,o=r.sectionId;return(0,ya.jsx)(p.Ss,{className:h()(G_["chat-group"],n),children:t.map((function(e,n){return(0,ya.jsxs)(ma.Fragment,{children:[(0,ya.jsx)(B_,{chatGroup:e,isLastMessage:n===t.length-1&&!i,isShowSuggestion:n===t.length-1&&!i&&o===e.sectionId}),(0,ya.jsx)(Q_,{chatMessageGroupNow:e,chatMessageGroupNext:t[n+1]})]},e.id)}))})},q_=function(){var e=Ik((function(e){return{inProcessChatMessageGroup:e.inProcessChatMessageGroup}})),t=e.inProcessChatMessageGroup;return t?(0,ya.jsx)(B_,{chatGroup:t,isLastMessage:!0,isProcessing:!0,isShowSuggestion:!0}):null},Z_=function(){var e=Ik((function(e){return{chatMessageGroups:e.chatMessageGroups}})),t=e.chatMessageGroups,n=Pk();return(0,ya.jsxs)(p.Ss,{className:h()(G_.container,(0,u.A)({},G_.mobile,n)),children:[(0,ya.jsx)(V_,{}),(0,ya.jsx)(W_,{chatMessageGroups:t}),(0,ya.jsx)(q_,{})]})},J_={slot:"index-module__slot___fk_Pq"},K_=(0,ma.memo)((function(){var e=_k((function(e){return{chatInfo:e.info}})),t=e.chatInfo,n=Dk((function(e){var t;return null===(t=e.eventCallbacks)||void 0===t?void 0:t.onImageClick})),r=qw(),i=r.sendTextMessage,o=Nk((function(e){return e.info})),a=Ik((function(e){return{isShowOnBoarding:e.isShowOnBoarding,chatMessageGroups:e.chatMessageGroups,inProcessChatMessageGroup:e.inProcessChatMessageGroup}})),u=a.isShowOnBoarding;return Q.debug("ChatOnBoarding:",t,u()),u()?(0,ya.jsx)(rA,{user:o||void 0,chat:t||void 0,onImageClick:n,onClickSuggestion:function(e){null===i||void 0===i||i(e)}}):null})),X_=(0,ma.memo)((function(e){var t=e.className,n=Rk(),r=Dk((function(e){var t;return null===(t=e.ui)||void 0===t?void 0:t.chatSlotClassName}));Q.debug("ChatSlot maxWidth",n);var i=(0,ma.useMemo)((function(){return(0,ya.jsxs)(ya.Fragment,{children:[(0,ya.jsx)(K_,{}),(0,ya.jsx)(Z_,{})]})}),[]);return(0,ya.jsxs)(p.Ss,{className:h()(J_.slot,r,t),style:{maxWidth:n},children:[(0,ya.jsx)(g_,{children:i}),(0,ya.jsx)(k_,{})]})})),$_={"modal-container":"index-module__modal-container___Uu7Dd",modal:"index-module__modal___p1pXe",mask:"index-module__mask___mWeS3"},eI=function(e){var t=e.children,n=e.onHide,r=e.isNeedMask,i=void 0===r||r,o=(0,ma.useState)(!0),a=(0,T.A)(o,2),u=a[0],s=a[1];return u?(0,ya.jsxs)(p.Ss,{className:$_["modal-container"],children:[i?(0,ya.jsx)(p.Ss,{className:$_.mask,onClick:function(){s(!0),n()}}):null,(0,ya.jsx)(p.Ss,{className:$_.modal,children:t})]}):null},tI=1e3,nI=function(){var e=(0,ma.useState)(),t=(0,T.A)(e,2),n=t[0],r=t[1],i=(0,ma.useMemo)((function(){return"modal_".concat(tI++)}),[n]),o=Ck((function(e){return e.event}));(0,ma.useEffect)((function(){o.on(y.ChatModalShow,(function(e){r(e)}))}),[o]);var a=(0,ma.useCallback)((function(){r(void 0)}),[]);return n&&n.renderModal?(0,ya.jsx)(eI,{onHide:a,children:n.renderModal(a)},i):null},rI={loading:"index-module__loading___fN4Om"},iI=function(){var e=Dk((function(e){var t;return null===(t=e.ui)||void 0===t||null===(t=t.loading)||void 0===t?void 0:t.renderLoading})),t=Rk();return e?(0,ya.jsx)(p.Ss,{className:rI.loading,children:e()}):(0,ya.jsx)(p.Ss,{className:rI.loading,style:{maxWidth:t},children:(0,ya.jsx)(Mu,{horizontalCenter:!0,flex1:!0,verticalCenter:!0,children:(0,ya.jsx)(SM,{})})})},oI={"app-avatar":"index-module__app-avatar___hyFSu",title:"index-module__title___vpNk1",container:"index-module__container___cJUaG"},aI=function(){var e,t=Dk((function(e){var t;return null===(t=e.ui)||void 0===t?void 0:t.header})),n=Ek(),r=Dk((function(e){var t;return null===(t=e.setting)||void 0===t?void 0:t.cdnBaseUrlPath})),i=b_("headerRight");return!1===(null===t||void 0===t?void 0:t.isNeed)?null:(0,ya.jsxs)(Mu,{verticalCenter:!0,className:oI.container,gap:8,children:[(0,ya.jsx)(Jk,{src:(null===t||void 0===t?void 0:t.icon)||ga(r,"assets/imgs/coze-logo.png"),className:oI["app-avatar"],mode:"aspectFill"}),(0,ya.jsx)(p.EY,{className:oI.title,overflow:"ellipsis",numberOfLines:1,children:(null===t||void 0===t?void 0:t.title)||n.t("defaultHeaderTitle")}),i.map((function(e,t){return(0,ya.jsx)(ma.Fragment,{children:e},t)})),null===t||void 0===t||null===(e=t.renderRightSlot)||void 0===e?void 0:e.call(t)]})},uI={container:"index-module__container___fY4Uo",footer:"index-module__footer___vpltC"},sI=function(){var e=Ek(),t=Dk((function(e){var t;return null===(t=e.ui)||void 0===t?void 0:t.footer})),n=(0,ma.useMemo)((function(){return null!==t&&void 0!==t&&t.expressionText?cI(null===t||void 0===t?void 0:t.expressionText,null===t||void 0===t?void 0:t.linkvars):e.t("chatFooterTip")}),[null===t||void 0===t?void 0:t.expressionText,null===t||void 0===t?void 0:t.linkvars]);return!1===(null===t||void 0===t?void 0:t.isNeed)?null:(0,ya.jsx)(zs,{className:h()(uI.container,null===t||void 0===t?void 0:t.containerClassName),children:(0,ya.jsx)(p.EY,{className:h()(uI.footer,null===t||void 0===t?void 0:t.textClassName),numberOfLines:1,overflow:"ellipsis",children:n})})};function cI(e,t){var n=[],r="{{{link}}}",i=e.replace(/\{\{\s*(\w+)\s*\}\}/g,(function(e,i){var o=(null===t||void 0===t?void 0:t[i])||{},a=o.link,u=o.text;return a&&u?(n.push((0,ya.jsx)(TM,{src:a,children:u})),r):(n.push(u||""),r)}));return i.split(r).map((function(e,t){return(0,ya.jsxs)(p.EY,{children:[e,n[t]]},"text_link_".concat(t))}))}var lI={pc:{width:486,height:346},mobile:{width:248,height:346}};function dI(e){4===e.length&&(e=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),e=e.slice(1);var t=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4),16);return"rgb(".concat(t,",").concat(n,",").concat(r,")")}function fI(e,t){/^((#[0-9A-Fa-f]{3})|(#[0-9A-Fa-f]{6}))$/.test(e)&&(e=dI(e));var n=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/;if(!n.test(e))return e;var r=e.slice(5,-1).split(",");r.push(t.toString());var i="rgba(".concat(r.join(","),")");return i}var hI=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.left,i=void 0===r?0:r,o=t.width,a=void 0===o?0:o;return a&&n?{left:i/n,right:(n-a-i)/n}:e},pI=function(e,t){return e&&t&&e/t<=vI("mobile")?"mobile":"pc"},vI=function(e){return lI[e].width/lI[e].height},gI={"bg-image":"index-module__bg-image___rzLYf",mask:"index-module__mask___W9gfL","img-container":"index-module__img-container___mtas7","cropper-aspect-container":"index-module__cropper-aspect-container___NFYWv",gradient:"index-module__gradient___ycdrX",img:"index-module__img___idKr8"},mI=1e3,yI=function(e){var t=(0,ma.useMemo)((function(){return"chatbg_id_".concat(E(),"_").concat(mI++)}),[]),n=Ta(t),r=n.width,i=n.height,o=n.reInitSize,a=pI(r,i),u=e[a];if(!u||null===u||void 0===u||!u.imgUrl)return null;var s=u.themeColor,c=void 0===s?"transparent":s,l=u.imgUrl,d=u.canvasPosition,f=u.gradientPosition,h=!d.width||!d.height,v=fI(c,.95),g=lI[a],m=hI(f,d,g.width),y=m.left,x=void 0===y?0:y,b=m.right,M=void 0===b?0:b,w=i*(g.width/g.height);return Q.debug("ChatBackground",r,i),(0,ya.jsxs)(p.Ss,{id:t,className:gI["bg-image"],style:{backgroundColor:c},ref:o,children:[(0,ya.jsx)(p.Ss,{className:gI.mask}),(0,ya.jsxs)(p.Ss,{className:gI["img-container"],style:{width:h?"100%":w,maxWidth:h?"100":w},children:[(0,ya.jsx)(xI,{position:x,direction:"left",background:"linear-gradient(90deg,  ".concat(c," 10%, ").concat(v," 28%, transparent 92.4%)"),isShow:!h}),l?(0,ya.jsx)(p._V,{src:l,mode:h?"aspectFill":"heightFix",className:gI.img,style:h?{left:"50%",width:"100%",height:"100%",transform:"translateX(-50%)"}:{height:"".concat(d.height/g.height*100,"%"),left:"".concat(x?100*x:2*-M*100,"%"),top:"".concat(d.top/g.height*100,"%")}}):null,(0,ya.jsx)(xI,{position:M,direction:"right",isShow:!h,background:"linear-gradient(90deg,  transparent 10% , ".concat(v," 72%, ").concat(c," 92%)")})]})]})},xI=function(e){var t=e.position,n=void 0===t?0:t,r=e.background,i=e.direction,o=e.isShow,a=void 0===o||o;return a?(0,ya.jsx)(p.Ss,{className:gI.gradient,style:(0,u.A)((0,u.A)((0,u.A)((0,u.A)({},i,"".concat(100*(n>0?n:0)-.1,"%")),"width","10%"),"background",r),"opacity",1)}):null},bI={container:"index-module__container___hwGLP",chat:"index-module__chat___dStqg"},MI={container:"index-module__container___Nbryq",content:"index-module__content___egTf0","error-img":"index-module__error-img___qqI0g","error-img-warn-1":"index-module__error-img-warn-1___QPWEY","error-img-warn-dot":"index-module__error-img-warn-dot___q7X1F","error-txt":"index-module__error-txt___hRXlE"},wI=function(e){var t=e.retryChatInit,n=Ek(),r=_k((function(e){return e.error}));return(0,ya.jsx)(p.Ss,{className:MI.container,children:(0,ya.jsx)(Mu,{horizontalCenter:!0,flex1:!0,verticalCenter:!0,className:MI.content,children:(0,ya.jsxs)(Mu,{vertical:!0,verticalCenter:!0,horizontalCenter:!0,gap:16,children:[(0,ya.jsxs)(Mu,{className:MI["error-img"],gap:4,vertical:!0,horizontalCenter:!0,verticalCenter:!0,children:[(0,ya.jsx)(p.Ss,{className:MI["error-img-warn-1"]}),(0,ya.jsx)(p.Ss,{className:MI["error-img-warn-dot"]})]}),(0,ya.jsx)(p.EY,{className:MI["error-txt"],children:null===r||void 0===r?void 0:r.getErrorMessageByI18n(n,void 0,n.t("chatInitRetry"))}),(0,ya.jsx)(OM,{onClick:t,children:n.t("retryBtn")})]})})})},kI=function(e){var t=e.retryChatInit,n=Dk((function(e){var t;return null===(t=e.ui)||void 0===t||null===(t=t.error)||void 0===t?void 0:t.renderError})),r=Dk((function(e){var t;return null===(t=e.eventCallbacks)||void 0===t?void 0:t.onInitRetry})),i=r||t;return n?(0,ya.jsx)(ya.Fragment,{children:n(void 0,i)}):(0,ya.jsx)(wI,{retryChatInit:i})},AI=["children"],_I=function(e){var t=e.children,n=_k((function(e){return{isLoading:e.isLoading,error:e.error}})),r=n.isLoading,i=n.error;Q.info("in chat frame init",{isLoading:r,error:i});var o=zw(),a=o.retryChatInit;return i?(0,ya.jsx)(kI,{retryChatInit:a}):r?(0,ya.jsx)(iI,{}):(0,ya.jsx)(ya.Fragment,{children:t})},II=1e3,SI=function(e){var t=e.children,n=Ok(),r=(0,ma.useMemo)((function(){return"chat_frame_".concat(E(),"_").concat(II++)}),[]),i=Pk(),o=Lk(),a=Dk((function(e){var t;return null===(t=e.eventCallbacks)||void 0===t?void 0:t.onThemeChange})),u=Dk((function(e){var t;return null===(t=e.ui)||void 0===t?void 0:t.frameworkClassName})),s="bg-theme"===o;return d_(r),(0,ma.useEffect)((function(){null===a||void 0===a||a(o)}),[o]),(0,ya.jsxs)(Mu,{vertical:!0,className:h()(bI.container,"light-theme chat-root",{"bg-theme":s,"bg-mobile":i},u),onClick:function(){I.eventCenter.trigger(y.FrameClick)},id:r,children:[s?(0,ya.jsx)(yI,c({},n)):null,(0,ya.jsx)(aI,{}),(0,ya.jsx)(p.Ss,{className:bI.chat,children:(0,ya.jsx)(_I,{children:t||(0,ya.jsx)(X_,{})})}),(0,ya.jsx)(sI,{}),(0,ya.jsx)(h_,{}),(0,ya.jsx)(nI,{})]})},NI=function(e){var t=e.children,n=a(e,AI);return Q.info("SdkVersion: 0.1.10-beta.1"),(0,ya.jsx)(zk,c(c({},n),{},{children:(0,ya.jsx)(SI,{children:t})}))},EI=NI},3460:function(e,t,n){"use strict";n(255);var r,i=n(9318),o=n(8670),a=n(2822),u=n(2525).A,s={styleIsolation:"apply-shared",isNewBlended:!1};Component((0,i.fg)(u,r||(r=n.t(o,2)),a.Ay,s))},5528:function(){},590:function(){},4156:function(){},3221:function(){},6019:function(e,t,n){var r=n(7821),i=n(7681);n(5030);function o(e){return void 0===e||null===e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function u(e){e=a(e||{}),e.whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}u.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,a=n.onAttr,u=n.onIgnoreAttr,s=n.safeAttrValue,c=i(e,(function(e,t,n,i,c){var l=r[n],d=!1;if(!0===l?d=l:"function"===typeof l?d=l(i):l instanceof RegExp&&(d=l.test(i)),!0!==d&&(d=!1),i=s(n,i),i){var f={position:t,sourcePosition:e,source:c,isWhite:d};if(d){var h=a(n,i,f);return o(h)?n+":"+i:h}h=u(n,i,f);return o(h)?void 0:h}}));return c},e.exports=u},7821:function(e,t){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}function r(e,t,n){}function i(e,t,n){}var o=/javascript\s*\:/gim;function a(e,t){return o.test(t)?"":t}t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=r,t.onIgnoreAttr=i,t.safeAttrValue=a},676:function(e,t,n){var r=n(2340)["window"],i=n(7821),o=n(6019);function a(e,t){var n=new o(t);return n.process(e)}for(var u in t=e.exports=a,t.FilterCSS=o,i)t[u]=i[u];"undefined"!==typeof r&&(r.filterCSS=e.exports)},7681:function(e,t,n){var r=n(5030);function i(e,t){e=r.trimRight(e),";"!==e[e.length-1]&&(e+=";");var n=e.length,i=!1,o=0,a=0,u="";function s(){if(!i){var n=r.trim(e.slice(o,a)),s=n.indexOf(":");if(-1!==s){var c=r.trim(n.slice(0,s)),l=r.trim(n.slice(s+1));if(c){var d=t(o,u.length,c,l,n);d&&(u+=d+"; ")}}}o=a+1}for(;a<n;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var l=e.indexOf("*/",a+2);if(-1===l)break;a=l+1,o=a+1,i=!1}else"("===c?i=!0:")"===c?i=!1:";"===c?i||s():"\n"===c&&s()}return r.trim(u)}e.exports=i},5030:function(e){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},4391:function(e,t){"use strict";t.DefaultEventPriority=16},9983:function(e,t,n){var r=n(974)["default"];e.exports=function(e){var t={},i=n(8670),o=n(3808),a=Object.assign;function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),l=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function k(e){return null===e||"object"!==r(e)?null:(e=w&&e[w]||e["@@iterator"],"function"===typeof e?e:null)}function A(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case l:return"Portal";case h:return"Profiler";case f:return"StrictMode";case m:return"Suspense";case y:return"SuspenseList"}if("object"===r(e))switch(e.$$typeof){case v:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=""!==e?"ForwardRef("+e+")":"ForwardRef"),e;case x:return t=e.displayName||null,null!==t?t:A(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return A(e(t))}catch(e){}}return null}function _(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(t);case 8:return t===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function I(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(4098&t.flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function S(e){if(I(e)!==e)throw Error(u(188))}function N(e){var t=e.alternate;if(!t){if(t=I(e),null===t)throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(r=i.return,null!==r){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return S(i),e;if(o===r)return S(i),t;o=o.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?e:t}function E(e){return e=N(e),null!==e?D(e):null}function D(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=D(e);if(null!==t)return t;e=e.sibling}return null}function C(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=C(e);if(null!==t)return t}e=e.sibling}return null}var j,T=Array.isArray,z=e.getPublicInstance,O=e.getRootHostContext,L=e.getChildHostContext,F=e.prepareForCommit,P=e.resetAfterCommit,R=e.createInstance,U=e.appendInitialChild,B=e.finalizeInitialChildren,Y=e.prepareUpdate,Q=e.shouldSetTextContent,H=e.createTextInstance,V=e.scheduleTimeout,G=e.cancelTimeout,W=e.noTimeout,q=e.isPrimaryRenderer,Z=e.supportsMutation,J=e.supportsPersistence,K=e.supportsHydration,X=e.getInstanceFromNode,$=e.preparePortalMount,ee=e.getCurrentEventPriority,te=e.detachDeletedInstance,ne=e.supportsMicrotasks,re=e.scheduleMicrotask,ie=e.supportsTestSelectors,oe=e.findFiberRoot,ae=e.getBoundingRect,ue=e.getTextContent,se=e.isHiddenSubtree,ce=e.matchAccessibilityRole,le=e.setFocusIfFocusable,de=e.setupIntersectionObserver,fe=e.appendChild,he=e.appendChildToContainer,pe=e.commitTextUpdate,ve=e.commitMount,ge=e.commitUpdate,me=e.insertBefore,ye=e.insertInContainerBefore,xe=e.removeChild,be=e.removeChildFromContainer,Me=e.resetTextContent,we=e.hideInstance,ke=e.hideTextInstance,Ae=e.unhideInstance,_e=e.unhideTextInstance,Ie=e.clearContainer,Se=e.cloneInstance,Ne=e.createContainerChildSet,Ee=e.appendChildToContainerChildSet,De=e.finalizeContainerChildren,Ce=e.replaceContainerChildren,je=e.cloneHiddenInstance,Te=e.cloneHiddenTextInstance,ze=e.canHydrateInstance,Oe=e.canHydrateTextInstance,Le=e.canHydrateSuspenseInstance,Fe=e.isSuspenseInstancePending,Pe=e.isSuspenseInstanceFallback,Re=e.getSuspenseInstanceFallbackErrorDetails,Ue=e.registerSuspenseInstanceRetry,Be=e.getNextHydratableSibling,Ye=e.getFirstHydratableChild,Qe=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,Ge=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Ze=e.commitHydratedContainer,Je=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,Xe=e.clearSuspenseBoundaryFromContainer,$e=e.shouldDeleteUnhydratedTailInstances,et=e.didNotMatchHydratedContainerTextInstance,tt=e.didNotMatchHydratedTextInstance;function nt(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var rt=!1;function it(e,t){if(!e||rt)return"";rt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===("undefined"===typeof Reflect?"undefined":r(Reflect))&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"===typeof t.stack){for(var o=t.stack.split("\n"),a=i.stack.split("\n"),u=o.length-1,s=a.length-1;1<=u&&0<=s&&o[u]!==a[s];)s--;for(;1<=u&&0<=s;u--,s--)if(o[u]!==a[s]){if(1!==u||1!==s)do{if(u--,s--,0>s||o[u]!==a[s]){var c="\n"+o[u].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=u&&0<=s);break}}}finally{rt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?nt(e):""}var ot=Object.prototype.hasOwnProperty,at=[],ut=-1;function st(e){return{current:e}}function ct(e){0>ut||(e.current=at[ut],at[ut]=null,ut--)}function lt(e,t){ut++,at[ut]=e.current,e.current=t}var dt={},ft=st(dt),ht=st(!1),pt=dt;function vt(e,t){var n=e.type.contextTypes;if(!n)return dt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gt(e){return e=e.childContextTypes,null!==e&&void 0!==e}function mt(){ct(ht),ct(ft)}function yt(e,t,n){if(ft.current!==dt)throw Error(u(168));lt(ft,t),lt(ht,n)}function xt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext(),r)if(!(i in t))throw Error(u(108,_(e)||"Unknown",i));return a({},n,r)}function bt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dt,pt=ft.current,lt(ft,e),lt(ht,ht.current),!0}function Mt(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(e=xt(e,t,pt),r.__reactInternalMemoizedMergedChildContext=e,ct(ht),ct(ft),lt(ft,e)):ct(ht),lt(ht,n)}var wt=Math.clz32?Math.clz32:_t,kt=Math.log,At=Math.LN2;function _t(e){return e>>>=0,0===e?32:31-(kt(e)/At|0)|0}var It=64,St=4194304;function Nt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Et(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var u=a&~i;0!==u?r=Nt(u):(o&=a,0!==o&&(r=Nt(o)))}else a=n&~i,0!==a?r=Nt(a):0!==o&&(r=Nt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&(i=r&-r,o=t&-t,i>=o||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),t=e.entangledLanes,0!==t)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),i=1<<n,r|=e[n],t&=~i;return r}function Dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-wt(o),u=1<<a,s=i[a];-1===s?0!==(u&n)&&0===(u&r)||(i[a]=Dt(u,t)):s<=t&&(e.expiredLanes|=u),o&=~u}}function jt(e){return e=-1073741825&e.pendingLanes,0!==e?e:1073741824&e?1073741824:0}function Tt(){var e=It;return It<<=1,0===(4194240&It)&&(It=64),e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ot(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function Lt(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ft(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pt=0;function Rt(e){return e&=-e,1<e?4<e?0!==(268435455&e)?16:536870912:4:1}var Ut=o.unstable_scheduleCallback,Bt=o.unstable_cancelCallback,Yt=o.unstable_shouldYield,Qt=o.unstable_requestPaint,Ht=o.unstable_now,Vt=o.unstable_ImmediatePriority,Gt=o.unstable_UserBlockingPriority,Wt=o.unstable_NormalPriority,qt=o.unstable_IdlePriority,Zt=null,Jt=null;function Kt(e){if(Jt&&"function"===typeof Jt.onCommitFiberRoot)try{Jt.onCommitFiberRoot(Zt,e,void 0,128===(128&e.current.flags))}catch(e){}}function Xt(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var $t="function"===typeof Object.is?Object.is:Xt,en=null,tn=!1,nn=!1;function rn(e){null===en?en=[e]:en.push(e)}function on(e){tn=!0,rn(e)}function an(){if(!nn&&null!==en){nn=!0;var e=0,t=Pt;try{var n=en;for(Pt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}en=null,tn=!1}catch(t){throw null!==en&&(en=en.slice(e+1)),Ut(Vt,an),t}finally{Pt=t,nn=!1}}return null}var un=[],sn=0,cn=null,ln=0,dn=[],fn=0,hn=null,pn=1,vn="";function gn(e,t){un[sn++]=ln,un[sn++]=cn,cn=e,ln=t}function mn(e,t,n){dn[fn++]=pn,dn[fn++]=vn,dn[fn++]=hn,hn=e;var r=pn;e=vn;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var o=32-wt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,pn=1<<32-wt(t)+i|n<<i|r,vn=o+e}else pn=1<<o|n<<i|r,vn=e}function yn(e){null!==e.return&&(gn(e,1),mn(e,1,0))}function xn(e){for(;e===cn;)cn=un[--sn],un[sn]=null,ln=un[--sn],un[sn]=null;for(;e===hn;)hn=dn[--fn],dn[fn]=null,vn=dn[--fn],dn[fn]=null,pn=dn[--fn],dn[fn]=null}var bn=null,Mn=null,wn=!1,kn=!1,An=null;function _n(e,t){var n=xu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,null===t?(e.deletions=[n],e.flags|=16):t.push(n)}function In(e,t){switch(e.tag){case 5:return t=ze(t,e.type,e.pendingProps),null!==t&&(e.stateNode=t,bn=e,Mn=Ye(t),!0);case 6:return t=Oe(t,e.pendingProps),null!==t&&(e.stateNode=t,bn=e,Mn=null,!0);case 13:if(t=Le(t),null!==t){var n=null!==hn?{id:pn,overflow:vn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xu(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bn=e,Mn=null,!0}return!1;default:return!1}}function Sn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Nn(e){if(wn){var t=Mn;if(t){var n=t;if(!In(e,t)){if(Sn(e))throw Error(u(418));t=Be(n);var r=bn;t&&In(e,t)?_n(r,n):(e.flags=-4097&e.flags|2,wn=!1,bn=e)}}else{if(Sn(e))throw Error(u(418));e.flags=-4097&e.flags|2,wn=!1,bn=e}}}function En(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;bn=e}function Dn(e){if(!K||e!==bn)return!1;if(!wn)return En(e),wn=!0,!1;if(3!==e.tag&&(5!==e.tag||$e(e.type)&&!Q(e.type,e.memoizedProps))){var t=Mn;if(t){if(Sn(e))throw Cn(),Error(u(418));for(;t;)_n(e,t),t=Be(t)}}if(En(e),13===e.tag){if(!K)throw Error(u(316));if(e=e.memoizedState,e=null!==e?e.dehydrated:null,!e)throw Error(u(317));Mn=qe(e)}else Mn=bn?Be(e.stateNode):null;return!0}function Cn(){for(var e=Mn;e;)e=Be(e)}function jn(){K&&(Mn=bn=null,kn=wn=!1)}function Tn(e){null===An?An=[e]:An.push(e)}var zn=s.ReactCurrentBatchConfig;function On(e,t){if($t(e,t))return!0;if("object"!==r(e)||null===e||"object"!==r(t)||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ot.call(t,o)||!$t(e[o],t[o]))return!1}return!0}function Ln(e){switch(e.tag){case 5:return nt(e.type);case 16:return nt("Lazy");case 13:return nt("Suspense");case 19:return nt("SuspenseList");case 0:case 2:case 15:return e=it(e.type,!1),e;case 11:return e=it(e.type.render,!1),e;case 1:return e=it(e.type,!0),e;default:return""}}function Fn(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps,e)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Pn=st(null),Rn=null,Un=null,Bn=null;function Yn(){Bn=Un=Rn=null}function Qn(e,t,n){q?(lt(Pn,t._currentValue),t._currentValue=n):(lt(Pn,t._currentValue2),t._currentValue2=n)}function Hn(e){var t=Pn.current;ct(Pn),q?e._currentValue=t:e._currentValue2=t}function Vn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gn(e,t){Rn=e,Bn=Un=null,e=e.dependencies,null!==e&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Bi=!0),e.firstContext=null)}function Wn(e){var t=q?e._currentValue:e._currentValue2;if(Bn!==e)if(e={context:e,memoizedValue:t,next:null},null===Un){if(null===Rn)throw Error(u(308));Un=e,Rn.dependencies={lanes:0,firstContext:e}}else Un=Un.next=e;return t}var qn=null;function Zn(e){null===qn?qn=[e]:qn.push(e)}function Jn(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Zn(t)):(n.next=i.next,i.next=n),t.interleaved=n,Kn(e,r)}function Kn(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,n=e.alternate,null!==n&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Xn=!1;function $n(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function er(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nr(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ha)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Kn(e,n)}return i=r.interleaved,null===i?(t.next=t,Zn(r)):(t.next=i.next,i.next=t),r.interleaved=t,Kn(e,n)}function rr(e,t,n){if(t=t.updateQueue,null!==t&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ft(e,n)}}function ir(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,null!==n){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}e=n.lastBaseUpdate,null===e?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function or(e,t,n,r){var i=e.updateQueue;Xn=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var d=e.alternate;null!==d&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==u&&(null===s?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=c))}if(null!==o){var f=i.baseState;u=0,d=l=c=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,g=s;switch(h=t,p=n,g.tag){case 1:if(v=g.payload,"function"===typeof v){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(v=g.payload,h="function"===typeof v?v.call(p,f,h):v,null===h||void 0===h)break e;f=a({},f,h);break e;case 2:Xn=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,h=i.effects,null===h?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(l=d=p,c=f):d=d.next=p,u|=h;if(s=s.next,null===s){if(s=i.shared.pending,null===s)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(null===d&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=d,t=i.shared.interleaved,null!==t){i=t;do{u|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ma|=u,e.lanes=u,e.memoizedState=f}}function ar(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(u(191,i));i.call(r)}}}var ur=(new i.Component).refs;function sr(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var cr={isMounted:function(e){return!!(e=e._reactInternals)&&I(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ba(),i=Ya(e),o=tr(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),t=nr(e,o,i),null!==t&&(Qa(t,e,i,r),rr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ba(),i=Ya(e),o=tr(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),t=nr(e,o,i),null!==t&&(Qa(t,e,i,r),rr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ba(),r=Ya(e),i=tr(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),t=nr(e,i,r),null!==t&&(Qa(t,e,r,n),rr(t,e,r))}};function lr(e,t,n,r,i,o,a){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!On(n,r)||!On(i,o))}function dr(e,t,n){var i=!1,o=dt,a=t.contextType;return"object"===r(a)&&null!==a?a=Wn(a):(o=gt(t)?pt:ft.current,i=t.contextTypes,a=(i=null!==i&&void 0!==i)?vt(e,o):dt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=cr,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function fr(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cr.enqueueReplaceState(t,t.state,null)}function hr(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=ur,$n(e);var a=t.contextType;"object"===r(a)&&null!==a?o.context=Wn(a):(a=gt(t)?pt:ft.current,o.context=vt(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,"function"===typeof a&&(sr(e,t,a,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&cr.enqueueReplaceState(o,o.state,null),or(e,n,o,i),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function pr(e,t,n){if(e=n.ref,null!==e&&"function"!==typeof e&&"object"!==r(e)){if(n._owner){if(n=n._owner,n){if(1!==n.tag)throw Error(u(309));var i=n.stateNode}if(!i)throw Error(u(147,e));var o=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===ur&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function vr(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gr(e){var t=e._init;return t(e._payload)}function mr(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return e=wu(e,t),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?(r=t.alternate,null!==r?(r=r.index,r<n?(t.flags|=2,n):r):(t.flags|=2,n)):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function f(e,t,n,r){return null===t||6!==t.tag?(t=Iu(n,e.mode,r),t.return=e,t):(t=o(t,n),t.return=e,t)}function h(e,t,n,i){var a=n.type;return a===d?v(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===r(a)&&null!==a&&a.$$typeof===b&&gr(a)===t.type)?(i=o(t,n.props),i.ref=pr(e,t,n),i.return=e,i):(i=ku(n.type,n.key,n.props,null,e.mode,i),i.ref=pr(e,t,n),i.return=e,i)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Su(n,e.mode,r),t.return=e,t):(t=o(t,n.children||[]),t.return=e,t)}function v(e,t,n,r,i){return null===t||7!==t.tag?(t=Au(n,e.mode,r,i),t.return=e,t):(t=o(t,n),t.return=e,t)}function g(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return t=Iu(""+t,e.mode,n),t.return=e,t;if("object"===r(t)&&null!==t){switch(t.$$typeof){case c:return n=ku(t.type,t.key,t.props,null,e.mode,n),n.ref=pr(e,null,t),n.return=e,n;case l:return t=Su(t,e.mode,n),t.return=e,t;case b:var i=t._init;return g(e,i(t._payload),n)}if(T(t)||k(t))return t=Au(t,e.mode,n,null),t.return=e,t;vr(e,t)}return null}function m(e,t,n,i){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:f(e,t,""+n,i);if("object"===r(n)&&null!==n){switch(n.$$typeof){case c:return n.key===o?h(e,t,n,i):null;case l:return n.key===o?p(e,t,n,i):null;case b:return o=n._init,m(e,t,o(n._payload),i)}if(T(n)||k(n))return null!==o?null:v(e,t,n,i,null);vr(e,n)}return null}function y(e,t,n,i,o){if("string"===typeof i&&""!==i||"number"===typeof i)return e=e.get(n)||null,f(t,e,""+i,o);if("object"===r(i)&&null!==i){switch(i.$$typeof){case c:return e=e.get(null===i.key?n:i.key)||null,h(t,e,i,o);case l:return e=e.get(null===i.key?n:i.key)||null,p(t,e,i,o);case b:var a=i._init;return y(e,t,n,a(i._payload),o)}if(T(i)||k(i))return e=e.get(n)||null,v(t,e,i,o,null);vr(t,i)}return null}function x(r,o,u,s){for(var c=null,l=null,d=o,f=o=0,h=null;null!==d&&f<u.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=m(r,d,u[f],s);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(r,d),o=a(p,o,f),null===l?c=p:l.sibling=p,l=p,d=h}if(f===u.length)return n(r,d),wn&&gn(r,f),c;if(null===d){for(;f<u.length;f++)d=g(r,u[f],s),null!==d&&(o=a(d,o,f),null===l?c=d:l.sibling=d,l=d);return wn&&gn(r,f),c}for(d=i(r,d);f<u.length;f++)h=y(d,r,f,u[f],s),null!==h&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),o=a(h,o,f),null===l?c=h:l.sibling=h,l=h);return e&&d.forEach((function(e){return t(r,e)})),wn&&gn(r,f),c}function M(r,o,s,c){var l=k(s);if("function"!==typeof l)throw Error(u(150));if(s=l.call(s),null==s)throw Error(u(151));for(var d=l=null,f=o,h=o=0,p=null,v=s.next();null!==f&&!v.done;h++,v=s.next()){f.index>h?(p=f,f=null):p=f.sibling;var x=m(r,f,v.value,c);if(null===x){null===f&&(f=p);break}e&&f&&null===x.alternate&&t(r,f),o=a(x,o,h),null===d?l=x:d.sibling=x,d=x,f=p}if(v.done)return n(r,f),wn&&gn(r,h),l;if(null===f){for(;!v.done;h++,v=s.next())v=g(r,v.value,c),null!==v&&(o=a(v,o,h),null===d?l=v:d.sibling=v,d=v);return wn&&gn(r,h),l}for(f=i(r,f);!v.done;h++,v=s.next())v=y(f,r,h,v.value,c),null!==v&&(e&&null!==v.alternate&&f.delete(null===v.key?h:v.key),o=a(v,o,h),null===d?l=v:d.sibling=v,d=v);return e&&f.forEach((function(e){return t(r,e)})),wn&&gn(r,h),l}function w(e,i,a,u){if("object"===r(a)&&null!==a&&a.type===d&&null===a.key&&(a=a.props.children),"object"===r(a)&&null!==a){switch(a.$$typeof){case c:e:{for(var f=a.key,h=i;null!==h;){if(h.key===f){if(f=a.type,f===d){if(7===h.tag){n(e,h.sibling),i=o(h,a.props.children),i.return=e,e=i;break e}}else if(h.elementType===f||"object"===r(f)&&null!==f&&f.$$typeof===b&&gr(f)===h.type){n(e,h.sibling),i=o(h,a.props),i.ref=pr(e,h,a),i.return=e,e=i;break e}n(e,h);break}t(e,h),h=h.sibling}a.type===d?(i=Au(a.props.children,e.mode,u,a.key),i.return=e,e=i):(u=ku(a.type,a.key,a.props,null,e.mode,u),u.ref=pr(e,i,a),u.return=e,e=u)}return s(e);case l:e:{for(h=a.key;null!==i;){if(i.key===h){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),i=o(i,a.children||[]),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=Su(a,e.mode,u),i.return=e,e=i}return s(e);case b:return h=a._init,w(e,i,h(a._payload),u)}if(T(a))return x(e,i,a,u);if(k(a))return M(e,i,a,u);vr(e,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),i=o(i,a),i.return=e,e=i):(n(e,i),i=Iu(a,e.mode,u),i.return=e,e=i),s(e)):n(e,i)}return w}var yr=mr(!0),xr=mr(!1),br={},Mr=st(br),wr=st(br),kr=st(br);function Ar(e){if(e===br)throw Error(u(174));return e}function _r(e,t){lt(kr,t),lt(wr,e),lt(Mr,br),e=O(t),ct(Mr),lt(Mr,e)}function Ir(){ct(Mr),ct(wr),ct(kr)}function Sr(e){var t=Ar(kr.current),n=Ar(Mr.current);t=L(n,e.type,t),n!==t&&(lt(wr,e),lt(Mr,t))}function Nr(e){wr.current===e&&(ct(Mr),ct(wr))}var Er=st(0);function Dr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||Fe(n)||Pe(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cr=[];function jr(){for(var e=0;e<Cr.length;e++){var t=Cr[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Cr.length=0}var Tr=s.ReactCurrentDispatcher,zr=s.ReactCurrentBatchConfig,Or=0,Lr=null,Fr=null,Pr=null,Rr=!1,Ur=!1,Br=0,Yr=0;function Qr(){throw Error(u(321))}function Hr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Vr(e,t,n,r,i,o){if(Or=o,Lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tr.current=null===e||null===e.memoizedState?Ni:Ei,e=n(r,i),Ur){o=0;do{if(Ur=!1,Br=0,25<=o)throw Error(u(301));o+=1,Pr=Fr=null,t.updateQueue=null,Tr.current=Di,e=n(r,i)}while(Ur)}if(Tr.current=Si,t=null!==Fr&&null!==Fr.next,Or=0,Pr=Fr=Lr=null,Rr=!1,t)throw Error(u(300));return e}function Gr(){var e=0!==Br;return Br=0,e}function Wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Pr?Lr.memoizedState=Pr=e:Pr=Pr.next=e,Pr}function qr(){if(null===Fr){var e=Lr.alternate;e=null!==e?e.memoizedState:null}else e=Fr.next;var t=null===Pr?Lr.memoizedState:Pr.next;if(null!==t)Pr=t,Fr=e;else{if(null===e)throw Error(u(310));Fr=e,e={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},null===Pr?Lr.memoizedState=Pr=e:Pr=Pr.next=e}return Pr}function Zr(e,t){return"function"===typeof t?t(e):t}function Jr(e){var t=qr(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=Fr,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=a=null,c=null,l=o;do{var d=l.lane;if((Or&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=f,a=r):c=c.next=f,Lr.lanes|=d,Ma|=d}l=l.next}while(null!==l&&l!==o);null===c?a=r:c.next=s,$t(r,t.memoizedState)||(Bi=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,null!==e){i=e;do{o=i.lane,Lr.lanes|=o,Ma|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kr(e){var t=qr(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);$t(o,t.memoizedState)||(Bi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Xr(){}function $r(e,t){var n=Lr,r=qr(),i=t(),o=!$t(r.memoizedState,i);if(o&&(r.memoizedState=i,Bi=!0),r=r.queue,di(ni.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Pr&&1&Pr.memoizedState.tag){if(n.flags|=2048,ai(9,ti.bind(null,n,r,i,t),void 0,null),null===pa)throw Error(u(349));0!==(30&Or)||ei(n,t,i)}return i}function ei(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Lr.updateQueue,null===t?(t={lastEffect:null,stores:null},Lr.updateQueue=t,t.stores=[e]):(n=t.stores,null===n?t.stores=[e]:n.push(e))}function ti(e,t,n,r){t.value=n,t.getSnapshot=r,ri(t)&&ii(e)}function ni(e,t,n){return n((function(){ri(t)&&ii(e)}))}function ri(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch(e){return!0}}function ii(e){var t=Kn(e,1);null!==t&&Qa(t,e,1,-1)}function oi(e){var t=Wr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},t.queue=e,e=e.dispatch=ki.bind(null,Lr,e),[t.memoizedState,e]}function ai(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Lr.updateQueue,null===t?(t={lastEffect:null,stores:null},Lr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ui(){return qr().memoizedState}function si(e,t,n,r){var i=Wr();Lr.flags|=e,i.memoizedState=ai(1|t,n,void 0,void 0===r?null:r)}function ci(e,t,n,r){var i=qr();r=void 0===r?null:r;var o=void 0;if(null!==Fr){var a=Fr.memoizedState;if(o=a.destroy,null!==r&&Hr(r,a.deps))return void(i.memoizedState=ai(t,n,o,r))}Lr.flags|=e,i.memoizedState=ai(1|t,n,o,r)}function li(e,t){return si(8390656,8,e,t)}function di(e,t){return ci(2048,8,e,t)}function fi(e,t){return ci(4,2,e,t)}function hi(e,t){return ci(4,4,e,t)}function pi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function vi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ci(4,4,pi.bind(null,t,e),n)}function gi(){}function mi(e,t){var n=qr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Hr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yi(e,t){var n=qr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Hr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xi(e,t,n){return 0===(21&Or)?(e.baseState&&(e.baseState=!1,Bi=!0),e.memoizedState=n):($t(n,t)||(n=Tt(),Lr.lanes|=n,Ma|=n,e.baseState=!0),t)}function bi(e,t){var n=Pt;Pt=0!==n&&4>n?n:4,e(!0);var r=zr.transition;zr.transition={};try{e(!1),t()}finally{Pt=n,zr.transition=r}}function Mi(){return qr().memoizedState}function wi(e,t,n){var r=Ya(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ai(e))_i(t,n);else if(n=Jn(e,t,n,r),null!==n){var i=Ba();Qa(n,e,r,i),Ii(n,t,r)}}function ki(e,t,n){var r=Ya(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ai(e))_i(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&(o=t.lastRenderedReducer,null!==o))try{var a=t.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,$t(u,a)){var s=t.interleaved;return null===s?(i.next=i,Zn(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(e){}n=Jn(e,t,i,r),null!==n&&(i=Ba(),Qa(n,e,r,i),Ii(n,t,r))}}function Ai(e){var t=e.alternate;return e===Lr||null!==t&&t===Lr}function _i(e,t){Ur=Rr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ii(e,t,n){if(0!==(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ft(e,n)}}var Si={readContext:Wn,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},Ni={readContext:Wn,useCallback:function(e,t){return Wr().memoizedState=[e,void 0===t?null:t],e},useContext:Wn,useEffect:li,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,si(4194308,4,pi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return si(4194308,4,e,t)},useInsertionEffect:function(e,t){return si(4,2,e,t)},useMemo:function(e,t){var n=Wr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wi.bind(null,Lr,e),[r.memoizedState,e]},useRef:function(e){var t=Wr();return e={current:e},t.memoizedState=e},useState:oi,useDebugValue:gi,useDeferredValue:function(e){return Wr().memoizedState=e},useTransition:function(){var e=oi(!1),t=e[0];return e=bi.bind(null,e[1]),Wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Lr,i=Wr();if(wn){if(void 0===n)throw Error(u(407));n=n()}else{if(n=t(),null===pa)throw Error(u(349));0!==(30&Or)||ei(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,li(ni.bind(null,r,o,e),[e]),r.flags|=2048,ai(9,ti.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Wr(),t=pa.identifierPrefix;if(wn){var n=vn,r=pn;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yr++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ei={readContext:Wn,useCallback:mi,useContext:Wn,useEffect:di,useImperativeHandle:vi,useInsertionEffect:fi,useLayoutEffect:hi,useMemo:yi,useReducer:Jr,useRef:ui,useState:function(){return Jr(Zr)},useDebugValue:gi,useDeferredValue:function(e){var t=qr();return xi(t,Fr.memoizedState,e)},useTransition:function(){var e=Jr(Zr)[0],t=qr().memoizedState;return[e,t]},useMutableSource:Xr,useSyncExternalStore:$r,useId:Mi,unstable_isNewReconciler:!1},Di={readContext:Wn,useCallback:mi,useContext:Wn,useEffect:di,useImperativeHandle:vi,useInsertionEffect:fi,useLayoutEffect:hi,useMemo:yi,useReducer:Kr,useRef:ui,useState:function(){return Kr(Zr)},useDebugValue:gi,useDeferredValue:function(e){var t=qr();return null===Fr?t.memoizedState=e:xi(t,Fr.memoizedState,e)},useTransition:function(){var e=Kr(Zr)[0],t=qr().memoizedState;return[e,t]},useMutableSource:Xr,useSyncExternalStore:$r,useId:Mi,unstable_isNewReconciler:!1};function Ci(e,t){try{var n="",r=t;do{n+=Ln(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ji(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Ti(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var zi="function"===typeof WeakMap?WeakMap:Map;function Oi(e,t,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ca||(Ca=!0,ja=r),Ti(e,t)},n}function Li(e,t,n){n=tr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ti(e,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){Ti(e,t),"function"!==typeof r&&(null===Ta?Ta=new Set([this]):Ta.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function Fi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new zi;var i=new Set;r.set(t,i)}else i=r.get(t),void 0===i&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function Pi(e){do{var t;if((t=13===e.tag)&&(t=e.memoizedState,t=null===t||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ri(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:(t=tr(-1,1),t.tag=2,nr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Ui=s.ReactCurrentOwner,Bi=!1;function Yi(e,t,n,r){t.child=null===e?xr(t,null,n,r):yr(t,e.child,n,r)}function Qi(e,t,n,r,i){n=n.render;var o=t.ref;return Gn(t,i),r=Vr(e,t,n,r,o,i),n=Gr(),null===e||Bi?(wn&&n&&yn(t),t.flags|=1,Yi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,po(e,t,i))}function Hi(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||bu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=ku(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vi(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=null!==n?n:On,n(a,r)&&e.ref===t.ref)return po(e,t,i)}return t.flags|=1,e=wu(o,r),e.ref=t.ref,e.return=t,t.child=e}function Vi(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(On(o,r)&&e.ref===t.ref){if(Bi=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,po(e,t,i);0!==(131072&e.flags)&&(Bi=!0)}}return qi(e,t,n,r,i)}function Gi(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(ya,ma),ma|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,lt(ya,ma),ma|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,lt(ya,ma),ma|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,lt(ya,ma),ma|=r;return Yi(e,t,i,n),t.child}function Wi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qi(e,t,n,r,i){var o=gt(n)?pt:ft.current;return o=vt(t,o),Gn(t,i),n=Vr(e,t,n,r,o,i),r=Gr(),null===e||Bi?(wn&&r&&yn(t),t.flags|=1,Yi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,po(e,t,i))}function Zi(e,t,n,i,o){if(gt(n)){var a=!0;bt(t)}else a=!1;if(Gn(t,o),null===t.stateNode)ho(e,t),dr(t,n,i),hr(t,n,i,o),i=!0;else if(null===e){var u=t.stateNode,s=t.memoizedProps;u.props=s;var c=u.context,l=n.contextType;"object"===r(l)&&null!==l?l=Wn(l):(l=gt(n)?pt:ft.current,l=vt(t,l));var d=n.getDerivedStateFromProps,f="function"===typeof d||"function"===typeof u.getSnapshotBeforeUpdate;f||"function"!==typeof u.UNSAFE_componentWillReceiveProps&&"function"!==typeof u.componentWillReceiveProps||(s!==i||c!==l)&&fr(t,u,i,l),Xn=!1;var h=t.memoizedState;u.state=h,or(t,i,u,o),c=t.memoizedState,s!==i||h!==c||ht.current||Xn?("function"===typeof d&&(sr(t,n,d,i),c=t.memoizedState),(s=Xn||lr(t,n,s,i,h,c,l))?(f||"function"!==typeof u.UNSAFE_componentWillMount&&"function"!==typeof u.componentWillMount||("function"===typeof u.componentWillMount&&u.componentWillMount(),"function"===typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount()),"function"===typeof u.componentDidMount&&(t.flags|=4194308)):("function"===typeof u.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),u.props=i,u.state=c,u.context=l,i=s):("function"===typeof u.componentDidMount&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,er(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Fn(t.type,s),u.props=l,f=t.pendingProps,h=u.context,c=n.contextType,"object"===r(c)&&null!==c?c=Wn(c):(c=gt(n)?pt:ft.current,c=vt(t,c));var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof u.getSnapshotBeforeUpdate)||"function"!==typeof u.UNSAFE_componentWillReceiveProps&&"function"!==typeof u.componentWillReceiveProps||(s!==f||h!==c)&&fr(t,u,i,c),Xn=!1,h=t.memoizedState,u.state=h,or(t,i,u,o);var v=t.memoizedState;s!==f||h!==v||ht.current||Xn?("function"===typeof p&&(sr(t,n,p,i),v=t.memoizedState),(l=Xn||lr(t,n,l,i,h,v,c)||!1)?(d||"function"!==typeof u.UNSAFE_componentWillUpdate&&"function"!==typeof u.componentWillUpdate||("function"===typeof u.componentWillUpdate&&u.componentWillUpdate(i,v,c),"function"===typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(i,v,c)),"function"===typeof u.componentDidUpdate&&(t.flags|=4),"function"===typeof u.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof u.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof u.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),u.props=i,u.state=v,u.context=c,i=l):("function"!==typeof u.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof u.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Ji(e,t,n,i,a,o)}function Ji(e,t,n,r,i,o){Wi(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mt(t,n,!1),po(e,t,o);r=t.stateNode,Ui.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=yr(t,e.child,null,o),t.child=yr(t,null,u,o)):Yi(e,t,u,o),t.memoizedState=r.state,i&&Mt(t,n,!0),t.child}function Ki(e){var t=e.stateNode;t.pendingContext?yt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yt(e,t.context,!1),_r(e,t.containerInfo)}function Xi(e,t,n,r,i){return jn(),Tn(i),t.flags|=256,Yi(e,t,n,r),t.child}var $i,eo,to,no,ro={dehydrated:null,treeContext:null,retryLane:0};function io(e){return{baseLanes:e,cachePool:null,transitions:null}}function oo(e,t,n){var r,i=t.pendingProps,o=Er.current,a=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),lt(Er,1&o),null===e)return Nn(t),e=t.memoizedState,null!==e&&(e=e.dehydrated,null!==e)?(0===(1&t.mode)?t.lanes=1:Pe(e)?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,a?(i=t.mode,a=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=u):a=_u(u,i,0,null),e=Au(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=io(n),t.memoizedState=ro,e):ao(t,u));if(o=e.memoizedState,null!==o&&(r=o.dehydrated,null!==r))return so(e,t,u,i,r,o,n);if(a){a=i.fallback,u=t.mode,o=e.child,r=o.sibling;var s={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=s,t.deletions=null):(i=wu(o,s),i.subtreeFlags=14680064&o.subtreeFlags),null!==r?a=wu(r,a):(a=Au(a,u,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,u=e.child.memoizedState,u=null===u?io(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=ro,i}return a=e.child,e=a.sibling,i=wu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(n=t.deletions,null===n?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ao(e,t){return t=_u({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uo(e,t,n,r){return null!==r&&Tn(r),yr(t,e.child,null,n),e=ao(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function so(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,r=ji(Error(u(422))),uo(e,t,a,r)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=_u({mode:"visible",children:r.children},i,0,null),o=Au(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&yr(t,e.child,null,a),t.child.memoizedState=io(a),t.memoizedState=ro,o);if(0===(1&t.mode))return uo(e,t,a,null);if(Pe(i))return r=Re(i).digest,o=Error(u(419)),r=ji(o,r,void 0),uo(e,t,a,r);if(n=0!==(a&e.childLanes),Bi||n){if(r=pa,null!==r){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=0!==(i&(r.suspendedLanes|a))?0:i,0!==i&&i!==o.retryLane&&(o.retryLane=i,Kn(e,i),Qa(r,e,i,-1))}return nu(),r=ji(Error(u(421))),uo(e,t,a,r)}return Fe(i)?(t.flags|=128,t.child=e.child,t=vu.bind(null,e),Ue(i,t),null):(e=o.treeContext,K&&(Mn=He(i),bn=t,wn=!0,An=null,kn=!1,null!==e&&(dn[fn++]=pn,dn[fn++]=vn,dn[fn++]=hn,pn=e.id,vn=e.overflow,hn=t)),t=ao(t,r.children),t.flags|=4096,t)}function co(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Vn(e.return,t,n)}function lo(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function fo(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Yi(e,t,r.children,n),r=Er.current,0!==(2&r))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&co(e,n,t);else if(19===e.tag)co(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(Er,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)e=n.alternate,null!==e&&null===Dr(e)&&(i=n),n=n.sibling;n=i,null===n?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),lo(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(e=i.alternate,null!==e&&null===Dr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}lo(t,!0,n,null,o);break;case"together":lo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function po(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ma|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(u(153));if(null!==t.child){for(e=t.child,n=wu(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=wu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vo(e,t,n){switch(t.tag){case 3:Ki(t),jn();break;case 5:Sr(t);break;case 1:gt(t.type)&&bt(t);break;case 4:_r(t,t.stateNode.containerInfo);break;case 10:Qn(t,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(Er,1&Er.current),t.flags|=128,null):0!==(n&t.child.childLanes)?oo(e,t,n):(lt(Er,1&Er.current),e=po(e,t,n),null!==e?e.sibling:null);lt(Er,1&Er.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return fo(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(Er,Er.current),r)break;return null;case 22:case 23:return t.lanes=0,Gi(e,t,n)}return po(e,t,n)}function go(e){e.flags|=4}function mo(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Z)$i=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)U(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},eo=function(){},to=function(e,t,n,r,i){if(e=e.memoizedProps,e!==r){var o=t.stateNode,a=Ar(Mr.current);n=Y(o,n,e,r,i,a),(t.updateQueue=n)&&go(t)}},no=function(e,t,n,r){n!==r&&go(t)};else if(J){$i=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=je(o,i.type,i.memoizedProps,i)),U(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Te(o,i.memoizedProps,i)),U(e,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)o=i.child,null!==o&&(o.return=i),$i(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var yo=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=je(o,i.type,i.memoizedProps,i)),Ee(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Te(o,i.memoizedProps,i)),Ee(e,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)o=i.child,null!==o&&(o.return=i),yo(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};eo=function(e,t){var n=t.stateNode;if(!mo(e,t)){e=n.containerInfo;var r=Ne(e);yo(r,t,!1,!1),n.pendingChildren=r,go(t),De(e,r)}},to=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps;if((e=mo(e,t))&&a===r)t.stateNode=o;else{var u=t.stateNode,s=Ar(Mr.current),c=null;a!==r&&(c=Y(u,n,a,r,i,s)),e&&null===c?t.stateNode=o:(o=Se(o,c,n,a,r,t,e,u),B(o,n,r,i,s)&&go(t),t.stateNode=o,e?go(t):$i(o,t,!1,!1))}},no=function(e,t,n,r){n!==r?(e=Ar(kr.current),n=Ar(Mr.current),t.stateNode=H(r,e,n,t),go(t)):t.stateNode=e.stateNode}}else eo=function(){},to=function(){},no=function(){};function xo(e,t){if(!wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mo(e,t,n){var r=t.pendingProps;switch(xn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bo(t),null;case 1:return gt(t.type)&&mt(),bo(t),null;case 3:return n=t.stateNode,Ir(),ct(ht),ct(ft),jr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Dn(t)?go(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==An&&(Wa(An),An=null))),eo(e,t),bo(t),null;case 5:Nr(t),n=Ar(kr.current);var i=t.type;if(null!==e&&null!=t.stateNode)to(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(u(166));return bo(t),null}if(e=Ar(Mr.current),Dn(t)){if(!K)throw Error(u(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!kn),t.updateQueue=e,null!==e&&go(t)}else{var o=R(i,r,n,e,t);$i(o,t,!1,!1),t.stateNode=o,B(o,i,r,n,e)&&go(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return bo(t),null;case 6:if(e&&null!=t.stateNode)no(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(u(166));if(e=Ar(kr.current),n=Ar(Mr.current),Dn(t)){if(!K)throw Error(u(176));if(e=t.stateNode,n=t.memoizedProps,(r=Ge(e,n,t,!kn))&&(i=bn,null!==i))switch(i.tag){case 3:et(i.stateNode.containerInfo,e,n,0!==(1&i.mode));break;case 5:tt(i.type,i.memoizedProps,i.stateNode,e,n,0!==(1&i.mode))}r&&go(t)}else t.stateNode=H(r,e,n,t)}return bo(t),null;case 13:if(ct(Er),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(wn&&null!==Mn&&0!==(1&t.mode)&&0===(128&t.flags))Cn(),jn(),t.flags|=98560,i=!1;else if(i=Dn(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(u(318));if(!K)throw Error(u(344));if(i=t.memoizedState,i=null!==i?i.dehydrated:null,!i)throw Error(u(317));We(i,t)}else jn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;bo(t),i=!1}else null!==An&&(Wa(An),An=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,n!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Er.current)?0===xa&&(xa=3):nu())),null!==t.updateQueue&&(t.flags|=4),bo(t),null);case 4:return Ir(),eo(e,t),null===e&&$(t.stateNode.containerInfo),bo(t),null;case 10:return Hn(t.type._context),bo(t),null;case 17:return gt(t.type)&&mt(),bo(t),null;case 19:if(ct(Er),i=t.memoizedState,null===i)return bo(t),null;if(r=0!==(128&t.flags),o=i.rendering,null===o)if(r)xo(i,!1);else{if(0!==xa||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(o=Dr(e),null!==o){for(t.flags|=128,xo(i,!1),e=o.updateQueue,null!==e&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,n=t.child;null!==n;)r=n,i=e,r.flags&=14680066,o=r.alternate,null===o?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),n=n.sibling;return lt(Er,1&Er.current|2),t.child}e=e.sibling}null!==i.tail&&Ht()>Sa&&(t.flags|=128,r=!0,xo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Dr(o),null!==e){if(t.flags|=128,r=!0,e=e.updateQueue,null!==e&&(t.updateQueue=e,t.flags|=4),xo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!wn)return bo(t),null}else 2*Ht()-i.renderingStartTime>Sa&&1073741824!==n&&(t.flags|=128,r=!0,xo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,null!==e?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ht(),t.sibling=null,e=Er.current,lt(Er,r?1&e|2:1&e),t):(bo(t),null);case 22:case 23:return Xa(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&ma)&&(bo(t),Z&&6&t.subtreeFlags&&(t.flags|=8192)):bo(t),null;case 24:return null;case 25:return null}throw Error(u(156,t.tag))}function wo(e,t){switch(xn(t),t.tag){case 1:return gt(t.type)&&mt(),e=t.flags,65536&e?(t.flags=-65537&e|128,t):null;case 3:return Ir(),ct(ht),ct(ft),jr(),e=t.flags,0!==(65536&e)&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Nr(t),null;case 13:if(ct(Er),e=t.memoizedState,null!==e&&null!==e.dehydrated){if(null===t.alternate)throw Error(u(340));jn()}return e=t.flags,65536&e?(t.flags=-65537&e|128,t):null;case 19:return ct(Er),null;case 4:return Ir(),null;case 10:return Hn(t.type._context),null;case 22:case 23:return Xa(),null;case 24:return null;default:return null}}var ko=!1,Ao=!1,_o="function"===typeof WeakSet?WeakSet:Set,Io=null;function So(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(n){fu(e,t,n)}else n.current=null}function No(e,t,n){try{n()}catch(n){fu(e,t,n)}}var Eo=!1;function Do(e,t){for(F(e.containerInfo),Io=t;null!==Io;)if(e=Io,t=e.child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Io=t;else for(;null!==Io;){e=Io;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,o=e.stateNode,a=o.getSnapshotBeforeUpdate(e.elementType===e.type?r:Fn(e.type,r),i);o.__reactInternalSnapshotBeforeUpdate=a}break;case 3:Z&&Ie(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(t){fu(e,e.return,t)}if(t=e.sibling,null!==t){t.return=e.return,Io=t;break}Io=e.return}return n=Eo,Eo=!1,n}function Co(e,t,n){var r=t.updateQueue;if(r=null!==r?r.lastEffect:null,null!==r){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&No(t,n,o)}i=i.next}while(i!==r)}}function jo(e,t){if(t=t.updateQueue,t=null!==t?t.lastEffect:null,null!==t){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function To(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=z(n);break;default:e=n}"function"===typeof t?t(e):t.current=e}}function zo(e){var t=e.alternate;null!==t&&(e.alternate=null,zo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(t=e.stateNode,null!==t&&te(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oo(e){return 5===e.tag||3===e.tag||4===e.tag}function Lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Oo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Fo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ye(n,e,t):he(n,e);else if(4!==r&&(e=e.child,null!==e))for(Fo(e,t,n),e=e.sibling;null!==e;)Fo(e,t,n),e=e.sibling}function Po(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):fe(n,e);else if(4!==r&&(e=e.child,null!==e))for(Po(e,t,n),e=e.sibling;null!==e;)Po(e,t,n),e=e.sibling}var Ro=null,Uo=!1;function Bo(e,t,n){for(n=n.child;null!==n;)Yo(e,t,n),n=n.sibling}function Yo(e,t,n){if(Jt&&"function"===typeof Jt.onCommitFiberUnmount)try{Jt.onCommitFiberUnmount(Zt,n)}catch(e){}switch(n.tag){case 5:Ao||So(n,t);case 6:if(Z){var r=Ro,i=Uo;Ro=null,Bo(e,t,n),Ro=r,Uo=i,null!==Ro&&(Uo?be(Ro,n.stateNode):xe(Ro,n.stateNode))}else Bo(e,t,n);break;case 18:Z&&null!==Ro&&(Uo?Xe(Ro,n.stateNode):Ke(Ro,n.stateNode));break;case 4:Z?(r=Ro,i=Uo,Ro=n.stateNode.containerInfo,Uo=!0,Bo(e,t,n),Ro=r,Uo=i):(J&&(r=n.stateNode.containerInfo,i=Ne(r),Ce(r,i)),Bo(e,t,n));break;case 0:case 11:case 14:case 15:if(!Ao&&(r=n.updateQueue,null!==r&&(r=r.lastEffect,null!==r))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&No(n,t,a),i=i.next}while(i!==r)}Bo(e,t,n);break;case 1:if(!Ao&&(So(n,t),r=n.stateNode,"function"===typeof r.componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){fu(n,t,e)}Bo(e,t,n);break;case 21:Bo(e,t,n);break;case 22:1&n.mode?(Ao=(r=Ao)||null!==n.memoizedState,Bo(e,t,n),Ao=r):Bo(e,t,n);break;default:Bo(e,t,n)}}function Qo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new _o),t.forEach((function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ho(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t;if(Z){var s=a;e:for(;null!==s;){switch(s.tag){case 5:Ro=s.stateNode,Uo=!1;break e;case 3:Ro=s.stateNode.containerInfo,Uo=!0;break e;case 4:Ro=s.stateNode.containerInfo,Uo=!0;break e}s=s.return}if(null===Ro)throw Error(u(160));Yo(o,a,i),Ro=null,Uo=!1}else Yo(o,a,i);var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(e){fu(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Vo(t,e),t=t.sibling}function Vo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ho(t,e),Go(e),4&r){try{Co(3,e,e.return),jo(3,e)}catch(t){fu(e,e.return,t)}try{Co(5,e,e.return)}catch(t){fu(e,e.return,t)}}break;case 1:Ho(t,e),Go(e),512&r&&null!==n&&So(n,n.return);break;case 5:if(Ho(t,e),Go(e),512&r&&null!==n&&So(n,n.return),Z){if(32&e.flags){var i=e.stateNode;try{Me(i)}catch(t){fu(e,e.return,t)}}if(4&r&&(i=e.stateNode,null!=i)){var o=e.memoizedProps;if(n=null!==n?n.memoizedProps:o,r=e.type,t=e.updateQueue,e.updateQueue=null,null!==t)try{ge(i,t,r,n,o,e)}catch(t){fu(e,e.return,t)}}}break;case 6:if(Ho(t,e),Go(e),4&r&&Z){if(null===e.stateNode)throw Error(u(162));i=e.stateNode,o=e.memoizedProps,n=null!==n?n.memoizedProps:o;try{pe(i,n,o)}catch(t){fu(e,e.return,t)}}break;case 3:if(Ho(t,e),Go(e),4&r){if(Z&&K&&null!==n&&n.memoizedState.isDehydrated)try{Ze(t.containerInfo)}catch(t){fu(e,e.return,t)}if(J){i=t.containerInfo,o=t.pendingChildren;try{Ce(i,o)}catch(t){fu(e,e.return,t)}}}break;case 4:if(Ho(t,e),Go(e),4&r&&J){o=e.stateNode,i=o.containerInfo,o=o.pendingChildren;try{Ce(i,o)}catch(t){fu(e,e.return,t)}}break;case 13:Ho(t,e),Go(e),i=e.child,8192&i.flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ia=Ht())),4&r&&Qo(e);break;case 22:var a=null!==n&&null!==n.memoizedState;if(1&e.mode?(Ao=(n=Ao)||a,Ho(t,e),Ao=n):Ho(t,e),Go(e),8192&r){if(n=null!==e.memoizedState,(e.stateNode.isHidden=n)&&!a&&0!==(1&e.mode))for(Io=e,r=e.child;null!==r;){for(t=Io=r;null!==Io;){a=Io;var s=a.child;switch(a.tag){case 0:case 11:case 14:case 15:Co(4,a,a.return);break;case 1:So(a,a.return);var c=a.stateNode;if("function"===typeof c.componentWillUnmount){var l=a,d=a.return;try{var f=l;c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(e){fu(l,d,e)}}break;case 5:So(a,a.return);break;case 22:if(null!==a.memoizedState){Jo(t);continue}}null!==s?(s.return=a,Io=s):Jo(t)}r=r.sibling}if(Z)e:if(r=null,Z)for(t=e;;){if(5===t.tag){if(null===r){r=t;try{i=t.stateNode,n?we(i):Ae(t.stateNode,t.memoizedProps)}catch(t){fu(e,e.return,t)}}}else if(6===t.tag){if(null===r)try{o=t.stateNode,n?ke(o):_e(o,t.memoizedProps)}catch(t){fu(e,e.return,t)}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}}break;case 19:Ho(t,e),Go(e),4&r&&Qo(e);break;case 21:break;default:Ho(t,e),Go(e)}}function Go(e){var t=e.flags;if(2&t){try{if(Z){e:{for(var n=e.return;null!==n;){if(Oo(n)){var r=n;break e}n=n.return}throw Error(u(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(Me(i),r.flags&=-33);var o=Lo(e);Po(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Lo(e);Fo(e,s,a);break;default:throw Error(u(161))}}}catch(t){fu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Wo(e,t,n){Io=e,qo(e,t,n)}function qo(e,t,n){for(var r=0!==(1&e.mode);null!==Io;){var i=Io,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||ko;if(!a){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ao;u=ko;var c=Ao;if(ko=a,(Ao=s)&&!c)for(Io=i;null!==Io;)a=Io,s=a.child,22===a.tag&&null!==a.memoizedState?Ko(i):null!==s?(s.return=a,Io=s):Ko(i);for(;null!==o;)Io=o,qo(o,t,n),o=o.sibling;Io=i,ko=u,Ao=c}Zo(e,t,n)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Io=o):Zo(e,t,n)}}function Zo(e){for(;null!==Io;){var t=Io;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ao||jo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ao)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Fn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ar(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=z(t.child.stateNode);break;case 1:n=t.child.stateNode}ar(t,a,n)}break;case 5:var s=t.stateNode;null===n&&4&t.flags&&ve(s,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(K&&null===t.memoizedState){var c=t.alternate;if(null!==c){var l=c.memoizedState;if(null!==l){var d=l.dehydrated;null!==d&&Je(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163))}Ao||512&t.flags&&To(t)}catch(e){fu(t,t.return,e)}}if(t===e){Io=null;break}if(n=t.sibling,null!==n){n.return=t.return,Io=n;break}Io=t.return}}function Jo(e){for(;null!==Io;){var t=Io;if(t===e){Io=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Io=n;break}Io=t.return}}function Ko(e){for(;null!==Io;){var t=Io;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jo(4,t)}catch(e){fu(t,n,e)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){fu(t,i,e)}}var o=t.return;try{To(t)}catch(e){fu(t,o,e)}break;case 5:var a=t.return;try{To(t)}catch(e){fu(t,a,e)}}}catch(e){fu(t,t.return,e)}if(t===e){Io=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Io=u;break}Io=t.return}}var Xo=0,$o=1,ea=2,ta=3,na=4;if("function"===typeof Symbol&&Symbol.for){var ra=Symbol.for;Xo=ra("selector.component"),$o=ra("selector.has_pseudo_class"),ea=ra("selector.role"),ta=ra("selector.test_id"),na=ra("selector.text")}function ia(e){var t=X(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(u(364));return t}if(e=oe(e),null===e)throw Error(u(362));return e.stateNode.current}function oa(e,t){switch(t.$$typeof){case Xo:if(e.type===t.value)return!0;break;case $o:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!se(r)){for(;null!=o&&oa(r,o);)i++,o=t[i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case ea:if(5===e.tag&&ce(e.stateNode,t.value))return!0;break;case na:if((5===e.tag||6===e.tag)&&(e=ue(e),null!==e&&0<=e.indexOf(t.value)))return!0;break;case ta:if(5===e.tag&&(e=e.memoizedProps["data-testname"],"string"===typeof e&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(u(365))}return!1}function aa(e){switch(e.$$typeof){case Xo:return"<"+(A(e.value)||"Unknown")+">";case $o:return":has("+(aa(e)||"")+")";case ea:return'[role="'+e.value+'"]';case na:return'"'+e.value+'"';case ta:return'[data-testname="'+e.value+'"]';default:throw Error(u(365))}}function ua(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],o=e[r++],a=t[o];if(5!==i.tag||!se(i)){for(;null!=a&&oa(i,a);)o++,a=t[o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function sa(e,t){if(!ie)throw Error(u(363));e=ia(e),e=ua(e,t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var ca=Math.ceil,la=s.ReactCurrentDispatcher,da=s.ReactCurrentOwner,fa=s.ReactCurrentBatchConfig,ha=0,pa=null,va=null,ga=0,ma=0,ya=st(0),xa=0,ba=null,Ma=0,wa=0,ka=0,Aa=null,_a=null,Ia=0,Sa=1/0,Na=null;function Ea(){Sa=Ht()+500}var Da,Ca=!1,ja=null,Ta=null,za=!1,Oa=null,La=0,Fa=0,Pa=null,Ra=-1,Ua=0;function Ba(){return 0!==(6&ha)?Ht():-1!==Ra?Ra:Ra=Ht()}function Ya(e){return 0===(1&e.mode)?1:0!==(2&ha)&&0!==ga?ga&-ga:null!==zn.transition?(0===Ua&&(Ua=Tt()),Ua):(e=Pt,0!==e?e:ee())}function Qa(e,t,n,r){if(50<Fa)throw Fa=0,Pa=null,Error(u(185));Ot(e,n,r),0!==(2&ha)&&e===pa||(e===pa&&(0===(2&ha)&&(wa|=n),4===xa&&Za(e,ga)),Ha(e,r),1===n&&0===ha&&0===(1&t.mode)&&(Ea(),tn&&an()))}function Ha(e,t){var n=e.callbackNode;Ct(e,t);var r=Et(e,e===pa?ga:0);if(0===r)null!==n&&Bt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Bt(n),1===t)0===e.tag?on(Ja.bind(null,e)):rn(Ja.bind(null,e)),ne?re((function(){0===(6&ha)&&an()})):Ut(Vt,an),n=null;else{switch(Rt(r)){case 1:n=Vt;break;case 4:n=Gt;break;case 16:n=Wt;break;case 536870912:n=qt;break;default:n=Wt}n=mu(n,Va.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Va(e,t){if(Ra=-1,Ua=0,0!==(6&ha))throw Error(u(327));var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=Et(e,e===pa?ga:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ru(e,r);else{t=r;var i=ha;ha|=2;var o=tu();pa===e&&ga===t||(Na=null,Ea(),$a(e,t));do{try{ou();break}catch(t){eu(e,t)}}while(1);Yn(),la.current=o,ha=i,null!==va?t=0:(pa=null,ga=0,t=xa)}if(0!==t){if(2===t&&(i=jt(e),0!==i&&(r=i,t=Ga(e,i))),1===t)throw n=ba,$a(e,0),Za(e,r),Ha(e,Ht()),n;if(6===t)Za(e,r);else{if(i=e.current.alternate,0===(30&r)&&!qa(i)&&(t=ru(e,r),2===t&&(o=jt(e),0!==o&&(r=o,t=Ga(e,o))),1===t))throw n=ba,$a(e,0),Za(e,r),Ha(e,Ht()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(u(345));case 2:su(e,_a,Na);break;case 3:if(Za(e,r),(130023424&r)===r&&(t=Ia+500-Ht(),10<t)){if(0!==Et(e,0))break;if(i=e.suspendedLanes,(i&r)!==r){Ba(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=V(su.bind(null,e,_a,Na),t);break}su(e,_a,Na);break;case 4:if(Za(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-wt(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ca(r/1960))-r,10<r){e.timeoutHandle=V(su.bind(null,e,_a,Na),r);break}su(e,_a,Na);break;case 5:su(e,_a,Na);break;default:throw Error(u(329))}}}return Ha(e,Ht()),e.callbackNode===n?Va.bind(null,e):null}function Ga(e,t){var n=Aa;return e.current.memoizedState.isDehydrated&&($a(e,t).flags|=256),e=ru(e,t),2!==e&&(t=_a,_a=n,null!==t&&Wa(t)),e}function Wa(e){null===_a?_a=e:_a.push.apply(_a,e)}function qa(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&(n=n.stores,null!==n))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$t(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Za(e,t){for(t&=~ka,t&=~wa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Ja(e){if(0!==(6&ha))throw Error(u(327));lu();var t=Et(e,0);if(0===(1&t))return Ha(e,Ht()),null;var n=ru(e,t);if(0!==e.tag&&2===n){var r=jt(e);0!==r&&(t=r,n=Ga(e,r))}if(1===n)throw n=ba,$a(e,0),Za(e,t),Ha(e,Ht()),n;if(6===n)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,su(e,_a,Na),Ha(e,Ht()),null}function Ka(e){null!==Oa&&0===Oa.tag&&0===(6&ha)&&lu();var t=ha;ha|=1;var n=fa.transition,r=Pt;try{if(fa.transition=null,Pt=1,e)return e()}finally{Pt=r,fa.transition=n,ha=t,0===(6&ha)&&an()}}function Xa(){ma=ya.current,ct(ya)}function $a(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==W&&(e.timeoutHandle=W,G(n)),null!==va)for(n=va.return;null!==n;){var r=n;switch(xn(r),r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&mt();break;case 3:Ir(),ct(ht),ct(ft),jr();break;case 5:Nr(r);break;case 4:Ir();break;case 13:ct(Er);break;case 19:ct(Er);break;case 10:Hn(r.type._context);break;case 22:case 23:Xa()}n=n.return}if(pa=e,va=e=wu(e.current,null),ga=ma=t,xa=0,ba=null,ka=wa=Ma=0,_a=Aa=null,null!==qn){for(t=0;t<qn.length;t++)if(n=qn[t],r=n.interleaved,null!==r){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}qn=null}return e}function eu(e,t){do{var n=va;try{if(Yn(),Tr.current=Si,Rr){for(var i=Lr.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}Rr=!1}if(Or=0,Pr=Fr=Lr=null,Ur=!1,Br=0,da.current=null,null===n||null===n.return){xa=1,ba=t,va=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=ga,c.flags|=32768,null!==l&&"object"===r(l)&&"function"===typeof l.then){var d=l,f=c,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Pi(s);if(null!==v){v.flags&=-257,Ri(v,s,c,a,t),1&v.mode&&Fi(a,d,t),t=v,l=d;var g=t.updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0===(1&t)){Fi(a,d,t),nu();break e}l=Error(u(426))}else if(wn&&1&c.mode){var y=Pi(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Ri(y,s,c,a,t),Tn(Ci(l,c));break e}}a=l=Ci(l,c),4!==xa&&(xa=2),null===Aa?Aa=[a]:Aa.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Oi(a,l,t);ir(a,x);break e;case 1:c=l;var b=a.type,M=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==M&&"function"===typeof M.componentDidCatch&&(null===Ta||!Ta.has(M)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=Li(a,c,t);ir(a,w);break e}}a=a.return}while(null!==a)}uu(n)}catch(e){t=e,va===n&&null!==n&&(va=n=n.return);continue}break}while(1)}function tu(){var e=la.current;return la.current=Si,null===e?Si:e}function nu(){0!==xa&&3!==xa&&2!==xa||(xa=4),null===pa||0===(268435455&Ma)&&0===(268435455&wa)||Za(pa,ga)}function ru(e,t){var n=ha;ha|=2;var r=tu();pa===e&&ga===t||(Na=null,$a(e,t));do{try{iu();break}catch(t){eu(e,t)}}while(1);if(Yn(),ha=n,la.current=r,null!==va)throw Error(u(261));return pa=null,ga=0,xa}function iu(){for(;null!==va;)au(va)}function ou(){for(;null!==va&&!Yt();)au(va)}function au(e){var t=Da(e.alternate,e,ma);e.memoizedProps=e.pendingProps,null===t?uu(e):va=t,da.current=null}function uu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(n=Mo(n,t,ma),null!==n)return void(va=n)}else{if(n=wo(n,t),null!==n)return n.flags&=32767,void(va=n);if(null===e)return xa=6,void(va=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(t=t.sibling,null!==t)return void(va=t);va=t=e}while(null!==t);0===xa&&(xa=5)}function su(e,t,n){var r=Pt,i=fa.transition;try{fa.transition=null,Pt=1,cu(e,t,n,r)}finally{fa.transition=i,Pt=r}return null}function cu(e,t,n,r){do{lu()}while(null!==Oa);if(0!==(6&ha))throw Error(u(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Lt(e,o),e===pa&&(va=pa=null,ga=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||za||(za=!0,mu(Wt,(function(){return lu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=fa.transition,fa.transition=null;var a=Pt;Pt=1;var s=ha;ha|=4,da.current=null,Do(e,n),Vo(n,e),P(e.containerInfo),e.current=n,Wo(n,e,i),Qt(),ha=s,Pt=a,fa.transition=o}else e.current=n;if(za&&(za=!1,Oa=e,La=i),o=e.pendingLanes,0===o&&(Ta=null),Kt(n.stateNode,r),Ha(e,Ht()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ca)throw Ca=!1,e=ja,ja=null,e;return 0!==(1&La)&&0!==e.tag&&lu(),o=e.pendingLanes,0!==(1&o)?e===Pa?Fa++:(Fa=0,Pa=e):Fa=0,an(),null}function lu(){if(null!==Oa){var e=Rt(La),t=fa.transition,n=Pt;try{if(fa.transition=null,Pt=16>e?16:e,null===Oa)var r=!1;else{if(e=Oa,Oa=null,La=0,0!==(6&ha))throw Error(u(331));var i=ha;for(ha|=4,Io=e.current;null!==Io;){var o=Io,a=o.child;if(0!==(16&Io.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Io=l;null!==Io;){var d=Io;switch(d.tag){case 0:case 11:case 15:Co(8,d,o)}var f=d.child;if(null!==f)f.return=d,Io=f;else for(;null!==Io;){d=Io;var h=d.sibling,p=d.return;if(zo(d),d===l){Io=null;break}if(null!==h){h.return=p,Io=h;break}Io=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Io=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Io=a;else e:for(;null!==Io;){if(o=Io,0!==(2048&o.flags))switch(o.tag){case 0:case 11:case 15:Co(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Io=y;break e}Io=o.return}}var x=e.current;for(Io=x;null!==Io;){a=Io;var b=a.child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Io=b;else e:for(a=x;null!==Io;){if(s=Io,0!==(2048&s.flags))try{switch(s.tag){case 0:case 11:case 15:jo(9,s)}}catch(e){fu(s,s.return,e)}if(s===a){Io=null;break e}var M=s.sibling;if(null!==M){M.return=s.return,Io=M;break e}Io=s.return}}if(ha=i,an(),Jt&&"function"===typeof Jt.onPostCommitFiberRoot)try{Jt.onPostCommitFiberRoot(Zt,e)}catch(e){}r=!0}return r}finally{Pt=n,fa.transition=t}}return!1}function du(e,t,n){t=Ci(n,t),t=Oi(e,t,1),e=nr(e,t,1),t=Ba(),null!==e&&(Ot(e,1,t),Ha(e,t))}function fu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ta||!Ta.has(r))){e=Ci(n,e),e=Li(t,e,1),t=nr(t,e,1),e=Ba(),null!==t&&(Ot(t,1,e),Ha(t,e));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ba(),e.pingedLanes|=e.suspendedLanes&n,pa===e&&(ga&n)===n&&(4===xa||3===xa&&(130023424&ga)===ga&&500>Ht()-Ia?$a(e,0):ka|=n),Ha(e,t)}function pu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=St,St<<=1,0===(130023424&St)&&(St=4194304)));var n=Ba();e=Kn(e,t),null!==e&&(Ot(e,t,n),Ha(e,n))}function vu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(u(314))}null!==r&&r.delete(t),pu(e,n)}function mu(e,t){return Ut(e,t)}function yu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xu(e,t,n,r){return new yu(e,t,n,r)}function bu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mu(e){if("function"===typeof e)return bu(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===g)return 11;if(e===x)return 14}return 2}function wu(e,t){var n=e.alternate;return null===n?(n=xu(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ku(e,t,n,i,o,a){var s=2;if(i=e,"function"===typeof e)bu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case d:return Au(n.children,o,a,t);case f:s=8,o|=8;break;case h:return e=xu(12,n,t,2|o),e.elementType=h,e.lanes=a,e;case m:return e=xu(13,n,t,o),e.elementType=m,e.lanes=a,e;case y:return e=xu(19,n,t,o),e.elementType=y,e.lanes=a,e;case M:return _u(n,o,a,t);default:if("object"===r(e)&&null!==e)switch(e.$$typeof){case p:s=10;break e;case v:s=9;break e;case g:s=11;break e;case x:s=14;break e;case b:s=16,i=null;break e}throw Error(u(130,null==e?e:r(e),""))}return t=xu(s,n,t,o),t.elementType=e,t.type=i,t.lanes=a,t}function Au(e,t,n,r){return e=xu(7,e,r,t),e.lanes=n,e}function _u(e,t,n,r){return e=xu(22,e,r,t),e.elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Iu(e,t,n){return e=xu(6,e,null,t),e.lanes=n,e}function Su(e,t,n){return t=xu(4,null!==e.children?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=W,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.identifierPrefix=r,this.onRecoverableError=i,K&&(this.mutableSourceEagerHydrationData=null)}function Eu(e,t,n,r,i,o,a,u,s){return e=new Nu(e,t,n,u,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=xu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$n(o),e}function Du(e){if(!e)return dt;e=e._reactInternals;e:{if(I(e)!==e||1!==e.tag)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(u(171))}if(1===e.tag){var n=e.type;if(gt(n))return xt(e,n,t)}return t}function Cu(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(u(188));throw e=Object.keys(e).join(","),Error(u(268,e))}return e=E(t),null===e?null:e.stateNode}function ju(e,t){if(e=e.memoizedState,null!==e&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Tu(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function zu(e){return e=E(e),null===e?null:e.stateNode}function Ou(){return null}return Da=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ht.current)Bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Bi=!1,vo(e,t,n);Bi=0!==(131072&e.flags)}else Bi=!1,wn&&0!==(1048576&t.flags)&&mn(t,ln,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ho(e,t),e=t.pendingProps;var o=vt(t,ft.current);Gn(t,n),o=Vr(null,t,i,e,o,n);var a=Gr();return t.flags|=1,"object"===r(o)&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(i)?(a=!0,bt(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,$n(t),o.updater=cr,t.stateNode=o,o._reactInternals=t,hr(t,i,e,n),t=Ji(null,t,i,!0,a,n)):(t.tag=0,wn&&a&&yn(t),Yi(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(ho(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=Mu(i),e=Fn(i,e),o){case 0:t=qi(null,t,i,e,n);break e;case 1:t=Zi(null,t,i,e,n);break e;case 11:t=Qi(null,t,i,e,n);break e;case 14:t=Hi(null,t,i,Fn(i.type,e),n);break e}throw Error(u(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Fn(i,o),qi(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Fn(i,o),Zi(e,t,i,o,n);case 3:e:{if(Ki(t),null===e)throw Error(u(387));i=t.pendingProps,a=t.memoizedState,o=a.element,er(e,t),or(t,i,null,n);var s=t.memoizedState;if(i=s.element,K&&a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){o=Ci(Error(u(423)),t),t=Xi(e,t,i,n,o);break e}if(i!==o){o=Ci(Error(u(424)),t),t=Xi(e,t,i,n,o);break e}for(K&&(Mn=Qe(t.stateNode.containerInfo),bn=t,wn=!0,An=null,kn=!1),n=xr(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(jn(),i===o){t=po(e,t,n);break e}Yi(e,t,i,n)}t=t.child}return t;case 5:return Sr(t),null===e&&Nn(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,Q(i,o)?s=null:null!==a&&Q(i,a)&&(t.flags|=32),Wi(e,t),Yi(e,t,s,n),t.child;case 6:return null===e&&Nn(t),null;case 13:return oo(e,t,n);case 4:return _r(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=yr(t,null,i,n):Yi(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Fn(i,o),Qi(e,t,i,o,n);case 7:return Yi(e,t,t.pendingProps,n),t.child;case 8:return Yi(e,t,t.pendingProps.children,n),t.child;case 12:return Yi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Qn(t,i,s),null!==a)if($t(a.value,s)){if(a.children===o.children&&!ht.current){t=po(e,t,n);break e}}else for(a=t.child,null!==a&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===i){if(1===a.tag){l=tr(-1,n&-n),l.tag=2;var d=a.updateQueue;if(null!==d){d=d.shared;var f=d.pending;null===f?l.next=l:(l.next=f.next,f.next=l),d.pending=l}}a.lanes|=n,l=a.alternate,null!==l&&(l.lanes|=n),Vn(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(s=a.return,null===s)throw Error(u(341));s.lanes|=n,c=s.alternate,null!==c&&(c.lanes|=n),Vn(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(a=s.sibling,null!==a){a.return=s.return,s=a;break}s=s.return}a=s}Yi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Gn(t,n),o=Wn(o),i=i(o),t.flags|=1,Yi(e,t,i,n),t.child;case 14:return i=t.type,o=Fn(i,t.pendingProps),o=Fn(i.type,o),Hi(e,t,i,o,n);case 15:return Vi(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Fn(i,o),ho(e,t),t.tag=1,gt(i)?(e=!0,bt(t)):e=!1,Gn(t,n),dr(t,i,o),hr(t,i,o,n),Ji(null,t,i,!0,e,n);case 19:return fo(e,t,n);case 22:return Gi(e,t,n)}throw Error(u(156,t.tag))},t.attemptContinuousHydration=function(e){if(13===e.tag){var t=Kn(e,134217728);if(null!==t){var n=Ba();Qa(t,e,134217728,n)}Tu(e,134217728)}},t.attemptDiscreteHydration=function(e){if(13===e.tag){var t=Kn(e,1);if(null!==t){var n=Ba();Qa(t,e,1,n)}Tu(e,1)}},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Ya(e),n=Kn(e,t);if(null!==n){var r=Ba();Qa(n,e,t,r)}Tu(e,t)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nt(t.pendingLanes);0!==n&&(Ft(t,1|n),Ha(t,Ht()),0===(6&ha)&&(Ea(),an()))}break;case 13:Ka((function(){var t=Kn(e,1);if(null!==t){var n=Ba();Qa(t,e,1,n)}})),Tu(e,1)}},t.batchedUpdates=function(e,t){var n=ha;ha|=1;try{return e(t)}finally{ha=n,0===ha&&(Ea(),tn&&an())}},t.createComponentSelector=function(e){return{$$typeof:Xo,value:e}},t.createContainer=function(e,t,n,r,i,o,a){return Eu(e,t,!1,null,n,r,i,o,a)},t.createHasPseudoClassSelector=function(e){return{$$typeof:$o,value:e}},t.createHydrationContainer=function(e,t,n,r,i,o,a,u,s){return e=Eu(n,r,!0,e,i,o,a,u,s),e.context=Du(null),n=e.current,r=Ba(),i=Ya(n),o=tr(r,i),o.callback=void 0!==t&&null!==t?t:null,nr(n,o,i),e.current.lanes=i,Ot(e,i,r),Ha(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:ea,value:e}},t.createTestNameSelector=function(e){return{$$typeof:ta,value:e}},t.createTextSelector=function(e){return{$$typeof:na,value:e}},t.deferredUpdates=function(e){var t=Pt,n=fa.transition;try{return fa.transition=null,Pt=16,e()}finally{Pt=t,fa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var o=Pt,a=fa.transition;try{return fa.transition=null,Pt=1,e(t,n,r,i)}finally{Pt=o,fa.transition=a,0===ha&&Ea()}},t.findAllNodes=sa,t.findBoundingRects=function(e,t){if(!ie)throw Error(u(363));t=sa(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var r=n.x,i=r+n.width,o=n.y,a=o+n.height,s=t-1;0<=s;s--)if(t!==s){var c=e[s],l=c.x,d=l+c.width,f=c.y,h=f+c.height;if(r>=l&&o>=f&&i<=d&&a<=h){e.splice(t,1);break}if(!(r!==l||n.width!==c.width||h<o||f>a)){f>o&&(c.height+=f-o,c.y=o),h<a&&(c.height=a-f),e.splice(t,1);break}if(!(o!==f||n.height!==c.height||d<r||l>i)){l>r&&(c.width+=l-r,c.x=r),d<i&&(c.width=i-l),e.splice(t,1);break}}}return e},t.findHostInstance=Cu,t.findHostInstanceWithNoPortals=function(e){return e=N(e),e=null!==e?C(e):null,null===e?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return Cu(e)},t.flushControlled=function(e){var t=ha;ha|=1;var n=fa.transition,r=Pt;try{fa.transition=null,Pt=1,e()}finally{Pt=r,fa.transition=n,ha=t,0===ha&&(Ea(),an())}},t.flushPassiveEffects=lu,t.flushSync=Ka,t.focusWithin=function(e,t){if(!ie)throw Error(u(363));for(e=ia(e),t=ua(e,t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Pt},t.getFindAllNodesFailureDescription=function(e,t){if(!ie)throw Error(u(363));var n=0,r=[];e=[ia(e),0];for(var i=0;i<e.length;){var o=e[i++],a=e[i++],s=t[a];if((5!==o.tag||!se(o))&&(oa(o,s)&&(r.push(aa(s)),a++,a>n&&(n=a)),a<t.length))for(o=o.child;null!==o;)e.push(o,a),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(aa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return z(e.child.stateNode);default:return e.child.stateNode}},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:zu,findFiberByHostInstance:e.findFiberByHostInstance||Ou,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Zt=t.inject(e),Jt=t}catch(e){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!ie)throw Error(u(363));e=sa(e,t);var i=de(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Pt;try{return Pt=e,t()}finally{Pt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,o=Ba(),a=Ya(i);return n=Du(n),null===t.context?t.context=n:t.pendingContext=n,t=tr(o,a),t.payload={element:e},r=void 0===r?null:r,null!==r&&(t.callback=r),e=nr(i,t,a),null!==e&&(Qa(e,i,a,o),rr(e,i,a)),a},t}},2924:function(e,t,n){"use strict";e.exports=n(4391)},3157:function(e,t,n){"use strict";e.exports=n(9983)},3790:function(e,t,n){"use strict";var r=n(8670),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:u.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1777:function(e,t,n){"use strict";var r=n(974)["default"],i=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function g(e){return null===e||"object"!==r(e)?null:(e=v&&e[v]||e["@@iterator"],"function"===typeof e?e:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function b(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||m}function M(){}function w(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==r(e)&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},M.prototype=b.prototype;var k=w.prototype=new M;k.constructor=w,y(k,b.prototype),k.isPureReactComponent=!0;var A=Array.isArray,_=Object.prototype.hasOwnProperty,I={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,o={},a=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:e,key:a,ref:u,props:o,_owner:I.current}}function E(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function D(e){return"object"===r(e)&&null!==e&&e.$$typeof===i}function C(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}var j=/\/+/g;function T(e,t){return"object"===r(e)&&null!==e&&null!=e.key?C(""+e.key):t.toString(36)}function z(e,t,n,a,u){var s=r(e);"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case o:c=!0}}if(c)return c=e,u=u(c),e=""===a?"."+T(c,0):a,A(u)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),z(u,t,n,"",(function(e){return e}))):null!=u&&(D(u)&&(u=E(u,n+(!u.key||c&&c.key===u.key?"":(""+u.key).replace(j,"$&/")+"/")+e)),t.push(u)),1;if(c=0,a=""===a?".":a+":",A(e))for(var l=0;l<e.length;l++){s=e[l];var d=a+T(s,l);c+=z(s,t,n,d,u)}else if(d=g(e),"function"===typeof d)for(e=d.call(e),l=0;!(s=e.next()).done;)s=s.value,d=a+T(s,l++),c+=z(s,t,n,d,u);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function O(e,t,n){if(null==e)return e;var r=[],i=0;return z(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;t=t(),t.then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},P={transition:null},R={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:P,ReactCurrentOwner:I};function U(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!D(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=a,t.Profiler=s,t.PureComponent=w,t.StrictMode=u,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=U,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=y({},e.props),o=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:i,type:e.type,key:o,ref:a,props:r,_owner:u}},t.createContext=function(e){return e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=D,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=U,t.useCallback=function(e,t){return F.current.useCallback(e,t)},t.useContext=function(e){return F.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return F.current.useDeferredValue(e)},t.useEffect=function(e,t){return F.current.useEffect(e,t)},t.useId=function(){return F.current.useId()},t.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return F.current.useMemo(e,t)},t.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},t.useRef=function(e){return F.current.useRef(e)},t.useState=function(e){return F.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return F.current.useTransition()},t.version="18.3.1"},8670:function(e,t,n){"use strict";e.exports=n(1777)},6382:function(e,t,n){"use strict";e.exports=n(3790)},8629:function(e,t,n){"use strict";var r=n(2340)["navigator"],i=n(974)["default"];function o(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function a(e){return 0===e.length?null:e[0]}function u(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,u=e[a],c=a+1,l=e[c];if(0>s(u,n))c<i&&0>s(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[a]=n,r=a);else{if(!(c<i&&0>s(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===("undefined"===typeof performance?"undefined":i(performance))&&"function"===typeof performance.now){var c=performance;t.unstable_now=function(){return c.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,v=null,g=3,m=!1,y=!1,x=!1,b="function"===typeof setTimeout?setTimeout:null,M="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=a(h);null!==t;){if(null===t.callback)u(h);else{if(!(t.startTime<=e))break;u(h),t.sortIndex=t.expirationTime,o(f,t)}t=a(h)}}function A(e){if(x=!1,k(e),!y)if(null!==a(f))y=!0,L(_);else{var t=a(h);null!==t&&F(A,t.startTime-e)}}function _(e,n){y=!1,x&&(x=!1,M(E),E=-1),m=!0;var r=g;try{for(k(n),v=a(f);null!==v&&(!(v.expirationTime>n)||e&&!j());){var i=v.callback;if("function"===typeof i){v.callback=null,g=v.priorityLevel;var o=i(v.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?v.callback=o:v===a(f)&&u(f),k(n)}else u(f);v=a(f)}if(null!==v)var s=!0;else{var c=a(h);null!==c&&F(A,c.startTime-n),s=!1}return s}finally{v=null,g=r,m=!1}}"undefined"!==typeof r&&void 0!==r.scheduling&&void 0!==r.scheduling.isInputPending&&r.scheduling.isInputPending.bind(r.scheduling);var I,S=!1,N=null,E=-1,D=5,C=-1;function j(){return!(t.unstable_now()-C<D)}function T(){if(null!==N){var e=t.unstable_now();C=e;var n=!0;try{n=N(!0,e)}finally{n?I():(S=!1,N=null)}}else S=!1}if("function"===typeof w)I=function(){w(T)};else if("undefined"!==typeof MessageChannel){var z=new MessageChannel,O=z.port2;z.port1.onmessage=T,I=function(){O.postMessage(null)}}else I=function(){b(T,0)};function L(e){N=e,S||(S=!0,I())}function F(e,n){E=b((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,L(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return a(f)},t.unstable_next=function(e){switch(g){case 1:case 2:case 3:var t=3;break;default:t=g}var n=g;g=t;try{return e()}finally{g=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=g;g=e;try{return t()}finally{g=n}},t.unstable_scheduleCallback=function(e,n,r){var u=t.unstable_now();switch("object"===i(r)&&null!==r?(r=r.delay,r="number"===typeof r&&0<r?u+r:u):r=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=r+s,e={id:p++,callback:n,priorityLevel:e,startTime:r,expirationTime:s,sortIndex:-1},r>u?(e.sortIndex=r,o(h,e),null===a(f)&&e===a(h)&&(x?(M(E),E=-1):x=!0,F(A,r-u))):(e.sortIndex=s,o(f,e),y||m||(y=!0,L(_))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=g;return function(){var n=g;g=t;try{return e.apply(this,arguments)}finally{g=n}}}},3808:function(e,t,n){"use strict";e.exports=n(8629)},6936:function(e,t,n){"use strict";var r=n(2340)["window"],i=n(8670);function o(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var a="function"===typeof Object.is?Object.is:o,u=i.useState,s=i.useEffect,c=i.useLayoutEffect,l=i.useDebugValue;function d(e,t){var n=t(),r=u({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return c((function(){i.value=n,i.getSnapshot=t,f(i)&&o({inst:i})}),[e,n,t]),s((function(){return f(i)&&o({inst:i}),e((function(){f(i)&&o({inst:i})}))}),[e]),l(n),n}function f(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}function h(e,t){return t()}var p="undefined"===typeof r||"undefined"===typeof r.document||"undefined"===typeof r.document.createElement?h:d;t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:p},1155:function(e,t,n){"use strict";var r=n(8670),i=n(1091);function o(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var a="function"===typeof Object.is?Object.is:o,u=i.useSyncExternalStore,s=r.useRef,c=r.useEffect,l=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=s(null);if(null===o.current){var f={hasValue:!1,value:null};o.current=f}else f=o.current;o=l((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var h=u(e,o[0],o[1]);return c((function(){f.hasValue=!0,f.value=h}),[h]),d(h),h}},1091:function(e,t,n){"use strict";e.exports=n(6936)},6521:function(e,t,n){"use strict";e.exports=n(1155)},1862:function(e){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},4819:function(e,t,n){var r=n(676).FilterCSS,i=n(676).getDefaultWhiteList,o=n(2332);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var u=new r;function s(e,t,n){}function c(e,t,n){}function l(e,t,n){}function d(e,t,n){}function f(e){return e.replace(p,"&lt;").replace(v,"&gt;")}function h(e,t,n,r){if(n=E(n),"href"===t||"src"===t){if(n=o.trim(n),"#"===n)return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(M.lastIndex=0,M.test(n))return""}else if("style"===t){if(w.lastIndex=0,w.test(n))return"";if(k.lastIndex=0,k.test(n)&&(M.lastIndex=0,M.test(n)))return"";!1!==r&&(r=r||u,n=r.process(n))}return n=D(n),n}var p=/</g,v=/>/g,g=/"/g,m=/&quot;/g,y=/&#([a-zA-Z0-9]*);?/gim,x=/&colon;?/gim,b=/&newline;?/gim,M=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,w=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,k=/u\s*r\s*l\s*\(.*/gi;function A(e){return e.replace(g,"&quot;")}function _(e){return e.replace(m,'"')}function I(e){return e.replace(y,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function S(e){return e.replace(x,":").replace(b," ")}function N(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return o.trim(t)}function E(e){return e=_(e),e=I(e),e=S(e),e=N(e),e}function D(e){return e=A(e),e=f(e),e}function C(){return""}function j(e,t){"function"!==typeof t&&(t=function(){});var n=!Array.isArray(e);function r(t){return!!n||-1!==o.indexOf(e,t)}var i=[],a=!1;return{onIgnoreTag:function(e,n,o){if(r(e)){if(o.isClosing){var u="[/removed]",s=o.position+u.length;return i.push([!1!==a?a:o.position,s]),a=!1,u}return a||(a=o.position),"[removed]"}return t(e,n,o)},remove:function(e){var t="",n=0;return o.forEach(i,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n),t}}}function T(e){var t="",n=0;while(n<e.length){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var i=e.indexOf("--\x3e",r);if(-1===i)break;n=i+3}return t}function z(e){var t=e.split("");return t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))})),t.join("")}t.whiteList=a(),t.getDefaultWhiteList=a,t.onTag=s,t.onIgnoreTag=c,t.onTagAttr=l,t.onIgnoreTagAttr=d,t.safeAttrValue=h,t.escapeHtml=f,t.escapeQuote=A,t.unescapeQuote=_,t.escapeHtmlEntities=I,t.escapeDangerHtml5Entities=S,t.clearNonPrintableCharacter=N,t.friendlyAttrValue=E,t.escapeAttrValue=D,t.onIgnoreTagStripAll=C,t.StripTagBody=j,t.stripCommentTag=T,t.stripBlankChar=z,t.attributeWrapSign='"',t.cssFilter=u,t.getDefaultCSSWhiteList=i},4690:function(e,t,n){var r=n(2340)["window"],i=n(4819),o=n(1691),a=n(8500);function u(e,t){var n=new a(t);return n.process(e)}function s(){return"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope}t=e.exports=u,t.filterXSS=u,t.FilterXSS=a,function(){for(var e in i)t[e]=i[e];for(var n in o)t[n]=o[n]}(),"undefined"!==typeof r&&(r.filterXSS=e.exports),s()&&(self.filterXSS=e.exports)},1691:function(e,t,n){var r=n(2332);function i(e){var t,n=r.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),t=r.trim(t).toLowerCase(),"/"===t.slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function o(e){return"</"===e.slice(0,2)}function a(e,t,n){"use strict";var r="",a=0,u=!1,s=!1,c=0,l=e.length,d="",f="";e:for(c=0;c<l;c++){var h=e.charAt(c);if(!1===u){if("<"===h){u=c;continue}}else if(!1===s){if("<"===h){r+=n(e.slice(a,c)),u=c,a=c;continue}if(">"===h||c===l-1){r+=n(e.slice(a,u)),f=e.slice(u,c+1),d=i(f),r+=t(u,r.length,d,f,o(f)),a=c+1,u=!1;continue}if('"'===h||"'"===h){var p=1,v=e.charAt(c-p);while(""===v.trim()||"="===v){if("="===v){s=h;continue e}v=e.charAt(c-++p)}}}else if(h===s){s=!1;continue}}return a<l&&(r+=n(e.substr(a))),r}var u=/[^a-zA-Z0-9\\_:.-]/gim;function s(e,t){"use strict";var n=0,i=0,o=[],a=!1,s=e.length;function f(e,n){if(e=r.trim(e),e=e.replace(u,"").toLowerCase(),!(e.length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var p=0;p<s;p++){var v,g,m=e.charAt(p);if(!1!==a||"="!==m)if(!1===a||p!==i)if(/\s|\n|\t/.test(m)){if(e=e.replace(/\s|\n|\t/g," "),!1===a){if(g=c(e,p),-1===g){v=r.trim(e.slice(n,p)),f(v),a=!1,n=p+1;continue}p=g-1;continue}if(g=d(e,p-1),-1===g){v=r.trim(e.slice(n,p)),v=h(v),f(a,v),a=!1,n=p+1;continue}}else;else{if(g=e.indexOf(m,p+1),-1===g)break;v=r.trim(e.slice(i+1,g)),f(a,v),a=!1,p=g,n=p+1}else a=e.slice(n,p),n=p+1,i='"'===e.charAt(n)||"'"===e.charAt(n)?n:l(e,p+1)}return n<e.length&&(!1===a?f(e.slice(n)):f(a,h(r.trim(e.slice(n))))),r.trim(o.join(" "))}function c(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}function d(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function f(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function h(e){return f(e)?e.substr(1,e.length-2):e}t.parseTag=a,t.parseAttr=s},2332:function(e){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}}},8500:function(e,t,n){var r=n(676).FilterCSS,i=n(4819),o=n(1691),a=o.parseTag,u=o.parseAttr,s=n(2332);function c(e){return void 0===e||null===e}function l(e){var t=s.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};e=s.trim(e.slice(t+1,-1));var n="/"===e[e.length-1];return n&&(e=s.trim(e.slice(0,-1))),{html:e,closing:n}}function d(e){var t={};for(var n in e)t[n]=e[n];return t}function f(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n];return t}function h(e){e=d(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=i.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=f(e.whiteList||e.allowList):e.whiteList=i.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":i.attributeWrapSign,e.onTag=e.onTag||i.onTag,e.onTagAttr=e.onTagAttr||i.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||i.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||i.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||i.safeAttrValue,e.escapeHtml=e.escapeHtml||i.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}h.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,o=n.onTag,d=n.onIgnoreTag,f=n.onTagAttr,h=n.onIgnoreTagAttr,p=n.safeAttrValue,v=n.escapeHtml,g=t.attributeWrapSign,m=t.cssFilter;n.stripBlankChar&&(e=i.stripBlankChar(e)),n.allowCommentTag||(e=i.stripCommentTag(e));var y=!1;n.stripIgnoreTagBody&&(y=i.StripTagBody(n.stripIgnoreTagBody,d),d=y.onIgnoreTag);var x=a(e,(function(e,t,n,i,a){var y={sourcePosition:e,position:t,isClosing:a,isWhite:Object.prototype.hasOwnProperty.call(r,n)},x=o(n,i,y);if(!c(x))return x;if(y.isWhite){if(y.isClosing)return"</"+n+">";var b=l(i),M=r[n],w=u(b.html,(function(e,t){var r=-1!==s.indexOf(M,e),i=f(n,e,t,r);return c(i)?r?(t=p(n,e,t,m),t?e+"="+g+t+g:e):(i=h(n,e,t,r),c(i)?void 0:i):i}));return i="<"+n,w&&(i+=" "+w),b.closing&&(i+=" /"),i+=">",i}return x=d(n,i,y),c(x)?v(i):x}),v);return y&&(x=y.remove(x)),x},e.exports=h},3106:function(){},786:function(){},6982:function(){},9075:function(){},974:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports},2660:function(e,t,n){var r,i,o=n(2340)["window"],a=n(974)["default"];(function(){"use strict";var u={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,c(n)))}return e}function c(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==a(e))return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)u.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):"object"===a(n.amdO)&&n.amdO?(r=[],i=function(){return s}.apply(t,r),void 0===i||(e.exports=i)):o.classNames=s})()},2922:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(9966);function i(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=(0,r.A)(e)););return e}},6526:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(2922);function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=(0,r.A)(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(null,arguments)}var o=n(9966);function a(e,t,n,r){var a=i((0,o.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof a?function(e){return a.apply(n,e)}:a}},8455:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(2922),i=n(9375);function o(e,t,n,a){return o="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,o){var a,u=(0,r.A)(e,t);if(u){if((a=Object.getOwnPropertyDescriptor(u,t)).set)return a.set.call(o,n),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(o,t)){if(!a.writable)return!1;a.value=n,Object.defineProperty(o,t,a)}else(0,i.A)(o,t,n);return!0},o(e,t,n,a)}function a(e,t,n,r,i){if(!o(e,t,n,r||e)&&i)throw new TypeError("failed to set property");return n}var u=n(9966);function s(e,t,n,r,i,o){return a((0,u.A)(o?e.prototype:e),t,n,r,i)}},3203:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(3461),i=n(2153),o=n(3772),a=n(8846);function u(e){return(0,r.A)(e)||(0,i.A)(e)||(0,o.A)(e)||(0,a.A)()}},2469:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(9966),i=n(994);function o(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}var a=n(7580);function u(e,t,n){if((0,a.A)())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&(0,i.A)(o,n.prototype),o}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,(0,r.A)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,i.A)(n,e)},s(e)}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[907,96],(function(){return t(3460)}));e.O()}]);